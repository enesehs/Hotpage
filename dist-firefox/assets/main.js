import{r as y,j as n,i as jo,a as So,g as Ee,w as Un,b as _o,c as No,d as To,u as Co,e as zo}from"./icons.js";const Io=({locale:e="system"})=>{const[t,r]=y.useState(new Date);y.useEffect(()=>{const i=()=>{r(new Date);const m=1e3-Date.now()%1e3;return setTimeout(()=>{r(new Date);const x=setInterval(()=>{r(new Date)},1e3);i.intervalId=x},m)},c=i();return()=>{clearTimeout(c),i.intervalId&&clearInterval(i.intervalId)}},[]);const o=()=>{if(!(!e||e==="system"))return e},s=i=>i.toLocaleTimeString(o(),{hour:"2-digit",minute:"2-digit"}),a=i=>i.toLocaleDateString(o(),{weekday:"long",month:"long",day:"numeric",year:"numeric"});return n.jsxs("div",{className:"clock",children:[n.jsx("div",{className:"clock-time",children:s(t)}),n.jsx("div",{className:"clock-date",children:a(t)})]})},Ao=()=>{const[e,t]=y.useState(""),[r,o]=y.useState(null),[s,a]=y.useState(!1),i=y.useRef(null);y.useEffect(()=>{a(typeof chrome<"u"&&chrome.search&&typeof chrome.search.query=="function")},[]),y.useEffect(()=>{const x=()=>{i.current?.focus()};x();const j=setTimeout(x,100);return()=>clearTimeout(j)},[]);const c=x=>{if(!/^[0-9+\-*/().\s]*$/.test(x))return null;try{if(/[+\-*/(]/.test(x)&&!/[+\-*/(]$/.test(x.trim())){const j=Function(`"use strict"; return (${x})`)();if(typeof j=="number"&&!isNaN(j)&&isFinite(j))return Number.isInteger(j)?j.toString():j.toFixed(4).replace(/\.?0+$/,"")}}catch{return null}return null},m=x=>{const j=x.target.value;t(j),o(c(j))},h=x=>{x?.preventDefault(),e.trim()&&(s?chrome.search.query({text:e,disposition:"CURRENT_TAB"}):window.location.href=`https://www.google.com/search?q=${encodeURIComponent(e)}`)};return n.jsx("div",{className:"search-bar",children:n.jsxs("form",{className:"search-form",onSubmit:h,children:[n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{ref:i,type:"text",className:"search-input",value:e,onChange:m,placeholder:"Search..."}),r&&n.jsxs("div",{className:"calc-result",onClick:()=>{t(r),o(null),i.current?.focus()},children:["= ",r]})]}),n.jsx("button",{type:"submit",className:"search-submit-btn","aria-label":"Search",title:"Search",children:n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})})};const{entries:Lr,setPrototypeOf:Wn,isFrozen:Eo,getPrototypeOf:Lo,getOwnPropertyDescriptor:Do}=Object;let{freeze:Ne,seal:Le,create:ln}=Object,{apply:un,construct:dn}=typeof Reflect<"u"&&Reflect;Ne||(Ne=function(t){return t});Le||(Le=function(t){return t});un||(un=function(t,r){for(var o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];return t.apply(r,s)});dn||(dn=function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return new t(...o)});const Tt=Te(Array.prototype.forEach),Mo=Te(Array.prototype.lastIndexOf),Zn=Te(Array.prototype.pop),pt=Te(Array.prototype.push),Ro=Te(Array.prototype.splice),Lt=Te(String.prototype.toLowerCase),Xt=Te(String.prototype.toString),Qt=Te(String.prototype.match),gt=Te(String.prototype.replace),$o=Te(String.prototype.indexOf),Oo=Te(String.prototype.trim),$e=Te(Object.prototype.hasOwnProperty),Se=Te(RegExp.prototype.test),ft=Po(TypeError);function Te(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return un(e,t,o)}}function Po(e){return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return dn(e,r)}}function X(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lt;Wn&&Wn(e,null);let o=t.length;for(;o--;){let s=t[o];if(typeof s=="string"){const a=r(s);a!==s&&(Eo(t)||(t[o]=a),s=a)}e[s]=!0}return e}function Fo(e){for(let t=0;t<e.length;t++)$e(e,t)||(e[t]=null);return e}function Fe(e){const t=ln(null);for(const[r,o]of Lr(e))$e(e,r)&&(Array.isArray(o)?t[r]=Fo(o):o&&typeof o=="object"&&o.constructor===Object?t[r]=Fe(o):t[r]=o);return t}function xt(e,t){for(;e!==null;){const o=Do(e,t);if(o){if(o.get)return Te(o.get);if(typeof o.value=="function")return Te(o.value)}e=Lo(e)}function r(){return null}return r}const qn=Ne(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),en=Ne(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tn=Ne(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Bo=Ne(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nn=Ne(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Uo=Ne(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Hn=Ne(["#text"]),Gn=Ne(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rn=Ne(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vn=Ne(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ct=Ne(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Wo=Le(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zo=Le(/<%[\w\W]*|[\w\W]*%>/gm),qo=Le(/\$\{[\w\W]*/gm),Ho=Le(/^data-[\-\w.\u00B7-\uFFFF]+$/),Go=Le(/^aria-[\-\w]+$/),Dr=Le(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Vo=Le(/^(?:\w+script|data):/i),Jo=Le(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mr=Le(/^html$/i),Yo=Le(/^[a-z][.\w]*(-[.\w]+)+$/i);var Jn=Object.freeze({__proto__:null,ARIA_ATTR:Go,ATTR_WHITESPACE:Jo,CUSTOM_ELEMENT:Yo,DATA_ATTR:Ho,DOCTYPE_NAME:Mr,ERB_EXPR:Zo,IS_ALLOWED_URI:Dr,IS_SCRIPT_OR_DATA:Vo,MUSTACHE_EXPR:Wo,TMPLIT_EXPR:qo});const yt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ko=function(){return typeof window>"u"?null:window},Xo=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let o=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(o=r.getAttribute(s));const a="dompurify"+(o?"#"+o:"");try{return t.createPolicy(a,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Yn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Rr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ko();const t=R=>Rr(R);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==yt.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const o=r,s=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:i,Node:c,Element:m,NodeFilter:h,NamedNodeMap:x=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:j,DOMParser:z,trustedTypes:I}=e,L=m.prototype,oe=xt(L,"cloneNode"),Z=xt(L,"remove"),ne=xt(L,"nextSibling"),J=xt(L,"childNodes"),q=xt(L,"parentNode");if(typeof i=="function"){const R=r.createElement("template");R.content&&R.content.ownerDocument&&(r=R.content.ownerDocument)}let M,g="";const{implementation:d,createNodeIterator:W,createDocumentFragment:H,getElementsByTagName:O}=r,{importNode:w}=o;let N=Yn();t.isSupported=typeof Lr=="function"&&typeof q=="function"&&d&&d.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:F,ERB_EXPR:T,TMPLIT_EXPR:E,DATA_ATTR:k,ARIA_ATTR:Y,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:b}=Jn;let{IS_ALLOWED_URI:l}=Jn,p=null;const S=X({},[...qn,...en,...tn,...nn,...Hn]);let D=null;const Q=X({},[...Gn,...rn,...Vn,...Ct]);let P=Object.seal(ln(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,ae=null;const K=Object.seal(ln(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let f=!0,B=!0,V=!1,se=!0,ie=!1,xe=!0,je=!1,be=!1,Me=!1,Re=!1,tt=!1,Ve=!1,nt=!0,kt=!1;const go="user-content-";let Zt=!0,ht=!1,rt={},Oe=null;const qt=X({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Tn=null;const Cn=X({},["audio","video","img","source","image","track"]);let Ht=null;const zn=X({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),jt="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xhtml";let ot=Ue,Gt=!1,Vt=null;const fo=X({},[jt,St,Ue],Xt);let _t=X({},["mi","mo","mn","ms","mtext"]),Nt=X({},["annotation-xml"]);const xo=X({},["title","style","font","a","script"]);let mt=null;const yo=["application/xhtml+xml","text/html"],vo="text/html";let ye=null,st=null;const bo=r.createElement("form"),In=function(u){return u instanceof RegExp||u instanceof Function},Jt=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(st&&st===u)){if((!u||typeof u!="object")&&(u={}),u=Fe(u),mt=yo.indexOf(u.PARSER_MEDIA_TYPE)===-1?vo:u.PARSER_MEDIA_TYPE,ye=mt==="application/xhtml+xml"?Xt:Lt,p=$e(u,"ALLOWED_TAGS")?X({},u.ALLOWED_TAGS,ye):S,D=$e(u,"ALLOWED_ATTR")?X({},u.ALLOWED_ATTR,ye):Q,Vt=$e(u,"ALLOWED_NAMESPACES")?X({},u.ALLOWED_NAMESPACES,Xt):fo,Ht=$e(u,"ADD_URI_SAFE_ATTR")?X(Fe(zn),u.ADD_URI_SAFE_ATTR,ye):zn,Tn=$e(u,"ADD_DATA_URI_TAGS")?X(Fe(Cn),u.ADD_DATA_URI_TAGS,ye):Cn,Oe=$e(u,"FORBID_CONTENTS")?X({},u.FORBID_CONTENTS,ye):qt,G=$e(u,"FORBID_TAGS")?X({},u.FORBID_TAGS,ye):Fe({}),ae=$e(u,"FORBID_ATTR")?X({},u.FORBID_ATTR,ye):Fe({}),rt=$e(u,"USE_PROFILES")?u.USE_PROFILES:!1,f=u.ALLOW_ARIA_ATTR!==!1,B=u.ALLOW_DATA_ATTR!==!1,V=u.ALLOW_UNKNOWN_PROTOCOLS||!1,se=u.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ie=u.SAFE_FOR_TEMPLATES||!1,xe=u.SAFE_FOR_XML!==!1,je=u.WHOLE_DOCUMENT||!1,Re=u.RETURN_DOM||!1,tt=u.RETURN_DOM_FRAGMENT||!1,Ve=u.RETURN_TRUSTED_TYPE||!1,Me=u.FORCE_BODY||!1,nt=u.SANITIZE_DOM!==!1,kt=u.SANITIZE_NAMED_PROPS||!1,Zt=u.KEEP_CONTENT!==!1,ht=u.IN_PLACE||!1,l=u.ALLOWED_URI_REGEXP||Dr,ot=u.NAMESPACE||Ue,_t=u.MATHML_TEXT_INTEGRATION_POINTS||_t,Nt=u.HTML_INTEGRATION_POINTS||Nt,P=u.CUSTOM_ELEMENT_HANDLING||{},u.CUSTOM_ELEMENT_HANDLING&&In(u.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=u.CUSTOM_ELEMENT_HANDLING.tagNameCheck),u.CUSTOM_ELEMENT_HANDLING&&In(u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),u.CUSTOM_ELEMENT_HANDLING&&typeof u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ie&&(B=!1),tt&&(Re=!0),rt&&(p=X({},Hn),D=[],rt.html===!0&&(X(p,qn),X(D,Gn)),rt.svg===!0&&(X(p,en),X(D,rn),X(D,Ct)),rt.svgFilters===!0&&(X(p,tn),X(D,rn),X(D,Ct)),rt.mathMl===!0&&(X(p,nn),X(D,Vn),X(D,Ct))),u.ADD_TAGS&&(typeof u.ADD_TAGS=="function"?K.tagCheck=u.ADD_TAGS:(p===S&&(p=Fe(p)),X(p,u.ADD_TAGS,ye))),u.ADD_ATTR&&(typeof u.ADD_ATTR=="function"?K.attributeCheck=u.ADD_ATTR:(D===Q&&(D=Fe(D)),X(D,u.ADD_ATTR,ye))),u.ADD_URI_SAFE_ATTR&&X(Ht,u.ADD_URI_SAFE_ATTR,ye),u.FORBID_CONTENTS&&(Oe===qt&&(Oe=Fe(Oe)),X(Oe,u.FORBID_CONTENTS,ye)),u.ADD_FORBID_CONTENTS&&(Oe===qt&&(Oe=Fe(Oe)),X(Oe,u.ADD_FORBID_CONTENTS,ye)),Zt&&(p["#text"]=!0),je&&X(p,["html","head","body"]),p.table&&(X(p,["tbody"]),delete G.tbody),u.TRUSTED_TYPES_POLICY){if(typeof u.TRUSTED_TYPES_POLICY.createHTML!="function")throw ft('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof u.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ft('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=u.TRUSTED_TYPES_POLICY,g=M.createHTML("")}else M===void 0&&(M=Xo(I,s)),M!==null&&typeof g=="string"&&(g=M.createHTML(""));Ne&&Ne(u),st=u}},An=X({},[...en,...tn,...Bo]),En=X({},[...nn,...Uo]),wo=function(u){let _=q(u);(!_||!_.tagName)&&(_={namespaceURI:ot,tagName:"template"});const A=Lt(u.tagName),ce=Lt(_.tagName);return Vt[u.namespaceURI]?u.namespaceURI===St?_.namespaceURI===Ue?A==="svg":_.namespaceURI===jt?A==="svg"&&(ce==="annotation-xml"||_t[ce]):!!An[A]:u.namespaceURI===jt?_.namespaceURI===Ue?A==="math":_.namespaceURI===St?A==="math"&&Nt[ce]:!!En[A]:u.namespaceURI===Ue?_.namespaceURI===St&&!Nt[ce]||_.namespaceURI===jt&&!_t[ce]?!1:!En[A]&&(xo[A]||!An[A]):!!(mt==="application/xhtml+xml"&&Vt[u.namespaceURI]):!1},Pe=function(u){pt(t.removed,{element:u});try{q(u).removeChild(u)}catch{Z(u)}},Je=function(u,_){try{pt(t.removed,{attribute:_.getAttributeNode(u),from:_})}catch{pt(t.removed,{attribute:null,from:_})}if(_.removeAttribute(u),u==="is")if(Re||tt)try{Pe(_)}catch{}else try{_.setAttribute(u,"")}catch{}},Ln=function(u){let _=null,A=null;if(Me)u="<remove></remove>"+u;else{const ge=Qt(u,/^[\r\n\t ]+/);A=ge&&ge[0]}mt==="application/xhtml+xml"&&ot===Ue&&(u='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+u+"</body></html>");const ce=M?M.createHTML(u):u;if(ot===Ue)try{_=new z().parseFromString(ce,mt)}catch{}if(!_||!_.documentElement){_=d.createDocument(ot,"template",null);try{_.documentElement.innerHTML=Gt?g:ce}catch{}}const we=_.body||_.documentElement;return u&&A&&we.insertBefore(r.createTextNode(A),we.childNodes[0]||null),ot===Ue?O.call(_,je?"html":"body")[0]:je?_.documentElement:we},Dn=function(u){return W.call(u.ownerDocument||u,u,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Yt=function(u){return u instanceof j&&(typeof u.nodeName!="string"||typeof u.textContent!="string"||typeof u.removeChild!="function"||!(u.attributes instanceof x)||typeof u.removeAttribute!="function"||typeof u.setAttribute!="function"||typeof u.namespaceURI!="string"||typeof u.insertBefore!="function"||typeof u.hasChildNodes!="function")},Mn=function(u){return typeof c=="function"&&u instanceof c};function We(R,u,_){Tt(R,A=>{A.call(t,u,_,st)})}const Rn=function(u){let _=null;if(We(N.beforeSanitizeElements,u,null),Yt(u))return Pe(u),!0;const A=ye(u.nodeName);if(We(N.uponSanitizeElement,u,{tagName:A,allowedTags:p}),xe&&u.hasChildNodes()&&!Mn(u.firstElementChild)&&Se(/<[/\w!]/g,u.innerHTML)&&Se(/<[/\w!]/g,u.textContent)||u.nodeType===yt.progressingInstruction||xe&&u.nodeType===yt.comment&&Se(/<[/\w]/g,u.data))return Pe(u),!0;if(!(K.tagCheck instanceof Function&&K.tagCheck(A))&&(!p[A]||G[A])){if(!G[A]&&On(A)&&(P.tagNameCheck instanceof RegExp&&Se(P.tagNameCheck,A)||P.tagNameCheck instanceof Function&&P.tagNameCheck(A)))return!1;if(Zt&&!Oe[A]){const ce=q(u)||u.parentNode,we=J(u)||u.childNodes;if(we&&ce){const ge=we.length;for(let Ce=ge-1;Ce>=0;--Ce){const Ze=oe(we[Ce],!0);Ze.__removalCount=(u.__removalCount||0)+1,ce.insertBefore(Ze,ne(u))}}}return Pe(u),!0}return u instanceof m&&!wo(u)||(A==="noscript"||A==="noembed"||A==="noframes")&&Se(/<\/no(script|embed|frames)/i,u.innerHTML)?(Pe(u),!0):(ie&&u.nodeType===yt.text&&(_=u.textContent,Tt([F,T,E],ce=>{_=gt(_,ce," ")}),u.textContent!==_&&(pt(t.removed,{element:u.cloneNode()}),u.textContent=_)),We(N.afterSanitizeElements,u,null),!1)},$n=function(u,_,A){if(nt&&(_==="id"||_==="name")&&(A in r||A in bo))return!1;if(!(B&&!ae[_]&&Se(k,_))){if(!(f&&Se(Y,_))){if(!(K.attributeCheck instanceof Function&&K.attributeCheck(_,u))){if(!D[_]||ae[_]){if(!(On(u)&&(P.tagNameCheck instanceof RegExp&&Se(P.tagNameCheck,u)||P.tagNameCheck instanceof Function&&P.tagNameCheck(u))&&(P.attributeNameCheck instanceof RegExp&&Se(P.attributeNameCheck,_)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(_,u))||_==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&Se(P.tagNameCheck,A)||P.tagNameCheck instanceof Function&&P.tagNameCheck(A))))return!1}else if(!Ht[_]){if(!Se(l,gt(A,te,""))){if(!((_==="src"||_==="xlink:href"||_==="href")&&u!=="script"&&$o(A,"data:")===0&&Tn[u])){if(!(V&&!Se(ee,gt(A,te,"")))){if(A)return!1}}}}}}}return!0},On=function(u){return u!=="annotation-xml"&&Qt(u,b)},Pn=function(u){We(N.beforeSanitizeAttributes,u,null);const{attributes:_}=u;if(!_||Yt(u))return;const A={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let ce=_.length;for(;ce--;){const we=_[ce],{name:ge,namespaceURI:Ce,value:Ze}=we,at=ye(ge),Kt=Ze;let ve=ge==="value"?Kt:Oo(Kt);if(A.attrName=at,A.attrValue=ve,A.keepAttr=!0,A.forceKeepAttr=void 0,We(N.uponSanitizeAttribute,u,A),ve=A.attrValue,kt&&(at==="id"||at==="name")&&(Je(ge,u),ve=go+ve),xe&&Se(/((--!?|])>)|<\/(style|title|textarea)/i,ve)){Je(ge,u);continue}if(at==="attributename"&&Qt(ve,"href")){Je(ge,u);continue}if(A.forceKeepAttr)continue;if(!A.keepAttr){Je(ge,u);continue}if(!se&&Se(/\/>/i,ve)){Je(ge,u);continue}ie&&Tt([F,T,E],Bn=>{ve=gt(ve,Bn," ")});const Fn=ye(u.nodeName);if(!$n(Fn,at,ve)){Je(ge,u);continue}if(M&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!Ce)switch(I.getAttributeType(Fn,at)){case"TrustedHTML":{ve=M.createHTML(ve);break}case"TrustedScriptURL":{ve=M.createScriptURL(ve);break}}if(ve!==Kt)try{Ce?u.setAttributeNS(Ce,ge,ve):u.setAttribute(ge,ve),Yt(u)?Pe(u):Zn(t.removed)}catch{Je(ge,u)}}We(N.afterSanitizeAttributes,u,null)},ko=function R(u){let _=null;const A=Dn(u);for(We(N.beforeSanitizeShadowDOM,u,null);_=A.nextNode();)We(N.uponSanitizeShadowNode,_,null),Rn(_),Pn(_),_.content instanceof a&&R(_.content);We(N.afterSanitizeShadowDOM,u,null)};return t.sanitize=function(R){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=null,A=null,ce=null,we=null;if(Gt=!R,Gt&&(R="<!-->"),typeof R!="string"&&!Mn(R))if(typeof R.toString=="function"){if(R=R.toString(),typeof R!="string")throw ft("dirty is not a string, aborting")}else throw ft("toString is not a function");if(!t.isSupported)return R;if(be||Jt(u),t.removed=[],typeof R=="string"&&(ht=!1),ht){if(R.nodeName){const Ze=ye(R.nodeName);if(!p[Ze]||G[Ze])throw ft("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof c)_=Ln("<!---->"),A=_.ownerDocument.importNode(R,!0),A.nodeType===yt.element&&A.nodeName==="BODY"||A.nodeName==="HTML"?_=A:_.appendChild(A);else{if(!Re&&!ie&&!je&&R.indexOf("<")===-1)return M&&Ve?M.createHTML(R):R;if(_=Ln(R),!_)return Re?null:Ve?g:""}_&&Me&&Pe(_.firstChild);const ge=Dn(ht?R:_);for(;ce=ge.nextNode();)Rn(ce),Pn(ce),ce.content instanceof a&&ko(ce.content);if(ht)return R;if(Re){if(tt)for(we=H.call(_.ownerDocument);_.firstChild;)we.appendChild(_.firstChild);else we=_;return(D.shadowroot||D.shadowrootmode)&&(we=w.call(o,we,!0)),we}let Ce=je?_.outerHTML:_.innerHTML;return je&&p["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&Se(Mr,_.ownerDocument.doctype.name)&&(Ce="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+Ce),ie&&Tt([F,T,E],Ze=>{Ce=gt(Ce,Ze," ")}),M&&Ve?M.createHTML(Ce):Ce},t.setConfig=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Jt(R),be=!0},t.clearConfig=function(){st=null,be=!1},t.isValidAttribute=function(R,u,_){st||Jt({});const A=ye(R),ce=ye(u);return $n(A,ce,_)},t.addHook=function(R,u){typeof u=="function"&&pt(N[R],u)},t.removeHook=function(R,u){if(u!==void 0){const _=Mo(N[R],u);return _===-1?void 0:Ro(N[R],_,1)[0]}return Zn(N[R])},t.removeHooks=function(R){N[R]=[]},t.removeAllHooks=function(){N=Yn()},t}var Qo=Rr();const $r=e=>Qo.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0},FORBID_TAGS:["script","iframe","object","embed","link","style"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onmouseout","onmousemove","onmouseenter","onmouseleave","onfocus","onblur","onchange","onsubmit","onkeydown","onkeyup","onkeypress"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i}),es=e=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(e.startsWith("http")?e:`https://${e}`).hostname}&sz=64`}catch{return""}},ts=({links:e,onLinksChange:t,spacingWidgetEnabled:r=!0})=>{const[o,s]=y.useState(!1),[a,i]=y.useState(null),[c,m]=y.useState(null),[h,x]=y.useState({title:"",url:"",icon:"",iconType:"svg",selectedCategory:"Social"}),j=()=>{if(!h.title||!h.url)return;const g={id:Date.now().toString(),title:h.title,url:h.url.startsWith("http")?h.url:`https://${h.url}`,iconType:h.iconType,icon:h.iconType==="custom"||h.iconType==="svg"?h.icon:void 0};t([...e,g]),x({title:"",url:"",icon:"",iconType:"svg",selectedCategory:"Social"}),s(!1)},z=g=>{i(g),x({title:g.title,url:g.url,icon:g.icon||"",iconType:g.iconType||"svg",selectedCategory:"Social"}),s(!0)},I=()=>{if(!a||!h.title||!h.url)return;const g=e.map(d=>d.id===a.id?{...d,title:h.title,url:h.url.startsWith("http")?h.url:`https://${h.url}`,iconType:h.iconType,icon:h.iconType==="custom"||h.iconType==="svg"?h.icon:void 0}:d);t(g),i(null),x({title:"",url:"",icon:"",iconType:"svg",selectedCategory:"Social"}),s(!1)},L=g=>{t(e.filter(d=>d.id!==g))},oe=()=>{s(!1),i(null),x({title:"",url:"",icon:"",iconType:"svg",selectedCategory:"Social"})},Z=(g,d)=>{m(d),g.dataTransfer.effectAllowed="move"},ne=g=>{g.preventDefault(),g.dataTransfer.dropEffect="move"},J=(g,d)=>{if(g.preventDefault(),!c||c===d)return;const W=e.findIndex(N=>N.id===c),H=e.findIndex(N=>N.id===d);if(W===-1||H===-1)return;const O=[...e],[w]=O.splice(W,1);O.splice(H,0,w),t(O),m(null)},q=()=>{m(null)},M=e.filter(g=>!g.hidden);return n.jsxs("div",{className:`quick-links ${r?"spacing-widget-enabled":"spacing-widget-compact"}`,children:[n.jsx("div",{className:"quick-links-header",children:n.jsxs("button",{className:"edit-mode-toggle",onClick:()=>s(!o),children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),o?"Done":"Edit Links"]})}),n.jsxs("div",{className:"quick-links-grid",children:[M.map(g=>{const d=g.iconType!=="none",W=g.iconType==="svg",H=g.iconType==="custom"&&g.icon?g.icon:g.iconType==="favicon"?es(g.url):"";return n.jsx("a",{href:g.url,className:`quick-link ${c===g.id?"dragging":""}`,draggable:o,onDragStart:O=>Z(O,g.id),onDragOver:ne,onDrop:O=>J(O,g.id),onDragEnd:q,children:n.jsxs("div",{className:"quick-link-content",children:[d&&W&&g.icon&&n.jsx("div",{className:"quick-link-icon-svg",dangerouslySetInnerHTML:{__html:$r(g.icon)}}),d&&!W&&H&&n.jsx("img",{src:H,alt:"",className:"quick-link-icon"}),n.jsx("span",{className:"quick-link-title",children:g.title}),o&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"quick-link-edit",onClick:O=>{O.preventDefault(),z(g)},"aria-label":"Edit link",children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),n.jsx("button",{className:"quick-link-delete",onClick:O=>{O.preventDefault(),L(g.id)},"aria-label":"Delete link",children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]})})]})]})},g.id)}),o&&n.jsxs("button",{className:"quick-link quick-link-add",onClick:()=>i({}),children:[n.jsx("span",{className:"add-icon",children:"+"}),n.jsx("span",{className:"add-text",children:"Add Link"})]})]}),a&&n.jsx("div",{className:"quick-link-editor",children:n.jsxs("div",{className:"quick-link-editor-content",children:[n.jsx("h3",{children:a.id?"Edit Link":"Add New Link"}),n.jsx("input",{type:"text",placeholder:"Title",value:h.title,onChange:g=>x({...h,title:g.target.value}),className:"editor-input",autoFocus:!0}),n.jsx("input",{type:"text",placeholder:"URL (e.g., github.com)",value:h.url,onChange:g=>x({...h,url:g.target.value}),className:"editor-input"}),n.jsxs("div",{className:"icon-selector",children:[n.jsxs("label",{className:"icon-option",children:[n.jsx("input",{type:"radio",name:"iconType",value:"svg",checked:h.iconType==="svg",onChange:g=>x({...h,iconType:g.target.value})}),n.jsx("span",{children:"SVG Icon"})]}),n.jsxs("label",{className:"icon-option",children:[n.jsx("input",{type:"radio",name:"iconType",value:"favicon",checked:h.iconType==="favicon",onChange:g=>x({...h,iconType:g.target.value})}),n.jsx("span",{children:"Favicon"})]}),n.jsxs("label",{className:"icon-option",children:[n.jsx("input",{type:"radio",name:"iconType",value:"custom",checked:h.iconType==="custom",onChange:g=>x({...h,iconType:g.target.value})}),n.jsx("span",{children:"Custom"})]}),n.jsxs("label",{className:"icon-option",children:[n.jsx("input",{type:"radio",name:"iconType",value:"none",checked:h.iconType==="none",onChange:g=>x({...h,iconType:g.target.value})}),n.jsx("span",{children:"None"})]})]}),h.iconType==="svg"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"icon-category-selector",children:jo.map(g=>n.jsx("button",{className:`category-btn ${h.selectedCategory===g?"active":""}`,onClick:()=>x({...h,selectedCategory:g}),type:"button",children:g},g))}),n.jsx("div",{className:"icon-grid",children:So.filter(g=>g.category===h.selectedCategory).map(g=>n.jsx("button",{className:`icon-grid-item ${h.icon===g.svg?"selected":""}`,onClick:()=>x({...h,icon:g.svg}),title:g.name,type:"button",children:n.jsx("div",{dangerouslySetInnerHTML:{__html:g.svg}})},g.name))})]}),h.iconType==="custom"&&n.jsx("input",{type:"text",placeholder:"Icon URL",value:h.icon,onChange:g=>x({...h,icon:g.target.value}),className:"editor-input"}),n.jsxs("div",{className:"editor-actions",children:[n.jsx("button",{onClick:oe,className:"btn-cancel",children:"Cancel"}),n.jsx("button",{onClick:a.id?I:j,className:"btn-save",disabled:!h.title||!h.url,children:a.id?"Update":"Add"})]})]})})]})},ns=({onOpenSettings:e})=>{const[t,r]=y.useState(!1);return n.jsx("button",{className:"settings-button",onClick:e,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),"aria-label":"Open settings",title:"Settings",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t?"rotating":"",children:[n.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})};var rs=Object.defineProperty,os=(e,t,r)=>t in e?rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ss=(e,t,r)=>os(e,t+"",r);const Kn={warning:"color: #f59e0b; font-weight: bold",error:"color: #ef4444; font-weight: bold"},Xn={warning:"⚠️",error:"❌"};class as{constructor(){ss(this,"prefix","[HotPage]")}info(t,r,...o){}success(t,r,...o){}warning(t,r,...o){console.warn(`%c${this.prefix} ${Xn.warning} ${t}%c ${r}`,Kn.warning,"color: inherit",...o)}error(t,r,o,...s){console.error(`%c${this.prefix} ${Xn.error} ${t}%c ${r}`,Kn.error,"color: inherit",...o?[o]:[],...s)}debug(t,r,...o){}widget(t,r,...o){}group(t,r){}groupCollapsed(t,r){}table(t,r){}time(t){}timeEnd(t){}}const C=new as;var is=Object.defineProperty,cs=(e,t,r)=>t in e?is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ls=(e,t,r)=>cs(e,t+"",r);const us="hotpage-images",ds=1,ke="backgrounds",Qn=1920,er=1080,hs=100,ms=.85;async function ps(e){return new Promise((t,r)=>{const o=new Image,s=new FileReader;s.onload=a=>{o.src=a.target?.result},o.onload=()=>{const a=document.createElement("canvas");let i=o.width,c=o.height;if(i>Qn||c>er){const h=i/c;i>c?(i=Qn,c=i/h):(c=er,i=c*h)}a.width=i,a.height=c,a.getContext("2d").drawImage(o,0,0,i,c),a.toBlob(h=>{if(!h){r(new Error("Failed to compress image"));return}const x=document.createElement("canvas"),j=Math.min(hs,Math.min(i,c));x.width=j,x.height=j;const z=x.getContext("2d"),I=Math.min(o.width,o.height),L=(o.width-I)/2,oe=(o.height-I)/2;z.drawImage(o,L,oe,I,I,0,0,j,j),x.toBlob(Z=>{if(!Z){r(new Error("Failed to create thumbnail"));return}t({compressed:h,thumbnail:Z})},"image/jpeg",.7)},"image/jpeg",ms)},o.onerror=()=>r(new Error("Failed to load image")),s.onerror=()=>r(new Error("Failed to read file")),s.readAsDataURL(e)})}class gs{constructor(){ls(this,"db",null)}async init(){return new Promise((t,r)=>{C.debug("ImageStorage","Initializing IndexedDB...");const o=indexedDB.open(us,ds);o.onerror=()=>{C.error("ImageStorage","Failed to open IndexedDB",o.error),r(o.error)},o.onsuccess=()=>{this.db=o.result,C.success("ImageStorage","IndexedDB initialized successfully"),t()},o.onupgradeneeded=s=>{C.info("ImageStorage","Upgrading database schema...");const a=s.target.result;a.objectStoreNames.contains(ke)||(a.createObjectStore(ke,{keyPath:"id"}),C.success("ImageStorage","Object store created"))}})}async saveImage(t){this.db||await this.init();const r=`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o=t.size;C.debug("ImageStorage",`Compressing image: ${t.name} (${(o/1024/1024).toFixed(2)} MB)`);try{const{compressed:s,thumbnail:a}=await ps(t),i=s.size,c=((1-i/o)*100).toFixed(1);C.info("ImageStorage",`Compressed ${t.name}: ${(o/1024/1024).toFixed(2)} MB → ${(i/1024/1024).toFixed(2)} MB (${c}% reduction)`);const m={id:r,blob:s,thumbnail:a,filename:t.name,uploadedAt:Date.now(),originalSize:o,compressedSize:i};return new Promise((h,x)=>{const I=this.db.transaction([ke],"readwrite").objectStore(ke).add(m);I.onsuccess=()=>{C.success("ImageStorage",`Image saved: ${r}`),h(r)},I.onerror=()=>{C.error("ImageStorage","Failed to save image",I.error),x(I.error)}})}catch(s){throw C.error("ImageStorage","Failed to compress image",s),s}}async getThumbnail(t){return this.db||await this.init(),new Promise((r,o)=>{const i=this.db.transaction([ke],"readonly").objectStore(ke).get(t);i.onsuccess=()=>{if(i.result){const c=i.result;if(c.thumbnail){const m=new FileReader;m.onloadend=()=>r(m.result),m.onerror=()=>o(m.error),m.readAsDataURL(c.thumbnail)}else r(null)}else r(null)},i.onerror=()=>o(i.error)})}async getImage(t){return this.db||await this.init(),new Promise((r,o)=>{const i=this.db.transaction([ke],"readonly").objectStore(ke).get(t);i.onsuccess=()=>{if(i.result){const c=i.result;C.debug("ImageStorage",`Loading image: ${t} (${c.filename})`);const m=new FileReader;m.onloadend=()=>{C.success("ImageStorage",`Image loaded: ${t}`),r(m.result)},m.onerror=()=>{C.error("ImageStorage","Failed to read image blob",m.error),o(m.error)},m.readAsDataURL(c.blob)}else C.warning("ImageStorage",`Image not found: ${t}`),r(null)},i.onerror=()=>{C.error("ImageStorage",`Failed to get image: ${t}`,i.error),o(i.error)}})}async getAllImages(){return this.db||await this.init(),new Promise((t,r)=>{const a=this.db.transaction([ke],"readonly").objectStore(ke).getAll();a.onsuccess=async()=>{const i=a.result;C.debug("ImageStorage",`Loading ${i.length} stored images...`);const c=await Promise.all(i.map(async m=>{const h=await new Promise((x,j)=>{const z=new FileReader;z.onloadend=()=>x(z.result),z.onerror=()=>j(z.error),z.readAsDataURL(m.blob)});return{id:m.id,url:h,filename:m.filename}}));C.success("ImageStorage",`Loaded ${c.length} images`),t(c)},a.onerror=()=>{C.error("ImageStorage","Failed to get all images",a.error),r(a.error)}})}async deleteImage(t){return this.db||await this.init(),new Promise((r,o)=>{C.debug("ImageStorage",`Deleting image: ${t}`);const i=this.db.transaction([ke],"readwrite").objectStore(ke).delete(t);i.onsuccess=()=>{C.success("ImageStorage",`Image deleted: ${t}`),r()},i.onerror=()=>{C.error("ImageStorage",`Failed to delete image: ${t}`,i.error),o(i.error)}})}async deleteAllImages(){return this.db||await this.init(),new Promise((t,r)=>{C.warning("ImageStorage","Deleting all images...");const a=this.db.transaction([ke],"readwrite").objectStore(ke).clear();a.onsuccess=()=>{C.success("ImageStorage","All images deleted"),t()},a.onerror=()=>{C.error("ImageStorage","Failed to delete all images",a.error),r(a.error)}})}async getStorageSize(){return this.db||await this.init(),new Promise((t,r)=>{const a=this.db.transaction([ke],"readonly").objectStore(ke).getAll();a.onsuccess=()=>{const i=a.result.reduce((c,m)=>c+m.blob.size,0);t(i)},a.onerror=()=>r(a.error)})}}const Be=new gs,fs={name:"Light",colors:{primary:"#1e293b",secondary:"#8b5cf6",background:"#ebebebff",foreground:"#f8fafc",text:"#1e293b",textSecondary:"#6b6b6bff",border:"rgba(0, 0, 0, 0.10)",accent:"#10b981"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},xs={name:"Dark",colors:{primary:"#60a5fa",secondary:"#a78bfa",background:"#212121",foreground:"#334155",text:"#f1f5f9",textSecondary:"#cbd5e1",border:"rgba(255, 255, 255, 0.15)",accent:"#34d399"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.3)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.4)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.5)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},ys={name:"Ocean",colors:{primary:"#0a72a2ff",secondary:"#06b6d4",background:"#d3e1eaff",foreground:"#e0f2fe",text:"#0c4a6e",textSecondary:"#064364ff",border:"rgba(43, 66, 77, 0.15)",accent:"#03699cff"},shadows:{sm:"0 1px 2px 0 rgba(14, 165, 233, 0.1)",md:"0 4px 6px -1px rgba(14, 165, 233, 0.15)",lg:"0 10px 15px -3px rgba(14, 165, 233, 0.2)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},vs={name:"Forest",colors:{primary:"#02754eff",secondary:"#059669",background:"#d7fae2ff",foreground:"#dcfce7",text:"#064e3b",textSecondary:"#065f46",border:"rgba(4, 25, 7, 0.15)",accent:"#22c55e"},shadows:{sm:"0 1px 2px 0 rgba(16, 185, 129, 0.1)",md:"0 4px 6px -1px rgba(16, 185, 129, 0.15)",lg:"0 10px 15px -3px rgba(16, 185, 129, 0.2)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},bs={name:"Sunset",colors:{primary:"#f97316",secondary:"#ea580c",background:"#f7e1c6ff",foreground:"#ffedd5",text:"#7c2d12",textSecondary:"#9a3412",border:"rgba(249, 115, 22, 0.15)",accent:"#fb923c"},shadows:{sm:"0 1px 2px 0 rgba(249, 115, 22, 0.1)",md:"0 4px 6px -1px rgba(249, 115, 22, 0.15)",lg:"0 10px 15px -3px rgba(249, 115, 22, 0.2)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},ws={name:"Purple",colors:{primary:"#683697ff",secondary:"#9333ea",background:"#e5d7f4ff",foreground:"#f3e8ff",text:"#3f185dff",textSecondary:"#6b21a8",border:"rgba(132, 0, 255, 0.15)",accent:"#c084fc"},shadows:{sm:"0 1px 2px 0 rgba(168, 85, 247, 0.1)",md:"0 4px 6px -1px rgba(168, 85, 247, 0.15)",lg:"0 10px 15px -3px rgba(168, 85, 247, 0.2)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},ks={name:"Rose",colors:{primary:"#ec4899",secondary:"#db2777",background:"#f8e1eeff",foreground:"#fce7f3",text:"#831843",textSecondary:"#9f1239",border:"rgba(236, 72, 153, 0.15)",accent:"#f472b6"},shadows:{sm:"0 1px 2px 0 rgba(236, 72, 153, 0.1)",md:"0 4px 6px -1px rgba(236, 72, 153, 0.15)",lg:"0 10px 15px -3px rgba(236, 72, 153, 0.2)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},js={name:"Midnight",colors:{primary:"#6e9cd3ff",secondary:"#818cf8",background:"#0f172a",foreground:"#1e293b",text:"#f1f5f9",textSecondary:"#cbd5e1",border:"rgba(255, 255, 255, 0.15)",accent:"#38bdf8"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.3)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.4)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.5)"},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},tr={light:fs,dark:xs,ocean:ys,forest:vs,sunset:bs,purple:ws,rose:ks,midnight:js},hn=e=>{const t=document.documentElement;Object.entries(e.colors).forEach(([r,o])=>{if(t.style.setProperty(`--color-${r}`,o),o.startsWith("#")){const s=parseInt(o.slice(1,3),16),a=parseInt(o.slice(3,5),16),i=parseInt(o.slice(5,7),16);t.style.setProperty(`--color-${r}-rgb`,`${s}, ${a}, ${i}`)}else if(o.startsWith("rgba(")){const s=o.match(/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);s&&t.style.setProperty(`--color-${r}-rgb`,`${s[1]}, ${s[2]}, ${s[3]}`)}}),Object.entries(e.shadows).forEach(([r,o])=>{t.style.setProperty(`--shadow-${r}`,o)}),Object.entries(e.borderRadius).forEach(([r,o])=>{t.style.setProperty(`--radius-${r}`,o)}),Object.entries(e.fonts).forEach(([r,o])=>{t.style.setProperty(`--font-${r}`,o)}),Object.entries(e.spacing).forEach(([r,o])=>{t.style.setProperty(`--spacing-${r}`,o)})},mn=(e,t)=>e==="custom"&&t?Ss(t):tr[e]||tr.ocean,Ss=e=>{const t=e.primary,r=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return{name:"Custom",colors:e,shadows:{sm:`0 1px 2px 0 rgba(${r}, ${o}, ${s}, 0.1)`,md:`0 4px 6px -1px rgba(${r}, ${o}, ${s}, 0.15)`,lg:`0 10px 15px -3px rgba(${r}, ${o}, ${s}, 0.2)`},borderRadius:{sm:"0.375rem",md:"0.5rem",lg:"0.75rem"},fonts:{primary:'"Mona Sans", system-ui, -apple-system, "Segoe UI", sans-serif',secondary:'"Mona Sans Expanded", system-ui, sans-serif'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}}};function v(e,t,r){function o(c,m){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:m,constr:i,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,m);const h=i.prototype,x=Object.keys(h);for(let j=0;j<x.length;j++){const z=x[j];z in c||(c[z]=h[z].bind(c))}}const s=r?.Parent??Object;class a extends s{}Object.defineProperty(a,"name",{value:e});function i(c){var m;const h=r?.Parent?new a:this;o(h,c),(m=h._zod).deferred??(m.deferred=[]);for(const x of h._zod.deferred)x();return h}return Object.defineProperty(i,"init",{value:o}),Object.defineProperty(i,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class lt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Or extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Pr={};function qe(e){return Pr}function Fr(e){const t=Object.values(e).filter(o=>typeof o=="number");return Object.entries(e).filter(([o,s])=>t.indexOf(+o)===-1).map(([o,s])=>s)}function pn(e,t){return typeof t=="bigint"?t.toString():t}function vn(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function bn(e){return e==null}function wn(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function _s(e,t){const r=(e.toString().split(".")[1]||"").length,o=t.toString();let s=(o.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(o)){const m=o.match(/\d?e-(\d?)/);m?.[1]&&(s=Number.parseInt(m[1]))}const a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return i%c/10**a}const nr=Symbol("evaluating");function re(e,t,r){let o;Object.defineProperty(e,t,{get(){if(o!==nr)return o===void 0&&(o=nr,o=r()),o},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Xe(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Qe(...e){const t={};for(const r of e){const o=Object.getOwnPropertyDescriptors(r);Object.assign(t,o)}return Object.defineProperties({},t)}function rr(e){return JSON.stringify(e)}function Ns(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Br="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Mt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Ts=vn(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ut(e){if(Mt(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Mt(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Ur(e){return ut(e)?{...e}:Array.isArray(e)?[...e]:e}const Cs=new Set(["string","number","symbol"]);function Pt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ge(e,t,r){const o=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(o._zod.parent=e),o}function $(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function zs(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Is={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function As(e,t){const r=e._zod.def,o=Qe(e._zod.def,{get shape(){const s={};for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(s[a]=r.shape[a])}return Xe(this,"shape",s),s},checks:[]});return Ge(e,o)}function Es(e,t){const r=e._zod.def,o=Qe(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete s[a]}return Xe(this,"shape",s),s},checks:[]});return Ge(e,o)}function Ls(e,t){if(!ut(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Qe(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Xe(this,"shape",a),a},checks:[]});return Ge(e,s)}function Ds(e,t){if(!ut(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const o={...e._zod.def.shape,...t};return Xe(this,"shape",o),o},checks:e._zod.def.checks};return Ge(e,r)}function Ms(e,t){const r=Qe(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t._zod.def.shape};return Xe(this,"shape",o),o},get catchall(){return t._zod.def.catchall},checks:[]});return Ge(e,r)}function Rs(e,t,r){const o=Qe(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(r)for(const i in r){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=e?new e({type:"optional",innerType:s[i]}):s[i])}else for(const i in s)a[i]=e?new e({type:"optional",innerType:s[i]}):s[i];return Xe(this,"shape",a),a},checks:[]});return Ge(t,o)}function $s(e,t,r){const o=Qe(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)a[i]=new e({type:"nonoptional",innerType:s[i]});return Xe(this,"shape",a),a},checks:[]});return Ge(t,o)}function it(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function ct(e,t){return t.map(r=>{var o;return(o=r).path??(o.path=[]),r.path.unshift(e),r})}function zt(e){return typeof e=="string"?e:e?.message}function He(e,t,r){const o={...e,path:e.path??[]};if(!e.message){const s=zt(e.inst?._zod.def?.error?.(e))??zt(t?.error?.(e))??zt(r.customError?.(e))??zt(r.localeError?.(e))??"Invalid input";o.message=s}return delete o.inst,delete o.continue,t?.reportInput||delete o.input,o}function kn(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function wt(...e){const[t,r,o]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:o}:{...t}}const Wr=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,pn,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Zr=v("$ZodError",Wr),qr=v("$ZodError",Wr,{Parent:Error});function Os(e,t=r=>r.message){const r={},o=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):o.push(t(s));return{formErrors:o,fieldErrors:r}}function Ps(e,t=r=>r.message){const r={_errors:[]},o=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(i=>o({issues:i}));else if(a.code==="invalid_key")o({issues:a.issues});else if(a.code==="invalid_element")o({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let i=r,c=0;for(;c<a.path.length;){const m=a.path[c];c===a.path.length-1?(i[m]=i[m]||{_errors:[]},i[m]._errors.push(t(a))):i[m]=i[m]||{_errors:[]},i=i[m],c++}}};return o(e),r}const jn=e=>(t,r,o,s)=>{const a=o?Object.assign(o,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new lt;if(i.issues.length){const c=new(s?.Err??e)(i.issues.map(m=>He(m,a,qe())));throw Br(c,s?.callee),c}return i.value},Sn=e=>async(t,r,o,s)=>{const a=o?Object.assign(o,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise&&(i=await i),i.issues.length){const c=new(s?.Err??e)(i.issues.map(m=>He(m,a,qe())));throw Br(c,s?.callee),c}return i.value},Ft=e=>(t,r,o)=>{const s=o?{...o,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},s);if(a instanceof Promise)throw new lt;return a.issues.length?{success:!1,error:new(e??Zr)(a.issues.map(i=>He(i,s,qe())))}:{success:!0,data:a.value}},Fs=Ft(qr),Bt=e=>async(t,r,o)=>{const s=o?Object.assign(o,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},s);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(i=>He(i,s,qe())))}:{success:!0,data:a.value}},Bs=Bt(qr),Us=e=>(t,r,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return jn(e)(t,r,s)},Ws=e=>(t,r,o)=>jn(e)(t,r,o),Zs=e=>async(t,r,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Sn(e)(t,r,s)},qs=e=>async(t,r,o)=>Sn(e)(t,r,o),Hs=e=>(t,r,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Ft(e)(t,r,s)},Gs=e=>(t,r,o)=>Ft(e)(t,r,o),Vs=e=>async(t,r,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Bt(e)(t,r,s)},Js=e=>async(t,r,o)=>Bt(e)(t,r,o),Ys=/^[cC][^\s-]{8,}$/,Ks=/^[0-9a-z]+$/,Xs=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Qs=/^[0-9a-vA-V]{20}$/,ea=/^[A-Za-z0-9]{27}$/,ta=/^[a-zA-Z0-9_-]{21}$/,na=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ra=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,or=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,oa=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sa="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function aa(){return new RegExp(sa,"u")}const ia=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ca=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,la=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ua=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,da=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Hr=/^[A-Za-z0-9_-]*$/,ha=/^\+(?:[0-9]){6,14}[0-9]$/,Gr="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ma=new RegExp(`^${Gr}$`);function Vr(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pa(e){return new RegExp(`^${Vr(e)}$`)}function ga(e){const t=Vr({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${t}(?:${r.join("|")})`;return new RegExp(`^${Gr}T(?:${o})$`)}const fa=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},xa=/^-?\d+$/,ya=/^-?\d+(?:\.\d+)?/,va=/^(?:true|false)$/i,ba=/^[^A-Z]*$/,wa=/^[^a-z]*$/,Ae=v("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Jr={number:"number",bigint:"bigint",object:"date"},Yr=v("$ZodCheckLessThan",(e,t)=>{Ae.init(e,t);const r=Jr[typeof t.value];e._zod.onattach.push(o=>{const s=o._zod.bag,a=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value<=t.value:o.value<t.value)||o.issues.push({origin:r,code:"too_big",maximum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Kr=v("$ZodCheckGreaterThan",(e,t)=>{Ae.init(e,t);const r=Jr[typeof t.value];e._zod.onattach.push(o=>{const s=o._zod.bag,a=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value>=t.value:o.value>t.value)||o.issues.push({origin:r,code:"too_small",minimum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ka=v("$ZodCheckMultipleOf",(e,t)=>{Ae.init(e,t),e._zod.onattach.push(r=>{var o;(o=r._zod.bag).multipleOf??(o.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):_s(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),ja=v("$ZodCheckNumberFormat",(e,t)=>{Ae.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),o=r?"int":"number",[s,a]=Is[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=s,c.maximum=a,r&&(c.pattern=xa)}),e._zod.check=i=>{const c=i.value;if(r){if(!Number.isInteger(c)){i.issues.push({expected:o,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort});return}}c<s&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>a&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:e})}}),Sa=v("$ZodCheckMaxLength",(e,t)=>{var r;Ae.init(e,t),(r=e._zod.def).when??(r.when=o=>{const s=o.value;return!bn(s)&&s.length!==void 0}),e._zod.onattach.push(o=>{const s=o._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(o._zod.bag.maximum=t.maximum)}),e._zod.check=o=>{const s=o.value;if(s.length<=t.maximum)return;const i=kn(s);o.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),_a=v("$ZodCheckMinLength",(e,t)=>{var r;Ae.init(e,t),(r=e._zod.def).when??(r.when=o=>{const s=o.value;return!bn(s)&&s.length!==void 0}),e._zod.onattach.push(o=>{const s=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(o._zod.bag.minimum=t.minimum)}),e._zod.check=o=>{const s=o.value;if(s.length>=t.minimum)return;const i=kn(s);o.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Na=v("$ZodCheckLengthEquals",(e,t)=>{var r;Ae.init(e,t),(r=e._zod.def).when??(r.when=o=>{const s=o.value;return!bn(s)&&s.length!==void 0}),e._zod.onattach.push(o=>{const s=o._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=o=>{const s=o.value,a=s.length;if(a===t.length)return;const i=kn(s),c=a>t.length;o.issues.push({origin:i,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!t.abort})}}),Ut=v("$ZodCheckStringFormat",(e,t)=>{var r,o;Ae.init(e,t),e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(o=e._zod).check??(o.check=()=>{})}),Ta=v("$ZodCheckRegex",(e,t)=>{Ut.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Ca=v("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=ba),Ut.init(e,t)}),za=v("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=wa),Ut.init(e,t)}),Ia=v("$ZodCheckIncludes",(e,t)=>{Ae.init(e,t);const r=Pt(t.includes),o=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=o,e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(o)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Aa=v("$ZodCheckStartsWith",(e,t)=>{Ae.init(e,t);const r=new RegExp(`^${Pt(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=o=>{o.value.startsWith(t.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:o.value,inst:e,continue:!t.abort})}}),Ea=v("$ZodCheckEndsWith",(e,t)=>{Ae.init(e,t);const r=new RegExp(`.*${Pt(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=o=>{o.value.endsWith(t.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:o.value,inst:e,continue:!t.abort})}}),La=v("$ZodCheckOverwrite",(e,t)=>{Ae.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Da{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const o=t.split(`
`).filter(i=>i),s=Math.min(...o.map(i=>i.length-i.trimStart().length)),a=o.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of a)this.content.push(i)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,s.join(`
`))}}const Ma={major:4,minor:2,patch:1},ue=v("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Ma;const o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const s of o)for(const a of s._zod.onattach)a(e);if(o.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(i,c,m)=>{let h=it(i),x;for(const j of c){if(j._zod.def.when){if(!j._zod.def.when(i))continue}else if(h)continue;const z=i.issues.length,I=j._zod.check(i);if(I instanceof Promise&&m?.async===!1)throw new lt;if(x||I instanceof Promise)x=(x??Promise.resolve()).then(async()=>{await I,i.issues.length!==z&&(h||(h=it(i,z)))});else{if(i.issues.length===z)continue;h||(h=it(i,z))}}return x?x.then(()=>i):i},a=(i,c,m)=>{if(it(i))return i.aborted=!0,i;const h=s(c,o,m);if(h instanceof Promise){if(m.async===!1)throw new lt;return h.then(x=>e._zod.parse(x,m))}return e._zod.parse(h,m)};e._zod.run=(i,c)=>{if(c.skipChecks)return e._zod.parse(i,c);if(c.direction==="backward"){const h=e._zod.parse({value:i.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(x=>a(x,i,c)):a(h,i,c)}const m=e._zod.parse(i,c);if(m instanceof Promise){if(c.async===!1)throw new lt;return m.then(h=>s(h,o,c))}return s(m,o,c)}}e["~standard"]={validate:s=>{try{const a=Fs(e,s);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return Bs(e,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),_n=v("$ZodString",(e,t)=>{ue.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??fa(e._zod.bag),e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),le=v("$ZodStringFormat",(e,t)=>{Ut.init(e,t),_n.init(e,t)}),Ra=v("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=ra),le.init(e,t)}),$a=v("$ZodUUID",(e,t)=>{if(t.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(o===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=or(o))}else t.pattern??(t.pattern=or());le.init(e,t)}),Oa=v("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=oa),le.init(e,t)}),Pa=v("$ZodURL",(e,t)=>{le.init(e,t),e._zod.check=r=>{try{const o=r.value.trim(),s=new URL(o);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Fa=v("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=aa()),le.init(e,t)}),Ba=v("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=ta),le.init(e,t)}),Ua=v("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ys),le.init(e,t)}),Wa=v("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Ks),le.init(e,t)}),Za=v("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Xs),le.init(e,t)}),qa=v("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Qs),le.init(e,t)}),Ha=v("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=ea),le.init(e,t)}),Ga=v("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ga(t)),le.init(e,t)}),Va=v("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=ma),le.init(e,t)}),Ja=v("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=pa(t)),le.init(e,t)}),Ya=v("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=na),le.init(e,t)}),Ka=v("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ia),le.init(e,t),e._zod.bag.format="ipv4"}),Xa=v("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ca),le.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Qa=v("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=la),le.init(e,t)}),ei=v("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=ua),le.init(e,t),e._zod.check=r=>{const o=r.value.split("/");try{if(o.length!==2)throw new Error;const[s,a]=o;if(!a)throw new Error;const i=Number(a);if(`${i}`!==a)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Xr(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const ti=v("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=da),le.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{Xr(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function ni(e){if(!Hr.test(e))return!1;const t=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Xr(r)}const ri=v("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Hr),le.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{ni(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),oi=v("$ZodE164",(e,t)=>{t.pattern??(t.pattern=ha),le.init(e,t)});function si(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[o]=r;if(!o)return!1;const s=JSON.parse(atob(o));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const ai=v("$ZodJWT",(e,t)=>{le.init(e,t),e._zod.check=r=>{si(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Qr=v("$ZodNumber",(e,t)=>{ue.init(e,t),e._zod.pattern=e._zod.bag.pattern??ya,e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const a=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...a?{received:a}:{}}),r}}),ii=v("$ZodNumberFormat",(e,t)=>{ja.init(e,t),Qr.init(e,t)}),ci=v("$ZodBoolean",(e,t)=>{ue.init(e,t),e._zod.pattern=va,e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),li=v("$ZodUnknown",(e,t)=>{ue.init(e,t),e._zod.parse=r=>r}),ui=v("$ZodNever",(e,t)=>{ue.init(e,t),e._zod.parse=(r,o)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function sr(e,t,r){e.issues.length&&t.issues.push(...ct(r,e.issues)),t.value[r]=e.value}const di=v("$ZodArray",(e,t)=>{ue.init(e,t),e._zod.parse=(r,o)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const a=[];for(let i=0;i<s.length;i++){const c=s[i],m=t.element._zod.run({value:c,issues:[]},o);m instanceof Promise?a.push(m.then(h=>sr(h,r,i))):sr(m,r,i)}return a.length?Promise.all(a).then(()=>r):r}});function Rt(e,t,r,o){e.issues.length&&t.issues.push(...ct(r,e.issues)),e.value===void 0?r in o&&(t.value[r]=void 0):t.value[r]=e.value}function eo(e){const t=Object.keys(e.shape);for(const o of t)if(!e.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=zs(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function to(e,t,r,o,s,a){const i=[],c=s.keySet,m=s.catchall._zod,h=m.def.type;for(const x in t){if(c.has(x))continue;if(h==="never"){i.push(x);continue}const j=m.run({value:t[x],issues:[]},o);j instanceof Promise?e.push(j.then(z=>Rt(z,r,x,t))):Rt(j,r,x,t)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const hi=v("$ZodObject",(e,t)=>{if(ue.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const m={...c};return Object.defineProperty(t,"shape",{value:m}),m}})}const o=vn(()=>eo(t));re(e._zod,"propValues",()=>{const c=t.shape,m={};for(const h in c){const x=c[h]._zod;if(x.values){m[h]??(m[h]=new Set);for(const j of x.values)m[h].add(j)}}return m});const s=Mt,a=t.catchall;let i;e._zod.parse=(c,m)=>{i??(i=o.value);const h=c.value;if(!s(h))return c.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),c;c.value={};const x=[],j=i.shape;for(const z of i.keys){const L=j[z]._zod.run({value:h[z],issues:[]},m);L instanceof Promise?x.push(L.then(oe=>Rt(oe,c,z,h))):Rt(L,c,z,h)}return a?to(x,h,c,m,o.value,e):x.length?Promise.all(x).then(()=>c):c}}),mi=v("$ZodObjectJIT",(e,t)=>{hi.init(e,t);const r=e._zod.parse,o=vn(()=>eo(t)),s=z=>{const I=new Da(["shape","payload","ctx"]),L=o.value,oe=q=>{const M=rr(q);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};I.write("const input = payload.value;");const Z=Object.create(null);let ne=0;for(const q of L.keys)Z[q]=`key_${ne++}`;I.write("const newResult = {};");for(const q of L.keys){const M=Z[q],g=rr(q);I.write(`const ${M} = ${oe(q)};`),I.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${g}, ...iss.path] : [${g}]
          })));
        }
        
        
        if (${M}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${M}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const J=I.compile();return(q,M)=>J(z,q,M)};let a;const i=Mt,c=!Pr.jitless,h=c&&Ts.value,x=t.catchall;let j;e._zod.parse=(z,I)=>{j??(j=o.value);const L=z.value;return i(L)?c&&h&&I?.async===!1&&I.jitless!==!0?(a||(a=s(t.shape)),z=a(z,I),x?to([],L,z,I,j,e):z):r(z,I):(z.issues.push({expected:"object",code:"invalid_type",input:L,inst:e}),z)}});function ar(e,t,r,o){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const s=e.filter(a=>!it(a));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(i=>He(i,o,qe())))}),t)}const pi=v("$ZodUnion",(e,t)=>{ue.init(e,t),re(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),re(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),re(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),re(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${s.map(a=>wn(a.source)).join("|")})$`)}});const r=t.options.length===1,o=t.options[0]._zod.run;e._zod.parse=(s,a)=>{if(r)return o(s,a);let i=!1;const c=[];for(const m of t.options){const h=m._zod.run({value:s.value,issues:[]},a);if(h instanceof Promise)c.push(h),i=!0;else{if(h.issues.length===0)return h;c.push(h)}}return i?Promise.all(c).then(m=>ar(m,s,e,a)):ar(c,s,e,a)}}),gi=v("$ZodIntersection",(e,t)=>{ue.init(e,t),e._zod.parse=(r,o)=>{const s=r.value,a=t.left._zod.run({value:s,issues:[]},o),i=t.right._zod.run({value:s,issues:[]},o);return a instanceof Promise||i instanceof Promise?Promise.all([a,i]).then(([m,h])=>ir(r,m,h)):ir(r,a,i)}});function gn(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ut(e)&&ut(t)){const r=Object.keys(t),o=Object.keys(e).filter(a=>r.indexOf(a)!==-1),s={...e,...t};for(const a of o){const i=gn(e[a],t[a]);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};s[a]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],i=gn(s,a);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function ir(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),it(e))return e;const o=gn(t.value,r.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const fi=v("$ZodRecord",(e,t)=>{ue.init(e,t),e._zod.parse=(r,o)=>{const s=r.value;if(!ut(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),r;const a=[],i=t.keyType._zod.values;if(i){r.value={};const c=new Set;for(const h of i)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){c.add(typeof h=="number"?h.toString():h);const x=t.valueType._zod.run({value:s[h],issues:[]},o);x instanceof Promise?a.push(x.then(j=>{j.issues.length&&r.issues.push(...ct(h,j.issues)),r.value[h]=j.value})):(x.issues.length&&r.issues.push(...ct(h,x.issues)),r.value[h]=x.value)}let m;for(const h in s)c.has(h)||(m=m??[],m.push(h));m&&m.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:m})}else{r.value={};for(const c of Reflect.ownKeys(s)){if(c==="__proto__")continue;const m=t.keyType._zod.run({value:c,issues:[]},o);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(m.issues.length){t.mode==="loose"?r.value[c]=s[c]:r.issues.push({code:"invalid_key",origin:"record",issues:m.issues.map(x=>He(x,o,qe())),input:c,path:[c],inst:e});continue}const h=t.valueType._zod.run({value:s[c],issues:[]},o);h instanceof Promise?a.push(h.then(x=>{x.issues.length&&r.issues.push(...ct(c,x.issues)),r.value[m.value]=x.value})):(h.issues.length&&r.issues.push(...ct(c,h.issues)),r.value[m.value]=h.value)}}return a.length?Promise.all(a).then(()=>r):r}}),xi=v("$ZodEnum",(e,t)=>{ue.init(e,t);const r=Fr(t.entries),o=new Set(r);e._zod.values=o,e._zod.pattern=new RegExp(`^(${r.filter(s=>Cs.has(typeof s)).map(s=>typeof s=="string"?Pt(s):s.toString()).join("|")})$`),e._zod.parse=(s,a)=>{const i=s.value;return o.has(i)||s.issues.push({code:"invalid_value",values:r,input:i,inst:e}),s}}),yi=v("$ZodTransform",(e,t)=>{ue.init(e,t),e._zod.parse=(r,o)=>{if(o.direction==="backward")throw new Or(e.constructor.name);const s=t.transform(r.value,r);if(o.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(r.value=i,r));if(s instanceof Promise)throw new lt;return r.value=s,r}});function cr(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const vi=v("$ZodOptional",(e,t)=>{ue.init(e,t),e._zod.optin="optional",e._zod.optout="optional",re(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),re(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${wn(r.source)})?$`):void 0}),e._zod.parse=(r,o)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,o);return s instanceof Promise?s.then(a=>cr(a,r.value)):cr(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,o)}}),bi=v("$ZodNullable",(e,t)=>{ue.init(e,t),re(e._zod,"optin",()=>t.innerType._zod.optin),re(e._zod,"optout",()=>t.innerType._zod.optout),re(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${wn(r.source)}|null)$`):void 0}),re(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,o)=>r.value===null?r:t.innerType._zod.run(r,o)}),wi=v("$ZodDefault",(e,t)=>{ue.init(e,t),e._zod.optin="optional",re(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,o)=>{if(o.direction==="backward")return t.innerType._zod.run(r,o);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,o);return s instanceof Promise?s.then(a=>lr(a,t)):lr(s,t)}});function lr(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const ki=v("$ZodPrefault",(e,t)=>{ue.init(e,t),e._zod.optin="optional",re(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,o)=>(o.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,o))}),ji=v("$ZodNonOptional",(e,t)=>{ue.init(e,t),re(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(o=>o!==void 0)):void 0}),e._zod.parse=(r,o)=>{const s=t.innerType._zod.run(r,o);return s instanceof Promise?s.then(a=>ur(a,e)):ur(s,e)}});function ur(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Si=v("$ZodCatch",(e,t)=>{ue.init(e,t),re(e._zod,"optin",()=>t.innerType._zod.optin),re(e._zod,"optout",()=>t.innerType._zod.optout),re(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,o)=>{if(o.direction==="backward")return t.innerType._zod.run(r,o);const s=t.innerType._zod.run(r,o);return s instanceof Promise?s.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>He(i,o,qe()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(a=>He(a,o,qe()))},input:r.value}),r.issues=[]),r)}}),_i=v("$ZodPipe",(e,t)=>{ue.init(e,t),re(e._zod,"values",()=>t.in._zod.values),re(e._zod,"optin",()=>t.in._zod.optin),re(e._zod,"optout",()=>t.out._zod.optout),re(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,o)=>{if(o.direction==="backward"){const a=t.out._zod.run(r,o);return a instanceof Promise?a.then(i=>It(i,t.in,o)):It(a,t.in,o)}const s=t.in._zod.run(r,o);return s instanceof Promise?s.then(a=>It(a,t.out,o)):It(s,t.out,o)}});function It(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const Ni=v("$ZodReadonly",(e,t)=>{ue.init(e,t),re(e._zod,"propValues",()=>t.innerType._zod.propValues),re(e._zod,"values",()=>t.innerType._zod.values),re(e._zod,"optin",()=>t.innerType?._zod?.optin),re(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,o)=>{if(o.direction==="backward")return t.innerType._zod.run(r,o);const s=t.innerType._zod.run(r,o);return s instanceof Promise?s.then(dr):dr(s)}});function dr(e){return e.value=Object.freeze(e.value),e}const Ti=v("$ZodLazy",(e,t)=>{ue.init(e,t),re(e._zod,"innerType",()=>t.getter()),re(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),re(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),re(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),re(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,o)=>e._zod.innerType._zod.run(r,o)}),Ci=v("$ZodCustom",(e,t)=>{Ae.init(e,t),ue.init(e,t),e._zod.parse=(r,o)=>r,e._zod.check=r=>{const o=r.value,s=t.fn(o);if(s instanceof Promise)return s.then(a=>hr(a,r,o,e));hr(s,r,o,e)}});function hr(e,t,r,o){if(!e){const s={code:"custom",input:r,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(s.params=o._zod.def.params),t.issues.push(wt(s))}}var mr;class zi{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const o=r[0];if(this._map.set(t,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const o={...this.get(r)??{}};delete o.id;const s={...o,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Ii(){return new zi}(mr=globalThis).__zod_globalRegistry??(mr.__zod_globalRegistry=Ii());const vt=globalThis.__zod_globalRegistry;function Ai(e,t){return new e({type:"string",...$(t)})}function Ei(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$(t)})}function pr(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$(t)})}function Li(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$(t)})}function Di(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$(t)})}function Mi(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$(t)})}function Ri(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$(t)})}function $i(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$(t)})}function Oi(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$(t)})}function Pi(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$(t)})}function Fi(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$(t)})}function Bi(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$(t)})}function Ui(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$(t)})}function Wi(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$(t)})}function Zi(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$(t)})}function qi(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$(t)})}function Hi(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$(t)})}function Gi(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$(t)})}function Vi(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$(t)})}function Ji(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$(t)})}function Yi(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$(t)})}function Ki(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$(t)})}function Xi(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$(t)})}function Qi(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$(t)})}function ec(e,t){return new e({type:"string",format:"date",check:"string_format",...$(t)})}function tc(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$(t)})}function nc(e,t){return new e({type:"string",format:"duration",check:"string_format",...$(t)})}function rc(e,t){return new e({type:"number",checks:[],...$(t)})}function oc(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$(t)})}function sc(e,t){return new e({type:"boolean",...$(t)})}function ac(e){return new e({type:"unknown"})}function ic(e,t){return new e({type:"never",...$(t)})}function gr(e,t){return new Yr({check:"less_than",...$(t),value:e,inclusive:!1})}function on(e,t){return new Yr({check:"less_than",...$(t),value:e,inclusive:!0})}function fr(e,t){return new Kr({check:"greater_than",...$(t),value:e,inclusive:!1})}function sn(e,t){return new Kr({check:"greater_than",...$(t),value:e,inclusive:!0})}function xr(e,t){return new ka({check:"multiple_of",...$(t),value:e})}function no(e,t){return new Sa({check:"max_length",...$(t),maximum:e})}function $t(e,t){return new _a({check:"min_length",...$(t),minimum:e})}function ro(e,t){return new Na({check:"length_equals",...$(t),length:e})}function cc(e,t){return new Ta({check:"string_format",format:"regex",...$(t),pattern:e})}function lc(e){return new Ca({check:"string_format",format:"lowercase",...$(e)})}function uc(e){return new za({check:"string_format",format:"uppercase",...$(e)})}function dc(e,t){return new Ia({check:"string_format",format:"includes",...$(t),includes:e})}function hc(e,t){return new Aa({check:"string_format",format:"starts_with",...$(t),prefix:e})}function mc(e,t){return new Ea({check:"string_format",format:"ends_with",...$(t),suffix:e})}function dt(e){return new La({check:"overwrite",tx:e})}function pc(e){return dt(t=>t.normalize(e))}function gc(){return dt(e=>e.trim())}function fc(){return dt(e=>e.toLowerCase())}function xc(){return dt(e=>e.toUpperCase())}function yc(){return dt(e=>Ns(e))}function vc(e,t,r){return new e({type:"array",element:t,...$(r)})}function bc(e,t,r){return new e({type:"custom",check:"custom",fn:t,...$(r)})}function wc(e){const t=kc(r=>(r.addIssue=o=>{if(typeof o=="string")r.issues.push(wt(o,r.value,t._zod.def));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(wt(s))}},e(r.value,r)));return t}function kc(e,t){const r=new Ae({check:"custom",...$(t)});return r._zod.check=e,r}function oo(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??vt,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function fe(e,t,r={path:[],schemaPath:[]}){var o;const s=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const i={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,i);const c=e._zod.toJSONSchema?.();if(c)i.schema=c;else{const x={...r,schemaPath:[...r.schemaPath,e],path:r.path},j=e._zod.parent;if(j)i.ref=j,fe(j,t,x),t.seen.get(j).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,i.schema,x);else{const z=i.schema,I=t.processors[s.type];if(!I)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);I(e,t,z,x)}}const m=t.metadataRegistry.get(e);return m&&Object.assign(i.schema,m),t.io==="input"&&_e(e)&&(delete i.schema.examples,delete i.schema.default),t.io==="input"&&i.schema._prefault&&((o=i.schema).default??(o.default=i.schema._prefault)),delete i.schema._prefault,t.seen.get(e).schema}function so(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=a=>{const i=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const x=e.external.registry.get(a[0])?.id,j=e.external.uri??(I=>I);if(x)return{ref:j(x)};const z=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=z,{defId:z,ref:`${j("__shared")}#/${i}/${z}`}}if(a[1]===r)return{ref:"#"};const m=`#/${i}/`,h=a[1].schema.id??`__schema${e.counter++}`;return{defId:h,ref:m+h}},s=a=>{if(a[1].schema.$ref)return;const i=a[1],{ref:c,defId:m}=o(a);i.def={...i.schema},m&&(i.defId=m);const h=i.schema;for(const x in h)delete h[x];h.$ref=c};if(e.cycles==="throw")for(const a of e.seen.entries()){const i=a[1];if(i.cycle)throw new Error(`Cycle detected: #/${i.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const i=a[1];if(t===a[0]){s(a);continue}if(e.external){const m=e.external.registry.get(a[0])?.id;if(t!==a[0]&&m){s(a);continue}}if(e.metadataRegistry.get(a[0])?.id){s(a);continue}if(i.cycle){s(a);continue}if(i.count>1&&e.reused==="ref"){s(a);continue}}}function ao(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=i=>{const c=e.seen.get(i),m=c.def??c.schema,h={...m};if(c.ref===null)return;const x=c.ref;if(c.ref=null,x){o(x);const j=e.seen.get(x).schema;j.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(j)):(Object.assign(m,j),Object.assign(m,h))}c.isParent||e.override({zodSchema:i,jsonSchema:m,path:c.path??[]})};for(const i of[...e.seen.entries()].reverse())o(i[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const i=e.external.registry.get(t)?.id;if(!i)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(i)}Object.assign(s,r.def??r.schema);const a=e.external?.defs??{};for(const i of e.seen.entries()){const c=i[1];c.def&&c.defId&&(a[c.defId]=c.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?s.$defs=a:s.definitions=a);try{const i=JSON.parse(JSON.stringify(s));return Object.defineProperty(i,"~standard",{value:{...t["~standard"],jsonSchema:{input:Ot(t,"input"),output:Ot(t,"output")}},enumerable:!1,writable:!1}),i}catch{throw new Error("Error converting schema to JSON.")}}function _e(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const o=e._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return _e(o.element,r);if(o.type==="set")return _e(o.valueType,r);if(o.type==="lazy")return _e(o.getter(),r);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return _e(o.innerType,r);if(o.type==="intersection")return _e(o.left,r)||_e(o.right,r);if(o.type==="record"||o.type==="map")return _e(o.keyType,r)||_e(o.valueType,r);if(o.type==="pipe")return _e(o.in,r)||_e(o.out,r);if(o.type==="object"){for(const s in o.shape)if(_e(o.shape[s],r))return!0;return!1}if(o.type==="union"){for(const s of o.options)if(_e(s,r))return!0;return!1}if(o.type==="tuple"){for(const s of o.items)if(_e(s,r))return!0;return!!(o.rest&&_e(o.rest,r))}return!1}const jc=(e,t={})=>r=>{const o=oo({...r,processors:t});return fe(e,o),so(o,e),ao(o,e)},Ot=(e,t)=>r=>{const{libraryOptions:o,target:s}=r??{},a=oo({...o??{},target:s,io:t,processors:{}});return fe(e,a),so(a,e),ao(a,e)},Sc={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},_c=(e,t,r,o)=>{const s=r;s.type="string";const{minimum:a,maximum:i,format:c,patterns:m,contentEncoding:h}=e._zod.bag;if(typeof a=="number"&&(s.minLength=a),typeof i=="number"&&(s.maxLength=i),c&&(s.format=Sc[c]??c,s.format===""&&delete s.format),h&&(s.contentEncoding=h),m&&m.size>0){const x=[...m];x.length===1?s.pattern=x[0].source:x.length>1&&(s.allOf=[...x.map(j=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:j.source}))])}},Nc=(e,t,r,o)=>{const s=r,{minimum:a,maximum:i,format:c,multipleOf:m,exclusiveMaximum:h,exclusiveMinimum:x}=e._zod.bag;typeof c=="string"&&c.includes("int")?s.type="integer":s.type="number",typeof x=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=x,s.exclusiveMinimum=!0):s.exclusiveMinimum=x),typeof a=="number"&&(s.minimum=a,typeof x=="number"&&t.target!=="draft-04"&&(x>=a?delete s.minimum:delete s.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=h,s.exclusiveMaximum=!0):s.exclusiveMaximum=h),typeof i=="number"&&(s.maximum=i,typeof h=="number"&&t.target!=="draft-04"&&(h<=i?delete s.maximum:delete s.exclusiveMaximum)),typeof m=="number"&&(s.multipleOf=m)},Tc=(e,t,r,o)=>{r.type="boolean"},Cc=(e,t,r,o)=>{r.not={}},zc=(e,t,r,o)=>{},Ic=(e,t,r,o)=>{const s=e._zod.def,a=Fr(s.entries);a.every(i=>typeof i=="number")&&(r.type="number"),a.every(i=>typeof i=="string")&&(r.type="string"),r.enum=a},Ac=(e,t,r,o)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Ec=(e,t,r,o)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Lc=(e,t,r,o)=>{const s=r,a=e._zod.def,{minimum:i,maximum:c}=e._zod.bag;typeof i=="number"&&(s.minItems=i),typeof c=="number"&&(s.maxItems=c),s.type="array",s.items=fe(a.element,t,{...o,path:[...o.path,"items"]})},Dc=(e,t,r,o)=>{const s=r,a=e._zod.def;s.type="object",s.properties={};const i=a.shape;for(const h in i)s.properties[h]=fe(i[h],t,{...o,path:[...o.path,"properties",h]});const c=new Set(Object.keys(i)),m=new Set([...c].filter(h=>{const x=a.shape[h]._zod;return t.io==="input"?x.optin===void 0:x.optout===void 0}));m.size>0&&(s.required=Array.from(m)),a.catchall?._zod.def.type==="never"?s.additionalProperties=!1:a.catchall?a.catchall&&(s.additionalProperties=fe(a.catchall,t,{...o,path:[...o.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},Mc=(e,t,r,o)=>{const s=e._zod.def,a=s.inclusive===!1,i=s.options.map((c,m)=>fe(c,t,{...o,path:[...o.path,a?"oneOf":"anyOf",m]}));a?r.oneOf=i:r.anyOf=i},Rc=(e,t,r,o)=>{const s=e._zod.def,a=fe(s.left,t,{...o,path:[...o.path,"allOf",0]}),i=fe(s.right,t,{...o,path:[...o.path,"allOf",1]}),c=h=>"allOf"in h&&Object.keys(h).length===1,m=[...c(a)?a.allOf:[a],...c(i)?i.allOf:[i]];r.allOf=m},$c=(e,t,r,o)=>{const s=r,a=e._zod.def;s.type="object",(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=fe(a.keyType,t,{...o,path:[...o.path,"propertyNames"]})),s.additionalProperties=fe(a.valueType,t,{...o,path:[...o.path,"additionalProperties"]})},Oc=(e,t,r,o)=>{const s=e._zod.def,a=fe(s.innerType,t,o),i=t.seen.get(e);t.target==="openapi-3.0"?(i.ref=s.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},Pc=(e,t,r,o)=>{const s=e._zod.def;fe(s.innerType,t,o);const a=t.seen.get(e);a.ref=s.innerType},Fc=(e,t,r,o)=>{const s=e._zod.def;fe(s.innerType,t,o);const a=t.seen.get(e);a.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},Bc=(e,t,r,o)=>{const s=e._zod.def;fe(s.innerType,t,o);const a=t.seen.get(e);a.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},Uc=(e,t,r,o)=>{const s=e._zod.def;fe(s.innerType,t,o);const a=t.seen.get(e);a.ref=s.innerType;let i;try{i=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=i},Wc=(e,t,r,o)=>{const s=e._zod.def,a=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;fe(a,t,o);const i=t.seen.get(e);i.ref=a},Zc=(e,t,r,o)=>{const s=e._zod.def;fe(s.innerType,t,o);const a=t.seen.get(e);a.ref=s.innerType,r.readOnly=!0},qc=(e,t,r,o)=>{const s=e._zod.def;fe(s.innerType,t,o);const a=t.seen.get(e);a.ref=s.innerType},Hc=(e,t,r,o)=>{const s=e._zod.innerType;fe(s,t,o);const a=t.seen.get(e);a.ref=s},Gc=v("ZodISODateTime",(e,t)=>{Ga.init(e,t),de.init(e,t)});function Vc(e){return Qi(Gc,e)}const Jc=v("ZodISODate",(e,t)=>{Va.init(e,t),de.init(e,t)});function Yc(e){return ec(Jc,e)}const Kc=v("ZodISOTime",(e,t)=>{Ja.init(e,t),de.init(e,t)});function Xc(e){return tc(Kc,e)}const Qc=v("ZodISODuration",(e,t)=>{Ya.init(e,t),de.init(e,t)});function el(e){return nc(Qc,e)}const tl=(e,t)=>{Zr.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Ps(e,r)},flatten:{value:r=>Os(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,pn,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,pn,2)}},isEmpty:{get(){return e.issues.length===0}}})},De=v("ZodError",tl,{Parent:Error}),nl=jn(De),rl=Sn(De),ol=Ft(De),sl=Bt(De),al=Us(De),il=Ws(De),cl=Zs(De),ll=qs(De),ul=Hs(De),dl=Gs(De),hl=Vs(De),ml=Js(De),he=v("ZodType",(e,t)=>(ue.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Ot(e,"input"),output:Ot(e,"output")}}),e.toJSONSchema=jc(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Qe(t,{checks:[...t.checks??[],...r.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),e.clone=(r,o)=>Ge(e,r,o),e.brand=()=>e,e.register=((r,o)=>(r.add(e,o),e)),e.parse=(r,o)=>nl(e,r,o,{callee:e.parse}),e.safeParse=(r,o)=>ol(e,r,o),e.parseAsync=async(r,o)=>rl(e,r,o,{callee:e.parseAsync}),e.safeParseAsync=async(r,o)=>sl(e,r,o),e.spa=e.safeParseAsync,e.encode=(r,o)=>al(e,r,o),e.decode=(r,o)=>il(e,r,o),e.encodeAsync=async(r,o)=>cl(e,r,o),e.decodeAsync=async(r,o)=>ll(e,r,o),e.safeEncode=(r,o)=>ul(e,r,o),e.safeDecode=(r,o)=>dl(e,r,o),e.safeEncodeAsync=async(r,o)=>hl(e,r,o),e.safeDecodeAsync=async(r,o)=>ml(e,r,o),e.refine=(r,o)=>e.check(su(r,o)),e.superRefine=r=>e.check(au(r)),e.overwrite=r=>e.check(dt(r)),e.optional=()=>br(e),e.nullable=()=>wr(e),e.nullish=()=>br(wr(e)),e.nonoptional=r=>Yl(e,r),e.array=()=>ze(e),e.or=r=>lo([e,r]),e.and=r=>Bl(e,r),e.transform=r=>kr(e,Zl(r)),e.default=r=>Gl(e,r),e.prefault=r=>Jl(e,r),e.catch=r=>Xl(e,r),e.pipe=r=>kr(e,r),e.readonly=()=>tu(e),e.describe=r=>{const o=e.clone();return vt.add(o,{description:r}),o},Object.defineProperty(e,"description",{get(){return vt.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return vt.get(e);const o=e.clone();return vt.add(o,r[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),io=v("_ZodString",(e,t)=>{_n.init(e,t),he.init(e,t),e._zod.processJSONSchema=(o,s,a)=>_c(e,o,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...o)=>e.check(cc(...o)),e.includes=(...o)=>e.check(dc(...o)),e.startsWith=(...o)=>e.check(hc(...o)),e.endsWith=(...o)=>e.check(mc(...o)),e.min=(...o)=>e.check($t(...o)),e.max=(...o)=>e.check(no(...o)),e.length=(...o)=>e.check(ro(...o)),e.nonempty=(...o)=>e.check($t(1,...o)),e.lowercase=o=>e.check(lc(o)),e.uppercase=o=>e.check(uc(o)),e.trim=()=>e.check(gc()),e.normalize=(...o)=>e.check(pc(...o)),e.toLowerCase=()=>e.check(fc()),e.toUpperCase=()=>e.check(xc()),e.slugify=()=>e.check(yc())}),pl=v("ZodString",(e,t)=>{_n.init(e,t),io.init(e,t),e.email=r=>e.check(Ei(gl,r)),e.url=r=>e.check($i(fl,r)),e.jwt=r=>e.check(Xi(Al,r)),e.emoji=r=>e.check(Oi(xl,r)),e.guid=r=>e.check(pr(yr,r)),e.uuid=r=>e.check(Li(At,r)),e.uuidv4=r=>e.check(Di(At,r)),e.uuidv6=r=>e.check(Mi(At,r)),e.uuidv7=r=>e.check(Ri(At,r)),e.nanoid=r=>e.check(Pi(yl,r)),e.guid=r=>e.check(pr(yr,r)),e.cuid=r=>e.check(Fi(vl,r)),e.cuid2=r=>e.check(Bi(bl,r)),e.ulid=r=>e.check(Ui(wl,r)),e.base64=r=>e.check(Ji(Cl,r)),e.base64url=r=>e.check(Yi(zl,r)),e.xid=r=>e.check(Wi(kl,r)),e.ksuid=r=>e.check(Zi(jl,r)),e.ipv4=r=>e.check(qi(Sl,r)),e.ipv6=r=>e.check(Hi(_l,r)),e.cidrv4=r=>e.check(Gi(Nl,r)),e.cidrv6=r=>e.check(Vi(Tl,r)),e.e164=r=>e.check(Ki(Il,r)),e.datetime=r=>e.check(Vc(r)),e.date=r=>e.check(Yc(r)),e.time=r=>e.check(Xc(r)),e.duration=r=>e.check(el(r))});function U(e){return Ai(pl,e)}const de=v("ZodStringFormat",(e,t)=>{le.init(e,t),io.init(e,t)}),gl=v("ZodEmail",(e,t)=>{Oa.init(e,t),de.init(e,t)}),yr=v("ZodGUID",(e,t)=>{Ra.init(e,t),de.init(e,t)}),At=v("ZodUUID",(e,t)=>{$a.init(e,t),de.init(e,t)}),fl=v("ZodURL",(e,t)=>{Pa.init(e,t),de.init(e,t)}),xl=v("ZodEmoji",(e,t)=>{Fa.init(e,t),de.init(e,t)}),yl=v("ZodNanoID",(e,t)=>{Ba.init(e,t),de.init(e,t)}),vl=v("ZodCUID",(e,t)=>{Ua.init(e,t),de.init(e,t)}),bl=v("ZodCUID2",(e,t)=>{Wa.init(e,t),de.init(e,t)}),wl=v("ZodULID",(e,t)=>{Za.init(e,t),de.init(e,t)}),kl=v("ZodXID",(e,t)=>{qa.init(e,t),de.init(e,t)}),jl=v("ZodKSUID",(e,t)=>{Ha.init(e,t),de.init(e,t)}),Sl=v("ZodIPv4",(e,t)=>{Ka.init(e,t),de.init(e,t)}),_l=v("ZodIPv6",(e,t)=>{Xa.init(e,t),de.init(e,t)}),Nl=v("ZodCIDRv4",(e,t)=>{Qa.init(e,t),de.init(e,t)}),Tl=v("ZodCIDRv6",(e,t)=>{ei.init(e,t),de.init(e,t)}),Cl=v("ZodBase64",(e,t)=>{ti.init(e,t),de.init(e,t)}),zl=v("ZodBase64URL",(e,t)=>{ri.init(e,t),de.init(e,t)}),Il=v("ZodE164",(e,t)=>{oi.init(e,t),de.init(e,t)}),Al=v("ZodJWT",(e,t)=>{ai.init(e,t),de.init(e,t)}),co=v("ZodNumber",(e,t)=>{Qr.init(e,t),he.init(e,t),e._zod.processJSONSchema=(o,s,a)=>Nc(e,o,s),e.gt=(o,s)=>e.check(fr(o,s)),e.gte=(o,s)=>e.check(sn(o,s)),e.min=(o,s)=>e.check(sn(o,s)),e.lt=(o,s)=>e.check(gr(o,s)),e.lte=(o,s)=>e.check(on(o,s)),e.max=(o,s)=>e.check(on(o,s)),e.int=o=>e.check(vr(o)),e.safe=o=>e.check(vr(o)),e.positive=o=>e.check(fr(0,o)),e.nonnegative=o=>e.check(sn(0,o)),e.negative=o=>e.check(gr(0,o)),e.nonpositive=o=>e.check(on(0,o)),e.multipleOf=(o,s)=>e.check(xr(o,s)),e.step=(o,s)=>e.check(xr(o,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function me(e){return rc(co,e)}const El=v("ZodNumberFormat",(e,t)=>{ii.init(e,t),co.init(e,t)});function vr(e){return oc(El,e)}const Ll=v("ZodBoolean",(e,t)=>{ci.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Tc(e,r,o)});function Ie(e){return sc(Ll,e)}const Dl=v("ZodUnknown",(e,t)=>{li.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>zc()});function fn(){return ac(Dl)}const Ml=v("ZodNever",(e,t)=>{ui.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Cc(e,r,o)});function Rl(e){return ic(Ml,e)}const $l=v("ZodArray",(e,t)=>{di.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Lc(e,r,o,s),e.element=t.element,e.min=(r,o)=>e.check($t(r,o)),e.nonempty=r=>e.check($t(1,r)),e.max=(r,o)=>e.check(no(r,o)),e.length=(r,o)=>e.check(ro(r,o)),e.unwrap=()=>e.element});function ze(e,t){return vc($l,e,t)}const Ol=v("ZodObject",(e,t)=>{mi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Dc(e,r,o,s),re(e,"shape",()=>t.shape),e.keyof=()=>et(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:fn()}),e.loose=()=>e.clone({...e._zod.def,catchall:fn()}),e.strict=()=>e.clone({...e._zod.def,catchall:Rl()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Ls(e,r),e.safeExtend=r=>Ds(e,r),e.merge=r=>Ms(e,r),e.pick=r=>As(e,r),e.omit=r=>Es(e,r),e.partial=(...r)=>Rs(ho,e,r[0]),e.required=(...r)=>$s(mo,e,r[0])});function pe(e,t){const r={type:"object",shape:e??{},...$(t)};return new Ol(r)}const Pl=v("ZodUnion",(e,t)=>{pi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Mc(e,r,o,s),e.options=t.options});function lo(e,t){return new Pl({type:"union",options:e,...$(t)})}const Fl=v("ZodIntersection",(e,t)=>{gi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Rc(e,r,o,s)});function Bl(e,t){return new Fl({type:"intersection",left:e,right:t})}const Ul=v("ZodRecord",(e,t)=>{fi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>$c(e,r,o,s),e.keyType=t.keyType,e.valueType=t.valueType});function uo(e,t,r){return new Ul({type:"record",keyType:e,valueType:t,...$(r)})}const xn=v("ZodEnum",(e,t)=>{xi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(o,s,a)=>Ic(e,o,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(o,s)=>{const a={};for(const i of o)if(r.has(i))a[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new xn({...t,checks:[],...$(s),entries:a})},e.exclude=(o,s)=>{const a={...t.entries};for(const i of o)if(r.has(i))delete a[i];else throw new Error(`Key ${i} not found in enum`);return new xn({...t,checks:[],...$(s),entries:a})}});function et(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new xn({type:"enum",entries:r,...$(t)})}const Wl=v("ZodTransform",(e,t)=>{yi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Ec(e,r),e._zod.parse=(r,o)=>{if(o.direction==="backward")throw new Or(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(wt(a,r.value,t));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(wt(i))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(a=>(r.value=a,r)):(r.value=s,r)}});function Zl(e){return new Wl({type:"transform",transform:e})}const ho=v("ZodOptional",(e,t)=>{vi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>qc(e,r,o,s),e.unwrap=()=>e._zod.def.innerType});function br(e){return new ho({type:"optional",innerType:e})}const ql=v("ZodNullable",(e,t)=>{bi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Oc(e,r,o,s),e.unwrap=()=>e._zod.def.innerType});function wr(e){return new ql({type:"nullable",innerType:e})}const Hl=v("ZodDefault",(e,t)=>{wi.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Fc(e,r,o,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Gl(e,t){return new Hl({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Ur(t)}})}const Vl=v("ZodPrefault",(e,t)=>{ki.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Bc(e,r,o,s),e.unwrap=()=>e._zod.def.innerType});function Jl(e,t){return new Vl({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Ur(t)}})}const mo=v("ZodNonOptional",(e,t)=>{ji.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Pc(e,r,o,s),e.unwrap=()=>e._zod.def.innerType});function Yl(e,t){return new mo({type:"nonoptional",innerType:e,...$(t)})}const Kl=v("ZodCatch",(e,t)=>{Si.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Uc(e,r,o,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Xl(e,t){return new Kl({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Ql=v("ZodPipe",(e,t)=>{_i.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Wc(e,r,o,s),e.in=t.in,e.out=t.out});function kr(e,t){return new Ql({type:"pipe",in:e,out:t})}const eu=v("ZodReadonly",(e,t)=>{Ni.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Zc(e,r,o,s),e.unwrap=()=>e._zod.def.innerType});function tu(e){return new eu({type:"readonly",innerType:e})}const nu=v("ZodLazy",(e,t)=>{Ti.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Hc(e,r,o,s),e.unwrap=()=>e._zod.def.getter()});function ru(e){return new nu({type:"lazy",getter:e})}const ou=v("ZodCustom",(e,t)=>{Ci.init(e,t),he.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Ac(e,r)});function su(e,t={}){return bc(ou,e,t)}function au(e){return wc(e)}const iu=pe({id:U(),title:U().min(1).max(100),url:U().url(),icon:U().optional(),iconType:et(["favicon","svg","custom","none"]).optional(),hidden:Ie().optional(),hotkey:U().max(10).optional()}),po=pe({id:U(),title:U().min(1).max(100),url:U().url(),folderId:U().optional()}),cu=pe({id:U(),name:U().min(1).max(50),links:ze(po),expanded:Ie().optional()}),lu=pe({enabled:Ie(),triggerKeyword:U().min(1).max(20),openInIncognito:Ie(),folders:ze(cu),rootLinks:ze(po)});pe({category:et(["motivational","wisdom","humorous","literary","custom"]).optional(),customQuotes:ze(pe({text:U().max(500),author:U().max(100)})).optional(),autoRefresh:Ie().optional(),refreshInterval:me().min(1).max(1440).optional()});pe({manualLocation:U().max(100).optional(),refreshMinutes:me().min(1).max(1440).optional()});pe({baseCurrency:U().length(3),activeTab:et(["currency","crypto"]),enabledCurrencies:ze(U()).max(20),enabledCryptos:ze(U()).max(20),showSparkline:Ie()});const uu=lo([U().url(),pe({url:U().url(),category:U().max(50)})]);pe({feeds:ze(uu).max(50),maxItems:me().min(1).max(500).optional(),refreshMinutes:me().min(1).max(1440).optional()});const Ye=pe({enabled:Ie(),position:me().optional(),settings:uo(U(),fn()).optional()}),du=pe({openStickyNotes:Ie(),openNotepad:Ie(),stickyNoteShortcut:U().max(20).optional()}),hu=pe({type:et(["solid","gradient","image","unsplash","nasa","picsum","istanbul","space","ocean"]),value:U(),imageIds:ze(U()).optional(),randomMode:Ie().optional(),currentImageId:U().optional(),blur:me().min(0).max(20).optional(),opacity:me().min(0).max(100).optional()}),mu=pe({primary:U().regex(/^#[0-9A-Fa-f]{6}$/),secondary:U().regex(/^#[0-9A-Fa-f]{6}$/),background:U().regex(/^#[0-9A-Fa-f]{6}$/),foreground:U().regex(/^#[0-9A-Fa-f]{6}$/),text:U().regex(/^#[0-9A-Fa-f]{6}$/),textSecondary:U().regex(/^#[0-9A-Fa-f]{6}$/),border:U().regex(/^#[0-9A-Fa-f]{6}$/),accent:U().regex(/^#[0-9A-Fa-f]{6}$/)}),Nn=ru(()=>pe({id:U(),text:U().max(500),subheading:U().max(200).optional(),completed:Ie(),createdAt:me(),subtasks:ze(Nn).optional()})),pu=pe({isRunning:Ie(),mode:et(["work","shortBreak","longBreak","custom"]),timeLeft:me(),workDuration:me(),shortBreakDuration:me(),longBreakDuration:me(),customDuration:me(),sessionsCompleted:me()}),gu=pe({id:U(),content:U().max(1e4),position:pe({x:me(),y:me()}),size:pe({width:me(),height:me()}),fontSize:me().min(8).max(32),fontFamily:U(),color:U(),textColor:U(),createdAt:me(),updatedAt:me(),mode:et(["notes","todos","pomodoro"]),todos:ze(Nn),pomodoro:pu}),fu=pe({quickLinks:ze(iu).max(50),quickLinksSpacingWidget:Ie().optional(),introSeen:Ie().optional(),locale:U().optional(),widgetOrder:ze(U()).optional(),secretLinks:lu.optional(),quickActions:du.optional(),widgets:pe({quotes:Ye,weather:Ye,currency:Ye,rss:Ye,pomodoro:Ye,music:Ye,calendar:Ye}),theme:U(),customThemeColors:mu.optional(),background:hu,shortcuts:uo(U(),U()),notes:U().max(1e5),todos:ze(Nn),stickyNote:gu.nullable()}),yn="hotpage-settings",xu=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light",bt={locale:"en-US",quickLinks:[{id:"default-1",title:"Enesehs",url:"https://enesehs.dev",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',iconType:"svg"},{id:"default-2",title:"Youtube",url:"https://youtube.com",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"/><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"/></svg>',iconType:"svg"},{id:"default-3",title:"Instagram",url:"https://instagram.com",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>',iconType:"svg"},{id:"default-4",title:"Github",url:"https://github.com",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>',iconType:"svg"},{id:"default-5",title:"LinkedIn",url:"https://linkedin.com",icon:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>',iconType:"svg"}],quickLinksSpacingWidget:!0,introSeen:!1,widgetOrder:["weather","currency","rss"],secretLinks:{enabled:!0,triggerKeyword:"pass",openInIncognito:!0,folders:[],rootLinks:[]},quickActions:{openStickyNotes:!0,openNotepad:!0,stickyNoteShortcut:"Shift+N"},googleShortcuts:{enabled:!0,showGmail:!0,showAppsMenu:!0},widgets:{quotes:{enabled:!0,settings:{autoRefresh:!1,refreshInterval:30}},weather:{enabled:!0,settings:{manualLocation:"",refreshMinutes:10}},currency:{enabled:!0,settings:{baseCurrency:"USD",activeTab:"currency",enabledCurrencies:["USD","EUR","GBP","JPY","XAU"],enabledCryptos:["bitcoin","ethereum","binancecoin","ripple","cardano"],showSparkline:!1}},rss:{enabled:!0,settings:{feeds:[{url:"https://github.blog/feed/",category:"Technology"}],maxItems:150,refreshMinutes:30}},pomodoro:{enabled:!0},music:{enabled:!0},calendar:{enabled:!0}},theme:xu,background:{type:"solid",value:"#ffffff",opacity:10,blur:0},shortcuts:{},notes:"",todos:[{id:"default-1",text:"Install the Hotpage",completed:!0,createdAt:Date.now()},{id:"default-2",text:"Visit enesehs.dev",completed:!1,createdAt:Date.now()}],stickyNote:null},yu=()=>{try{const e=localStorage.getItem(yn);if(e){const t=JSON.parse(e),r={...bt,...t};if(r.widgets={...bt.widgets,...t.widgets},r.background.randomMode&&r.background.imageIds&&r.background.imageIds.length>0){const o=Math.floor(Math.random()*r.background.imageIds.length);r.background.currentImageId=r.background.imageIds[o]}return r}}catch(e){console.error("Failed to load settings:",e)}return bt},vu=e=>{try{const t=JSON.parse(JSON.stringify(e));t.background.type==="image"&&(t.background.value="");const r=JSON.stringify(t);localStorage.setItem(yn,r),typeof chrome<"u"&&chrome.storage&&chrome.storage.local&&chrome.storage.local.set({[yn]:t})}catch(t){console.error("Failed to save settings:",t)}},bu=e=>JSON.stringify(e,null,2),wu=e=>{try{const t=JSON.parse(e),r=fu.parse(t);return r.quickLinks&&(r.quickLinks=r.quickLinks.map(o=>({...o,icon:o.icon&&o.iconType==="svg"?$r(o.icon):o.icon}))),{...bt,...r}}catch(t){if(console.error("Failed to import settings:",t),t instanceof Error)throw new Error(`Settings validation failed: ${t.message}`);return null}},ku="v1.3.2",ju=({isOpen:e,onClose:t,settings:r,onSettingsChange:o,onOpenStickyNotes:s,rssStats:a})=>{const[i,c]=y.useState("general"),[m,h]=y.useState([]),[x,j]=y.useState(!1),[z,I]=y.useState(!1),[L,oe]=y.useState(!1),[Z,ne]=y.useState(!1),[J,q]=y.useState(!1),[M,g]=y.useState(!1),[d,W]=y.useState(""),[H,O]=y.useState("General"),[w,N]=y.useState(null),F=y.useRef(null);if(y.useEffect(()=>{e&&(async()=>{try{const p=await Be.getAllImages();h(p)}catch(p){console.error("Failed to load images:",p)}})()},[e]),!e)return null;const T=l=>{const p=mn(l,r.customThemeColors);hn(p),o({theme:l})},E=(l,p)=>{const S={...r.customThemeColors,[l]:p};if(r.theme==="custom"){const D=mn("custom",S);hn(D)}o({customThemeColors:S})},k=l=>{const p=r.widgets[l]||{enabled:!1};o({widgets:{...r.widgets,[l]:{...p,enabled:!p.enabled}}})},Y=()=>{try{const l=new Blob([bu(r)],{type:"application/json"}),p=URL.createObjectURL(l),S=document.createElement("a");S.href=p,S.download="hotpage-settings.json",S.click(),URL.revokeObjectURL(p)}catch(l){console.error("Failed to export settings:",l),alert("Export failed.")}},ee=()=>{F.current?.click()},te=async l=>{const p=l.target.files?.[0];if(p)try{const S=await p.text(),D=wu(S);D?o(D):alert("Import failed. Invalid file.")}catch(S){console.error("Failed to import settings:",S),alert("Import failed.")}finally{l.target.value=""}},b=()=>{if(window.confirm("Clear all HotPage data? This cannot be undone."))try{localStorage.removeItem("hotpage-settings"),o({...bt})}catch(p){console.error("Failed to clear data:",p),alert("Could not clear data.")}};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"settings-overlay",onClick:t}),n.jsxs("div",{className:"settings-panel",children:[n.jsxs("div",{className:"settings-header",children:[n.jsx("h2",{children:"Settings"}),n.jsx("button",{className:"close-btn",onClick:t,"aria-label":"Close settings",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 18L18 6"}),n.jsx("path",{d:"M6 6L18 18"})]})})]}),n.jsxs("div",{className:"settings-tabs",children:[n.jsx("button",{className:`tab ${i==="general"?"active":""}`,onClick:()=>c("general"),children:"General"}),n.jsx("button",{className:`tab ${i==="appearance"?"active":""}`,onClick:()=>c("appearance"),children:"Appearance"}),n.jsx("button",{className:`tab ${i==="widgets"?"active":""}`,onClick:()=>c("widgets"),children:"Widgets"})]}),n.jsxs("div",{className:"settings-content",children:[i==="general"&&n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:"Time Format"}),n.jsxs("div",{className:"theme-selector",children:[n.jsxs("button",{className:`theme-btn ${!r.locale||r.locale==="system"||r.locale?.includes("US")?"active":""}`,onClick:()=>o({locale:"en-US"}),children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"12-Hour"]}),n.jsxs("button",{className:`theme-btn ${r.locale&&!r.locale.includes("US")&&r.locale!=="system"?"active":""}`,onClick:()=>o({locale:"en-GB"}),children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"24-Hour"]})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Language / Locale"}),n.jsxs("select",{className:"settings-select",value:r.locale||"en-US",onChange:l=>o({locale:l.target.value}),children:[n.jsx("option",{value:"en-US",children:"English (US)"}),n.jsx("option",{value:"en-GB",children:"English (UK)"}),n.jsx("option",{value:"tr-TR",children:"Türkçe (Turkish)"}),n.jsx("option",{value:"de-DE",children:"Deutsch (German)"}),n.jsx("option",{value:"fr-FR",children:"Français (French)"}),n.jsx("option",{value:"es-ES",children:"Español (Spanish)"}),n.jsx("option",{value:"it-IT",children:"Italiano (Italian)"}),n.jsx("option",{value:"pt-BR",children:"Português (Brazilian)"}),n.jsx("option",{value:"ru-RU",children:"Русский (Russian)"}),n.jsx("option",{value:"ja-JP",children:"日本語 (Japanese)"}),n.jsx("option",{value:"ko-KR",children:"한국어 (Korean)"}),n.jsx("option",{value:"zh-CN",children:"简体中文 (Chinese Simplified)"}),n.jsx("option",{value:"ar-SA",children:"العربية (Arabic)"})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Data & Privacy"}),n.jsxs("button",{className:"settings-btn danger",onClick:b,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),n.jsx("span",{children:"Clear All Data"})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Import/Export"}),n.jsxs("div",{className:"button-group",children:[n.jsxs("button",{className:"settings-btn",onClick:Y,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"17 8 12 3 7 8"}),n.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),n.jsx("span",{children:"Export Settings"})]}),n.jsxs("button",{className:"settings-btn",onClick:ee,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),n.jsx("span",{children:"Import Settings"})]}),n.jsx("input",{ref:F,type:"file",accept:"application/json",style:{display:"none"},onChange:te})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"About"}),n.jsxs("div",{className:"about-info",children:[n.jsx("p",{children:n.jsxs("strong",{children:["HotPage ",ku.trim()]})}),n.jsx("p",{style:{fontSize:"0.875rem",color:"var(--color-textSecondary)"},children:"A customizable browser homepage with widgets and productivity tools."}),n.jsxs("div",{style:{marginTop:"var(--spacing-md)"},children:[n.jsx("p",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"var(--spacing-sm)"},children:"Tech Stack"}),n.jsx("p",{style:{fontSize:"0.8125rem",color:"var(--color-textSecondary)",margin:0},children:"React 19 • Vite 7 • TypeScript"})]}),n.jsxs("div",{style:{marginTop:"var(--spacing-md)"},children:[n.jsx("p",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"var(--spacing-sm)"},children:"Privacy"}),n.jsx("p",{style:{fontSize:"0.8125rem",color:"var(--color-textSecondary)",margin:0},children:"No tracking. No analytics. All data stays locally in your browser."})]}),n.jsxs("div",{style:{marginTop:"var(--spacing-md)"},children:[n.jsx("p",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"var(--spacing-sm)"},children:"License"}),n.jsx("p",{style:{fontSize:"0.8125rem",color:"var(--color-textSecondary)",margin:0},children:"Licensed under the MIT License. You are free to use, modify, and distribute this software with attribution."})]}),n.jsxs("div",{style:{marginTop:"var(--spacing-lg)"},children:[n.jsx("p",{style:{fontSize:"0.875rem",fontWeight:600,marginBottom:"var(--spacing-sm)"},children:"Links"}),n.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"grid",gap:"6px"},children:[n.jsx("li",{children:n.jsxs("a",{href:"https://github.com/enesehs/Hotpage",target:"_blank",rel:"noopener noreferrer",style:{fontSize:"0.8125rem",color:"var(--color-primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:n.jsx("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.999 1C5.926 1 1 5.925 1 12c0 4.86 3.152 8.983 7.523 10.437c.55.102.75-.238.75-.53c0-.26-.009-.952-.014-1.87c-3.06.664-3.706-1.475-3.706-1.475c-.5-1.27-1.221-1.61-1.221-1.61c-.999-.681.075-.668.075-.668c1.105.078 1.685 1.134 1.685 1.134c.981 1.68 2.575 1.195 3.202.914c.1-.71.384-1.195.698-1.47c-2.442-.278-5.01-1.222-5.01-5.437c0-1.2.428-2.183 1.132-2.952c-.114-.278-.491-1.397.108-2.91c0 0 .923-.297 3.025 1.127A10.5 10.5 0 0 1 12 6.32a10.5 10.5 0 0 1 2.754.37c2.1-1.424 3.022-1.128 3.022-1.128c.6 1.514.223 2.633.11 2.911c.705.769 1.13 1.751 1.13 2.952c0 4.226-2.572 5.156-5.022 5.428c.395.34.747 1.01.747 2.037c0 1.47-.014 2.657-.014 3.017c0 .295.199.637.756.53C19.851 20.979 23 16.859 23 12c0-6.075-4.926-11-11.001-11"})}),"Source Code"]})}),n.jsx("li",{children:n.jsxs("a",{href:"https://buymeacoffee.com/enesehs",target:"_blank",rel:"noopener noreferrer",style:{fontSize:"0.8125rem",color:"var(--color-primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 32 32",children:n.jsx("path",{fill:"currentColor",d:"M9.197 0L7.578 3.735H5.171v3.359h.921l.943 5.975H5.562L7.51 24.042l1.249-.015L10.015 32h11.891l.083-.531l1.172-7.443l1.188.015l1.943-10.973h-1.407l.937-5.975h1.011V3.734h-2.557L22.651-.001zm.704 1.073h12.057l1.025 2.375H8.868zm-3.666 3.73H25.76v1.228H6.235zm.604 9.333h18.183l-1.568 8.823l-7.536-.079l-7.511.079z"})}),"Support the Project"]})}),n.jsxs("li",{style:{color:"var(--color-primary)",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 512 512",preserveAspectRatio:"xMidYMid meet",fill:"currentColor","fill-rule":"evenodd",children:n.jsxs("g",{transform:"translate(0,512) scale(0.1,-0.1)",stroke:"none",children:[n.jsx("path",{d:`M1045 5105 c-263 -41 -477 -149 -671 -340 -160 -157 -254 -308 -319\r
                        -515 -57 -182 -56 -150 -52 -1738 3 -1333 4 -1463 20 -1527 63 -257 159 -435\r
                        330 -612 142 -147 295 -243 492 -309 200 -67 146 -65 1763 -61 1362 3 1462 4\r
                        1532 21 257 61 458 174 631 354 170 176 266 354 325 602 17 70 18 175 21 1532\r
                        4 1617 6 1563 -61 1763 -68 204 -164 354 -321 502 -196 186 -425 297 -688 332\r
                        -121 17 -2897 13 -3002 -4z m1820 -1246 c613 -68 1045 -420 1172 -958 21 -88\r
                        26 -140 30 -308 l6 -203 -1197 0 -1196 0 0 -45 c0 -25 7 -80 16 -122 66 -321\r
                        273 -531 609 -619 175 -46 483 -45 655 2 233 63 411 189 482 339 l30 65 284 0\r
                        c160 0 284 -4 284 -9 0 -5 -9 -40 -21 -77 -118 -386 -487 -653 -1034 -749\r
                        -198 -35 -539 -36 -734 -4 -614 102 -1033 475 -1146 1019 -52 250 -30 595 52\r
                        825 221 614 873 936 1708 844z`}),n.jsx("path",{d:`M2415 3459 c-108 -14 -239 -55 -339 -106 -112 -58 -243 -182 -299\r
                        -283 -37 -68 -91 -218 -100 -282 l-6 -38 906 0 906 0 -7 60 c-36 316 -243 543\r
                        -567 623 -141 35 -337 45 -494 26z`})]})}),n.jsx("a",{href:"https://enesehs.dev",target:"_blank",rel:"noopener noreferrer",style:{fontSize:"0.8125rem",color:"var(--color-primary)",textDecoration:"none"},children:"Developer Website"})]})]})]}),n.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--color-textSecondary)",marginTop:"var(--spacing-md)"},children:["© ",new Date().getFullYear()," Enesehs All rights reserved."]})]})]}),i==="appearance"&&n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:"Theme"}),n.jsxs("div",{className:"theme-grid",children:[n.jsxs("button",{className:`theme-option light ${r.theme==="light"?"active":""}`,onClick:()=>T("light"),title:"Classic Light",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#3b82f6"}}),n.jsx("span",{style:{background:"#8b5cf6"}}),n.jsx("span",{style:{background:"#ffffff"}})]}),n.jsx("span",{className:"theme-name",children:"Light"})]}),n.jsxs("button",{className:`theme-option dark ${r.theme==="dark"?"active":""}`,onClick:()=>T("dark"),title:"Classic Dark",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#60a5fa"}}),n.jsx("span",{style:{background:"#a78bfa"}}),n.jsx("span",{style:{background:"#1e293b"}})]}),n.jsx("span",{className:"theme-name",children:"Dark"})]}),n.jsxs("button",{className:`theme-option ocean ${r.theme==="ocean"?"active":""}`,onClick:()=>T("ocean"),title:"Ocean Blue",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#0ea5e9"}}),n.jsx("span",{style:{background:"#06b6d4"}}),n.jsx("span",{style:{background:"#f0f9ff"}})]}),n.jsx("span",{className:"theme-name",children:"Ocean"})]}),n.jsxs("button",{className:`theme-option forest ${r.theme==="forest"?"active":""}`,onClick:()=>T("forest"),title:"Forest Green",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#10b981"}}),n.jsx("span",{style:{background:"#059669"}}),n.jsx("span",{style:{background:"#f0fdf4"}})]}),n.jsx("span",{className:"theme-name",children:"Forest"})]}),n.jsxs("button",{className:`theme-option sunset ${r.theme==="sunset"?"active":""}`,onClick:()=>T("sunset"),title:"Sunset Orange",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#f97316"}}),n.jsx("span",{style:{background:"#ea580c"}}),n.jsx("span",{style:{background:"#fff7ed"}})]}),n.jsx("span",{className:"theme-name",children:"Sunset"})]}),n.jsxs("button",{className:`theme-option purple ${r.theme==="purple"?"active":""}`,onClick:()=>T("purple"),title:"Purple Dream",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#a855f7"}}),n.jsx("span",{style:{background:"#9333ea"}}),n.jsx("span",{style:{background:"#faf5ff"}})]}),n.jsx("span",{className:"theme-name",children:"Purple"})]}),n.jsxs("button",{className:`theme-option rose ${r.theme==="rose"?"active":""}`,onClick:()=>T("rose"),title:"Rose Pink",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#ec4899"}}),n.jsx("span",{style:{background:"#db2777"}}),n.jsx("span",{style:{background:"#fdf2f8"}})]}),n.jsx("span",{className:"theme-name",children:"Rose"})]}),n.jsxs("button",{className:`theme-option midnight ${r.theme==="midnight"?"active":""}`,onClick:()=>T("midnight"),title:"Midnight Dark",children:[n.jsxs("div",{className:"theme-preview",children:[n.jsx("span",{style:{background:"#60a5fa"}}),n.jsx("span",{style:{background:"#818cf8"}}),n.jsx("span",{style:{background:"#0f172a"}})]}),n.jsx("span",{className:"theme-name",children:"Midnight"})]}),n.jsxs("button",{className:`theme-option custom ${r.theme==="custom"?"active":""}`,onClick:()=>T("custom"),title:"Custom Theme",children:[n.jsx("div",{className:"theme-preview custom-preview",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:n.jsx("path",{fill:"currentColor",d:"M19 12.998h-6v6h-2v-6H5v-2h6v-6h2v6h6z"})})}),n.jsx("span",{className:"theme-name",children:"Custom"})]})]}),r.theme==="custom"&&n.jsxs(n.Fragment,{children:[n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Custom Theme Colors"}),n.jsxs("div",{className:"custom-theme-colors",children:[n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Primary Color"}),n.jsx("input",{type:"color",value:r.customThemeColors?.primary||"#3b82f6",onChange:l=>E("primary",l.target.value)})]}),n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Secondary Color"}),n.jsx("input",{type:"color",value:r.customThemeColors?.secondary||"#8b5cf6",onChange:l=>E("secondary",l.target.value)})]}),n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Background"}),n.jsx("input",{type:"color",value:r.customThemeColors?.background||"#ffffff",onChange:l=>E("background",l.target.value)})]}),n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Foreground"}),n.jsx("input",{type:"color",value:r.customThemeColors?.foreground||"#f8fafc",onChange:l=>E("foreground",l.target.value)})]}),n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Text Color"}),n.jsx("input",{type:"color",value:r.customThemeColors?.text||"#1e293b",onChange:l=>E("text",l.target.value)})]}),n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Secondary Text"}),n.jsx("input",{type:"color",value:r.customThemeColors?.textSecondary||"#64748b",onChange:l=>E("textSecondary",l.target.value)})]}),n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Border Color"}),n.jsx("input",{type:"color",value:r.customThemeColors?.border||"#e2e8f0",onChange:l=>E("border",l.target.value)})]}),n.jsxs("div",{className:"color-picker-group",children:[n.jsx("label",{children:"Accent Color"}),n.jsx("input",{type:"color",value:r.customThemeColors?.accent||"#10b981",onChange:l=>E("accent",l.target.value)})]})]})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Background Images"}),n.jsxs("div",{style:{display:"flex",gap:"var(--spacing-sm)",alignItems:"center"},children:[n.jsxs("button",{className:`source-btn source-btn-full ${r.background.type==="image"?"active":""}`,onClick:()=>document.getElementById("background-upload")?.click(),style:{flex:1},children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"17 8 12 3 7 8"}),n.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Custom Upload"]}),(r.background.type==="picsum"||r.background.type==="unsplash"||r.background.type==="nasa"||r.background.type==="istanbul"||r.background.type==="space"||r.background.type==="ocean")&&n.jsx("button",{className:"source-btn",onClick:()=>{o({background:{type:"solid",value:"#1a1a2e",blur:r.background.blur,opacity:r.background.opacity}})},style:{flex:"0 0 auto",padding:"0 var(--spacing-md)",height:"55px",backgroundColor:"rgba(239, 68, 68, 0.15)",borderColor:"rgba(239, 68, 68, 0.3)",color:"rgb(239, 68, 68)",bottom:".5rem"},title:"Remove online wallpaper",children:n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),n.jsxs("div",{className:"background-source-selector",children:[n.jsxs("button",{className:`source-btn ${r.background.type==="picsum"?"active":""}`,onClick:()=>{j(!0);const l=["https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?q=80&w=3044&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1486222/pexels-photo-1486222.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1449824913935-59a10b8d2000?q=80&w=1920&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.pexels.com/photos/466685/pexels-photo-466685.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=2400&q=80","https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=2400&q=80","https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=2400&q=80","https://images.unsplash.com/photo-1444084316824-dc26d6657664?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1514565131-fce0801e5785?w=2400&q=80","https://images.unsplash.com/photo-1519501025264-65ba15a82390?w=2400&q=80","https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/374870/pexels-photo-374870.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/169647/pexels-photo-169647.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/3586966/pexels-photo-3586966.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/313782/pexels-photo-313782.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/2416653/pexels-photo-2416653.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1465447142348-e9952c393450?w=2400&q=80","https://images.pexels.com/photos/1647120/pexels-photo-1647120.jpeg?auto=compress&cs=tinysrgb&w=2400"],p=l[Math.floor(Math.random()*l.length)],S=new Image;S.onload=()=>{o({background:{type:"picsum",value:p,blur:r.background.blur,opacity:r.background.opacity}}),j(!1)},S.onerror=()=>j(!1),S.src=p},disabled:x,children:[x?n.jsx("div",{className:"loading-spinner"}):n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M7 9.01L7.01 8.99889"}),n.jsx("path",{d:"M11 9.01L11.01 8.99889"}),n.jsx("path",{d:"M7 13.01L7.01 12.9989"}),n.jsx("path",{d:"M11 13.01L11.01 12.9989"}),n.jsx("path",{d:"M7 17.01L7.01 16.9989"}),n.jsx("path",{d:"M11 17.01L11.01 16.9989"}),n.jsx("path",{d:"M15 21H3.6C3.26863 21 3 20.7314 3 20.4V5.6C3 5.26863 3.26863 5 3.6 5H9V3.6C9 3.26863 9.26863 3 9.6 3H14.4C14.7314 3 15 3.26863 15 3.6V9M15 21H20.4C20.7314 21 21 20.7314 21 20.4V9.6C21 9.26863 20.7314 9 20.4 9H15M15 21V17M15 9V13M15 13H17M15 13V17M15 17H17"})]}),x?"Loading...":"City"]}),n.jsxs("button",{className:`source-btn ${r.background.type==="nasa"?"active":""}`,onClick:()=>{I(!0);const l=["https://images.pexels.com/photos/709552/pexels-photo-709552.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1933239/pexels-photo-1933239.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1287145/pexels-photo-1287145.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1496373/pexels-photo-1496373.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1179229/pexels-photo-1179229.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1426604966848-d7adac402bff?w=2400&q=80","https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=2400&q=80","https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=2400&q=80","https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=2400&q=80","https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=2400&q=80"],p=l[Math.floor(Math.random()*l.length)],S=new Image;S.onload=()=>{o({background:{type:"nasa",value:p,blur:r.background.blur,opacity:r.background.opacity}}),I(!1)},S.onerror=()=>I(!1),S.src=p},disabled:z,children:[z?n.jsx("div",{className:"loading-spinner"}):n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:n.jsx("path",{d:"M3,21H21M13,8.5a3.49,3.49,0,0,0-2.09-3.2,3,3,0,0,0-5.82,0,3.49,3.49,0,0,0,0,6.4,3,3,0,0,0,5.82,0A3.49,3.49,0,0,0,13,8.5ZM8,9V21m13-8V10a2,2,0,0,0-2-2h0a2,2,0,0,0-2,2v3a2,2,0,0,0,2,2h0A2,2,0,0,0,21,13Zm-2,2v6"})}),z?"Loading...":"Nature"]}),n.jsxs("button",{className:`source-btn ${r.background.type==="unsplash"?"active":""}`,onClick:()=>{oe(!0);const l=["https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1314550/pexels-photo-1314550.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1741205/pexels-photo-1741205.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1643457/pexels-photo-1643457.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/2071873/pexels-photo-2071873.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=2400&q=80","https://images.unsplash.com/photo-1573865526739-10659fec78a5?w=2400&q=80","https://images.unsplash.com/photo-1495360010541-f48722b34f7d?w=2400&q=80","https://images.unsplash.com/photo-1574158622682-e40e69881006?w=2400&q=80","https://images.unsplash.com/photo-1533738363-b7f9aef128ce?w=2400&q=80"],p=l[Math.floor(Math.random()*l.length)],S=new Image;S.onload=()=>{o({background:{type:"unsplash",value:p,blur:r.background.blur,opacity:r.background.opacity}}),oe(!1)},S.onerror=()=>oe(!1),S.src=p},disabled:L,children:[L?n.jsx("div",{className:"loading-spinner"}):n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z"}),n.jsx("path",{d:"M8 14v.5"}),n.jsx("path",{d:"M16 14v.5"}),n.jsx("path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z"})]}),L?"Loading...":"Cats"]}),n.jsxs("button",{className:`source-btn ${r.background.type==="istanbul"?"active":""}`,onClick:()=>{ne(!0);const l=["https://images.pexels.com/photos/1549326/pexels-photo-1549326.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/2042109/pexels-photo-2042109.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/3684396/pexels-photo-3684396.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1666362/pexels-photo-1666362.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/2042108/pexels-photo-2042108.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/2946816/pexels-photo-2946816.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?w=2400&q=80","https://images.unsplash.com/photo-1527838832700-5059252407fa?w=2400&q=80","https://images.unsplash.com/photo-1541432901042-2d8bd64b4a9b?w=2400&q=80","https://images.unsplash.com/photo-1559627755-0a2e5e2bfa07?w=2400&q=80","https://images.unsplash.com/photo-1558284967-4f8d1d4b6318?w=2400&q=80","https://images.unsplash.com/photo-1545459720-aab27a212ead?w=2400&q=80"],p=l[Math.floor(Math.random()*l.length)],S=new Image;S.onload=()=>{o({background:{type:"istanbul",value:p,blur:r.background.blur,opacity:r.background.opacity}}),ne(!1)},S.onerror=()=>ne(!1),S.src=p},disabled:Z,children:[Z?n.jsx("div",{className:"loading-spinner"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:n.jsx("path",{fill:"currentColor",d:"M1.5 20.5V8.437q-.45-.218-.725-.586T.5 7q0-.44.389-1.025T2 4.712q.723.679 1.112 1.263T3.5 7q0 .484-.275.851q-.275.368-.725.586V13.5h3V11q0-.586.39-1.017t1.006-.472h.693q-.526-.482-.807-1.088T6.5 7.1q0-.87.418-1.61q.417-.738 1.12-1.217L12 1.596l3.962 2.677q.703.479 1.12 1.218q.418.74.418 1.609q0 .717-.282 1.323t-.806 1.089h.692q.615.04 1.006.47q.39.432.39 1.018v2.5h3V8.437q-.45-.218-.725-.586Q20.5 7.484 20.5 7q0-.44.389-1.025T22 4.712q.723.679 1.112 1.263T23.5 7q0 .484-.275.851q-.275.368-.725.586V20.5h-9V17q0-.617-.441-1.059Q12.617 15.5 12 15.5t-1.059.441T10.5 17v3.5zm8.4-11h4.2q.992 0 1.696-.704t.704-1.693q0-.618-.283-1.156t-.798-.87L12 2.804L8.58 5.077q-.514.333-.797.87T7.5 7.103q0 .99.704 1.693T9.9 9.5m-7.4 10h7V17q0-1.042.729-1.77q.728-.73 1.769-.73t1.771.73T14.5 17v2.5h7v-5h-4V11q0-.212-.144-.356T17 10.5H7q-.212 0-.356.144T6.5 11v3.5h-4zM12 9.511"})}),Z?"Loading...":"Istanbul"]}),n.jsxs("button",{className:`source-btn ${r.background.type==="space"?"active":""}`,onClick:()=>{q(!0);const l=["https://images.pexels.com/photos/2150/sky-space-dark-galaxy.jpg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1169754/pexels-photo-1169754.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/956999/milky-way-starry-sky-night-sky-star-956999.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1252890/pexels-photo-1252890.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=2400&q=80","https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?w=2400&q=80","https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=2400&q=80","https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=2400&q=80","https://images.unsplash.com/photo-1507400492013-162706c8c05e?w=2400&q=80"],p=l[Math.floor(Math.random()*l.length)],S=new Image;S.onload=()=>{o({background:{type:"space",value:p,blur:r.background.blur,opacity:r.background.opacity}}),q(!1)},S.onerror=()=>q(!1),S.src=p},disabled:J,children:[J?n.jsx("div",{className:"loading-spinner"}):n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M18.5 8V3M5.5 21V16M16 5.5H21M3 18.5H8M6.5 2L5.71554 3.56892C5.45005 4.09989 5.31731 4.36538 5.13997 4.59545C4.98261 4.79959 4.79959 4.98261 4.59545 5.13997C4.36538 5.31731 4.0999 5.45005 3.56892 5.71554L2 6.5L3.56892 7.28446C4.0999 7.54995 4.36538 7.68269 4.59545 7.86003C4.79959 8.01739 4.98261 8.20041 5.13997 8.40455C5.31731 8.63462 5.45005 8.9001 5.71554 9.43108L6.5 11L7.28446 9.43108C7.54995 8.9001 7.68269 8.63462 7.86003 8.40455C8.01739 8.20041 8.20041 8.01739 8.40455 7.86003C8.63462 7.68269 8.9001 7.54995 9.43108 7.28446L11 6.5L9.43108 5.71554C8.9001 5.45005 8.63462 5.31731 8.40455 5.13997C8.20041 4.98261 8.01739 4.79959 7.86003 4.59545C7.68269 4.36538 7.54995 4.0999 7.28446 3.56892L6.5 2ZM17 12L16.0489 13.9022C15.7834 14.4332 15.6506 14.6987 15.4733 14.9288C15.3159 15.1329 15.1329 15.3159 14.9288 15.4733C14.6987 15.6506 14.4332 15.7834 13.9023 16.0489L12 17L13.9023 17.9511C14.4332 18.2166 14.6987 18.3494 14.9288 18.5267C15.1329 18.6841 15.3159 18.8671 15.4733 19.0712C15.6506 19.3013 15.7834 19.5668 16.0489 20.0977L17 22L17.9511 20.0978C18.2166 19.5668 18.3494 19.3013 18.5267 19.0712C18.6841 18.8671 18.8671 18.6841 19.0712 18.5267C19.3013 18.3494 19.5668 18.2166 20.0977 17.9511L22 17L20.0977 16.0489C19.5668 15.7834 19.3013 15.6506 19.0712 15.4733C18.8671 15.3159 18.6841 15.1329 18.5267 14.9288C18.3494 14.6987 18.2166 14.4332 17.9511 13.9023L17 12Z"})}),J?"Loading...":"Space"]}),n.jsxs("button",{className:`source-btn ${r.background.type==="ocean"?"active":""}`,onClick:()=>{g(!0);const l=["https://images.pexels.com/photos/1001682/pexels-photo-1001682.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1295138/pexels-photo-1295138.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/1024967/pexels-photo-1024967.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.pexels.com/photos/416676/pexels-photo-416676.jpeg?auto=compress&cs=tinysrgb&w=2400","https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=2400&q=80","https://images.unsplash.com/photo-1505118380757-91f5f5632de0?w=2400&q=80","https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=2400&q=80","https://images.unsplash.com/photo-1476673160081-cf065607f449?w=2400&q=80","https://images.unsplash.com/photo-1454362097636-0e7e3b8fcbd8?w=2400&q=80"],p=l[Math.floor(Math.random()*l.length)],S=new Image;S.onload=()=>{o({background:{type:"ocean",value:p,blur:r.background.blur,opacity:r.background.opacity}}),g(!1)},S.onerror=()=>g(!1),S.src=p},disabled:M,children:[M?n.jsx("div",{className:"loading-spinner"}):n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 10C5.48276 10 7.34483 7 7.34483 7C7.34483 7 9.2069 10 11.6897 10C14.1724 10 16.6552 7 16.6552 7C16.6552 7 19.1379 10 21 10"}),n.jsx("path",{d:"M3 17C5.48276 17 7.34483 14 7.34483 14C7.34483 14 9.2069 17 11.6897 17C14.1724 17 16.6552 14 16.6552 14C16.6552 14 19.1379 17 21 17"})]}),M?"Loading...":"Ocean"]})]}),n.jsx("input",{type:"file",id:"background-upload",accept:"image/*",multiple:!0,style:{display:"none"},onChange:async l=>{const p=Array.from(l.target.files||[]);if(p.length!==0)try{const S=r.background.imageIds||[];for(const G of p){const ae=await Be.saveImage(G);S.push(ae)}const D=await Be.getAllImages();h(D);const Q=S[S.length-p.length],P=await Be.getImage(Q);o({background:{type:"image",value:P||"",imageIds:S,currentImageId:Q,blur:r.background.blur,opacity:r.background.opacity}})}catch(S){console.error("Failed to upload images:",S),alert("Failed to upload images. Please try again.")}finally{l.target.value=""}}}),m.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Uploaded Images"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:[n.jsxs("label",{className:"random-toggle",style:{flex:"1 1 100%",marginBottom:0,minWidth:"200px"},children:[n.jsx("input",{type:"checkbox",checked:r.background.randomMode||!1,onChange:l=>{o({background:{...r.background,randomMode:l.target.checked}})}}),n.jsx("span",{children:"Auto-Randomize"})]}),n.jsxs("button",{className:"source-btn",onClick:async()=>{if(m.length===0)return;const l=r.background.imageIds||[];if(l.length===0)return;const p=localStorage.getItem("hotpage_lastShownImageId");let S=l.filter(P=>P!==p);S.length===0&&(S=l);const D=S[Math.floor(Math.random()*S.length)],Q=await Be.getImage(D);Q&&(localStorage.setItem("hotpage_lastShownImageId",D),o({background:{type:"image",value:Q,currentImageId:D,imageIds:l,blur:r.background.blur,opacity:r.background.opacity,randomMode:r.background.randomMode}}))},style:{flex:"1 1 calc(50% - var(--spacing-sm) / 2)",padding:"var(--spacing-md)",fontSize:"13px",minWidth:"120px"},title:"Pick random wallpaper",children:[n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"6px"},children:n.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})}),"Randomize"]}),n.jsxs("button",{className:"source-btn",onClick:async()=>{if(confirm(`Delete all ${m.length} wallpapers?`)){for(const l of m)await Be.deleteImage(l.id);h([]),o({background:{type:"solid",value:"#1a1a2e",imageIds:[],blur:r.background.blur,opacity:r.background.opacity}})}},style:{flex:"1 1 calc(50% - var(--spacing-sm) / 2)",padding:"var(--spacing-md)",fontSize:"13px",minWidth:"120px"},title:"Delete all wallpapers",children:["  ",n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"6px"},children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),"Delete All"]})]}),n.jsx("div",{className:"background-images-grid",children:m.map(l=>n.jsxs("div",{className:`background-image-item ${r.background.currentImageId===l.id?"active":""}`,children:[n.jsx("img",{src:l.url,alt:l.filename,onClick:()=>{o({background:{type:"image",value:l.url,currentImageId:l.id,imageIds:r.background.imageIds,blur:r.background.blur,opacity:r.background.opacity}})}}),n.jsx("button",{className:"delete-image-btn",onClick:async()=>{if(confirm("Delete this image?")){await Be.deleteImage(l.id);const p=m.filter(D=>D.id!==l.id);h(p);const S=(r.background.imageIds||[]).filter(D=>D!==l.id);r.background.currentImageId===l.id?o({background:{type:"solid",value:"#1a1a2e",imageIds:S,blur:r.background.blur,opacity:r.background.opacity}}):o({background:{...r.background,imageIds:S}})}},children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]},l.id))})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Background Opacity"}),n.jsxs("div",{className:"slider-container",children:[n.jsx("input",{type:"range",min:"0",max:"100",value:r.background.opacity!==void 0?r.background.opacity:10,onChange:l=>{o({background:{...r.background,opacity:parseInt(l.target.value)}})},className:"settings-slider"}),n.jsxs("span",{className:"slider-value",children:[r.background.opacity!==void 0?r.background.opacity:10,"%"]})]})]}),i==="widgets"&&n.jsxs("div",{className:"settings-section",children:[n.jsx("h3",{children:"Available Widgets"}),n.jsx("p",{style:{fontSize:"0.875rem",color:"var(--color-textSecondary)",marginBottom:"var(--spacing-lg)"},children:"Enable widgets to customize your homepage experience"}),n.jsxs("div",{className:"widgets-grid",children:[n.jsxs("div",{className:`widget-card ${r.googleShortcuts?.enabled?"widget-card-active":""}`,children:[n.jsxs("div",{className:"widget-card-header",children:[n.jsx("div",{className:"widget-card-icon",children:n.jsx("div",{style:{width:"24px",height:"24px",color:"var(--color-primary)"},dangerouslySetInnerHTML:{__html:Ee.grid}})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"Top Bar Shortcuts"}),n.jsx("p",{children:"Quick access to Google services"})]}),n.jsx("label",{className:"widget-card-toggle",children:n.jsx("input",{type:"checkbox",checked:r.googleShortcuts?.enabled??!0,onChange:l=>o({googleShortcuts:{enabled:l.target.checked,showGmail:r.googleShortcuts?.showGmail??!0,showAppsMenu:r.googleShortcuts?.showAppsMenu??!0}})})})]}),r.googleShortcuts?.enabled&&n.jsxs("div",{className:"widget-card-settings",children:[n.jsxs("label",{className:"widget-setting-checkbox",children:[n.jsx("input",{type:"checkbox",checked:r.googleShortcuts?.showGmail??!0,onChange:l=>o({googleShortcuts:{enabled:!0,showAppsMenu:r.googleShortcuts?.showAppsMenu??!0,showGmail:l.target.checked}})}),n.jsx("span",{children:"Show Gmail Shortcut"})]}),n.jsxs("label",{className:"widget-setting-checkbox",children:[n.jsx("input",{type:"checkbox",checked:r.googleShortcuts?.showAppsMenu??!0,onChange:l=>o({googleShortcuts:{enabled:!0,showGmail:r.googleShortcuts?.showGmail??!0,showAppsMenu:l.target.checked}})}),n.jsx("span",{children:"Show Google Apps Menu"})]})]})]}),n.jsx("div",{className:`widget-card ${r.quickLinksSpacingWidget?"widget-card-active":""}`,children:n.jsxs("div",{className:"widget-card-header",children:[n.jsx("div",{className:"widget-card-icon",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4 6h16v4H4z"}),n.jsx("path",{d:"M4 14h16v4H4z"})]})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"Spacing Widget"}),n.jsx("p",{children:"Keeps Away From Cluttered Appearance"})]}),n.jsx("label",{className:"widget-card-toggle",children:n.jsx("input",{type:"checkbox",checked:r.quickLinksSpacingWidget??!0,onChange:l=>o({quickLinksSpacingWidget:l.target.checked})})})]})}),n.jsxs("div",{className:`widget-card ${r.widgets.weather?.enabled?"widget-card-active":""}`,children:[n.jsxs("div",{className:"widget-card-header",children:[n.jsx("div",{className:"widget-card-icon",children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"})})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"Weather"}),n.jsx("p",{children:"Real-time weather conditions"})]}),n.jsx("label",{className:"widget-card-toggle",children:n.jsx("input",{type:"checkbox",checked:r.widgets.weather?.enabled||!1,onChange:()=>k("weather")})})]}),r.widgets.weather?.enabled&&n.jsxs("div",{className:"widget-card-settings",children:[n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Location"}),n.jsx("input",{type:"text",className:"widget-setting-input",placeholder:"Auto-detect or enter city name...",value:r.widgets.weather?.settings?.manualLocation||"",onChange:l=>{const p=r.widgets.weather||{enabled:!0};o({widgets:{...r.widgets,weather:{...p,settings:{...p.settings||{},manualLocation:l.target.value}}}})}})]}),n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Refresh every (minutes)"}),n.jsx("input",{type:"number",className:"widget-setting-input",min:"5",max:"120",value:r.widgets.weather?.settings?.refreshMinutes??10,onChange:l=>{const p=r.widgets.weather||{enabled:!0},S=Math.max(5,parseInt(l.target.value,10)||10);o({widgets:{...r.widgets,weather:{...p,settings:{...p.settings||{},refreshMinutes:S}}}})}})]})]})]}),n.jsxs("div",{className:`widget-card ${r.widgets.currency?.enabled?"widget-card-active":""}`,children:[n.jsxs("div",{className:"widget-card-header",children:[n.jsx("div",{className:"widget-card-icon",children:n.jsx("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",fill:"currentColor",stroke:"none",strokeWidth:"0",children:n.jsx("path",{fillRule:"evenodd",d:"M1.249 7.001a5.751 5.751 0 1 1 11.502 0a5.751 5.751 0 0 1-11.502 0M7 0a7.001 7.001 0 1 0 0 14.002A7.001 7.001 0 0 0 7 0m.625 3a.625.625 0 1 0-1.25 0v.709a1.815 1.815 0 0 0-.35 3.588l1.57.344a.709.709 0 0 1-.15 1.4h-.889a.71.71 0 0 1-.669-.471a.625.625 0 1 0-1.178.416a1.96 1.96 0 0 0 1.666 1.297V11a.625.625 0 0 0 1.25 0v-.716a1.96 1.96 0 0 0 .238-3.865l-1.571-.343a.565.565 0 0 1 .12-1.118h1.032a.705.705 0 0 1 .669.473a.625.625 0 1 0 1.178-.417a1.96 1.96 0 0 0-1.666-1.297z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"Currency & Crypto"}),n.jsx("p",{children:"Exchange rates and cryptocurrency"})]}),n.jsx("label",{className:"widget-card-toggle",children:n.jsx("input",{type:"checkbox",checked:r.widgets.currency?.enabled||!1,onChange:()=>k("currency")})})]}),r.widgets.currency?.enabled&&n.jsxs("div",{className:"widget-card-settings",children:[n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Base Currency"}),n.jsxs("select",{className:"widget-setting-select",value:r.widgets.currency?.settings?.baseCurrency||"TRY",onChange:l=>{const p=r.widgets.currency||{enabled:!0},S=l.target.value,D=S==="TRY"?["USD","EUR","GBP","XAU"]:["EUR","GBP","JPY"];o({widgets:{...r.widgets,currency:{...p,settings:{...p.settings||{},baseCurrency:S,enabledCurrencies:D}}}})},children:[n.jsx("option",{value:"TRY",children:"₺ Turkish Lira"}),n.jsx("option",{value:"USD",children:"$ US Dollar"}),n.jsx("option",{value:"EUR",children:"€ Euro"}),n.jsx("option",{value:"GBP",children:"£ British Pound"})]})]}),n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Display Currencies"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"8px"},children:["USD","EUR","GBP","JPY","XAU"].map(l=>{const p=r.widgets.currency?.settings?.baseCurrency||"TRY";if(l===p)return null;const D=(r.widgets.currency?.settings?.enabledCurrencies||[]).includes(l);return n.jsxs("label",{className:"currency-checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:D,onChange:Q=>{const P=r.widgets.currency||{enabled:!0},G=P.settings?.enabledCurrencies||[],ae=Q.target.checked?[...G,l]:G.filter(K=>K!==l);o({widgets:{...r.widgets,currency:{...P,settings:{...P.settings||{},enabledCurrencies:ae}}}})}}),n.jsx("span",{children:l})]},l)})})]}),n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Display Cryptocurrencies"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"8px"},children:(()=>{const l={BTC:"bitcoin",ETH:"ethereum",BNB:"binancecoin",XRP:"ripple",ADA:"cardano",SOL:"solana",DOGE:"dogecoin",AVAX:"avalanche"};return["BTC","ETH","BNB","XRP","ADA","SOL","DOGE","AVAX"].map(p=>{const D=(r.widgets.currency?.settings?.enabledCryptos||[]).includes(l[p]);return n.jsxs("label",{className:"currency-checkbox-label",children:[n.jsx("input",{type:"checkbox",checked:D,onChange:Q=>{const P=r.widgets.currency||{enabled:!0},G=P.settings?.enabledCryptos||[],ae=l[p],K=Q.target.checked?Array.from(new Set([...G,ae])):G.filter(f=>f!==ae);o({widgets:{...r.widgets,currency:{...P,settings:{...P.settings||{},enabledCryptos:K}}}})}}),n.jsx("span",{children:p})]},p)})})()})]}),n.jsxs("label",{className:"widget-setting-checkbox",children:[n.jsx("input",{type:"checkbox",checked:r.widgets.currency?.settings?.showSparkline??!0,onChange:l=>{const p=r.widgets.currency||{enabled:!0};o({widgets:{...r.widgets,currency:{...p,settings:{...p.settings||{},showSparkline:l.target.checked}}}})}}),n.jsxs("span",{children:["Show price charts ",n.jsx("span",{className:"beta-badge",children:"BETA"})]})]})]})]}),n.jsx("div",{className:`widget-card ${r.widgets.quotes?.enabled?"widget-card-active":""}`,children:n.jsxs("div",{className:"widget-card-header",children:[n.jsx("div",{className:"widget-card-icon",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"}),n.jsx("path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"})]})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"Quotes"}),n.jsx("p",{children:"Inspirational and wisdom quotes"})]}),n.jsx("label",{className:"widget-card-toggle",children:n.jsx("input",{type:"checkbox",checked:r.widgets.quotes?.enabled||!1,onChange:()=>k("quotes")})})]})}),n.jsxs("div",{className:`widget-card ${r.widgets.rss?.enabled?"widget-card-active":""}`,children:[n.jsxs("div",{className:"widget-card-header",children:[n.jsx("div",{className:"widget-card-icon",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4 11a9 9 0 0 1 9 9"}),n.jsx("path",{d:"M4 4a16 16 0 0 1 16 16"}),n.jsx("circle",{cx:"5",cy:"19",r:"1.5"})]})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"News Feed"}),n.jsx("p",{children:"RSS feeds with images and categories"})]}),n.jsx("label",{className:"widget-card-toggle",children:n.jsx("input",{type:"checkbox",checked:r.widgets.rss?.enabled||!1,onChange:()=>k("rss")})})]}),r.widgets.rss?.enabled&&n.jsxs("div",{className:"widget-card-settings",children:[a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"widget-stats",children:[n.jsxs("div",{className:"widget-stat",children:[n.jsx("span",{className:"widget-stat-label",children:"Feeds"}),n.jsx("span",{className:"widget-stat-value",children:a.feeds})]}),n.jsxs("div",{className:"widget-stat",children:[n.jsx("span",{className:"widget-stat-label",children:"Items"}),n.jsx("span",{className:"widget-stat-value",children:a.items})]}),n.jsxs("div",{className:"widget-stat",children:[n.jsx("span",{className:"widget-stat-label",children:"Success"}),n.jsx("span",{className:"widget-stat-value",style:{color:"#4ade80"},children:a.success})]}),n.jsxs("div",{className:"widget-stat",children:[n.jsx("span",{className:"widget-stat-label",children:"Errors"}),n.jsx("span",{className:"widget-stat-value",style:{color:"#f87171"},children:a.error})]})]}),a.failedFeeds&&a.failedFeeds.length>0&&n.jsxs("div",{style:{marginTop:"var(--spacing-sm)",padding:"var(--spacing-md)",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"var(--radius-md)"},children:[n.jsxs("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#ef4444",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),n.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),n.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Failed Feeds (",a.failedFeeds.length,")"]}),a.failedFeeds.map((l,p)=>n.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text)",padding:"4px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",opacity:.9},children:["• ",l]},p))]})]}),n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Max Items to Display"}),n.jsx("input",{type:"number",className:"widget-setting-input",min:"10",max:"200",value:r.widgets.rss?.settings?.maxItems??150,onChange:l=>{const p=r.widgets.rss||{enabled:!0};o({widgets:{...r.widgets,rss:{...p,settings:{...p.settings||{},maxItems:parseInt(l.target.value,10)}}}})}})]}),n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Refresh Interval (minutes)"}),n.jsx("input",{type:"number",className:"widget-setting-input",min:"5",max:"120",value:r.widgets.rss?.settings?.refreshMinutes??30,onChange:l=>{const p=r.widgets.rss||{enabled:!0};o({widgets:{...r.widgets,rss:{...p,settings:{...p.settings||{},refreshMinutes:parseInt(l.target.value,10)}}}})}})]}),n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Add Feed"}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("input",{type:"url",className:"widget-setting-input",placeholder:"https://example.com/feed.xml",value:d,onChange:l=>W(l.target.value),style:{flex:2}}),n.jsx("input",{type:"text",className:"widget-setting-input",placeholder:"Category",value:H,onChange:l=>O(l.target.value),list:"rss-categories-list",style:{flex:1}}),n.jsxs("datalist",{id:"rss-categories-list",children:[n.jsx("option",{value:"Technology"}),n.jsx("option",{value:"World"}),n.jsx("option",{value:"Science"}),n.jsx("option",{value:"Gaming"}),n.jsx("option",{value:"Business"}),n.jsx("option",{value:"Design"}),n.jsx("option",{value:"Sports"}),n.jsx("option",{value:"Entertainment"})]}),n.jsx("button",{className:"widget-add-btn",onClick:()=>{const l=d.trim(),p=H.trim()||"General";if(!l)return;const S=r.widgets.rss||{enabled:!0},D=S.settings?.feeds||[];if(D.some(G=>(typeof G=="string"?G:G.url)===l)){W("");return}const P={url:l,category:p};o({widgets:{...r.widgets,rss:{...S,settings:{...S.settings||{},feeds:[...D,P]}}}}),W("")},children:"+"})]})]}),n.jsxs("div",{className:"widget-feed-list",children:[(r.widgets.rss?.settings?.feeds||[]).length===0&&n.jsx("p",{style:{fontSize:"0.85rem",color:"var(--color-textSecondary)",textAlign:"center",padding:"var(--spacing-md)"},children:"No feeds added. Default feeds will be used."}),(r.widgets.rss?.settings?.feeds||[]).map((l,p)=>{const S=typeof l=="string"?l:l.url,D=typeof l=="string"?"General":l.category;return n.jsxs("div",{className:"widget-feed-item",children:[n.jsxs("div",{className:"widget-feed-info",children:[n.jsx("span",{className:"widget-feed-url",children:S}),n.jsx("span",{className:"widget-feed-category",children:D})]}),n.jsx("button",{className:"widget-remove-btn",onClick:()=>{const Q=r.widgets.rss||{enabled:!0},G=(Q.settings?.feeds||[]).filter((ae,K)=>K!==p);o({widgets:{...r.widgets,rss:{...Q,settings:{...Q.settings||{},feeds:G}}}})},children:n.jsx("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},`${S}-${p}`)})]})]})]}),n.jsx("div",{className:`widget-card ${r.secretLinks?.enabled?"widget-card-active":""}`,children:n.jsxs("div",{className:"widget-card-header",children:[n.jsx("div",{className:"widget-card-icon",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),n.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"Secret Links"}),n.jsxs("p",{children:["Hidden links with keywords",n.jsx("br",{}),"  trigger (default: pass)"]})]}),n.jsx("label",{className:"widget-card-toggle",children:n.jsx("input",{type:"checkbox",checked:r.secretLinks?.enabled||!1,onChange:l=>o({secretLinks:{...r.secretLinks||{triggerKeyword:"pass",openInIncognito:!0,folders:[],rootLinks:[]},enabled:l.target.checked}})})})]})}),n.jsxs("div",{className:"widget-card widget-card-active",children:[n.jsxs("div",{className:"widget-card-header",style:{gap:"var(--spacing-sm)"},children:[n.jsx("div",{className:"widget-card-icon",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"}),n.jsx("path",{d:"M15 3v6h6"})]})}),n.jsxs("div",{className:"widget-card-info",children:[n.jsx("h4",{children:"Sticky Notes"}),n.jsxs("p",{children:["Quick notes · Shortcut: ",r.quickActions?.stickyNoteShortcut||"Shift+N"]})]}),n.jsxs("div",{className:"widget-card-toggle",style:{display:"flex",gap:"var(--spacing-sm)",alignItems:"center"},children:[n.jsx("button",{className:"settings-btn ghost",onClick:s,children:"Open"}),n.jsx("label",{children:n.jsx("input",{type:"checkbox",checked:r.quickActions?.openStickyNotes??!0,onChange:l=>o({quickActions:{...r.quickActions,openStickyNotes:l.target.checked,openNotepad:r.quickActions?.openNotepad??!0,stickyNoteShortcut:r.quickActions?.stickyNoteShortcut||"Shift+N"}})})})]})]}),n.jsx("div",{className:"widget-card-settings",children:n.jsxs("label",{className:"widget-setting-label",children:[n.jsx("span",{children:"Keyboard Shortcut"}),n.jsxs("div",{className:"shortcut-input-glass",tabIndex:0,onKeyDown:l=>{l.preventDefault();const p=[];l.ctrlKey&&p.push("Ctrl"),l.altKey&&p.push("Alt"),l.shiftKey&&p.push("Shift");const S=l.key;if(S!=="Control"&&S!=="Alt"&&S!=="Shift"&&S!=="Meta"&&p.push(S.length===1?S.toUpperCase():S),p.length>0&&p[p.length-1]!=="Ctrl"&&p[p.length-1]!=="Alt"&&p[p.length-1]!=="Shift"){const D=p.join("+");o({quickActions:{...r.quickActions,openStickyNotes:r.quickActions?.openStickyNotes??!0,openNotepad:r.quickActions?.openNotepad??!0,stickyNoteShortcut:D}})}},children:[n.jsx("span",{className:"shortcut-key-display",children:r.quickActions?.stickyNoteShortcut||"Shift+N"}),n.jsx("span",{className:"shortcut-hint",children:"Click & press keys"})]})]})})]})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-xl)"},children:"Widget Order"}),n.jsx("p",{style:{fontSize:"0.85rem",color:"var(--color-textSecondary)",marginBottom:"var(--spacing-md)"},children:"Drag and drop to reorder widgets on the homepage"}),n.jsx("div",{className:"widget-order-list",children:(r.widgetOrder||["weather","currency","rss"]).filter(l=>l!=="quotes").map((l,p)=>{const S={weather:"Weather",currency:"Currency",rss:"News Feed"},D={weather:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"}),n.jsx("circle",{cx:"12",cy:"12",r:"5"})]}),currency:n.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M1.249 7.001a5.751 5.751 0 1 1 11.502 0a5.751 5.751 0 0 1-11.502 0M7 0a7.001 7.001 0 1 0 0 14.002A7.001 7.001 0 0 0 7 0m.625 3a.625.625 0 1 0-1.25 0v.709a1.815 1.815 0 0 0-.35 3.588l1.57.344a.709.709 0 0 1-.15 1.4h-.889a.71.71 0 0 1-.669-.471a.625.625 0 1 0-1.178.416a1.96 1.96 0 0 0 1.666 1.297V11a.625.625 0 0 0 1.25 0v-.716a1.96 1.96 0 0 0 .238-3.865l-1.571-.343a.565.565 0 0 1 .12-1.118h1.032a.705.705 0 0 1 .669.473a.625.625 0 1 0 1.178-.417a1.96 1.96 0 0 0-1.666-1.297z",clipRule:"evenodd"})}),rss:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M4 11a9 9 0 0 1 9 9"}),n.jsx("path",{d:"M4 4a16 16 0 0 1 16 16"}),n.jsx("circle",{cx:"5",cy:"19",r:"1.5"})]})};return n.jsxs("div",{className:"widget-order-item",draggable:!0,onDragStart:()=>N(l),onDragEnd:()=>N(null),onDragOver:Q=>{if(Q.preventDefault(),w&&w!==l){const P=(r.widgetOrder||["weather","currency","rss"]).filter(K=>K!=="quotes"),G=P.indexOf(w),ae=p;if(G!==ae){const K=[...P];K.splice(G,1),K.splice(ae,0,w),o({widgetOrder:K})}}},style:{opacity:w===l?.5:1,cursor:"grab"},children:[n.jsx("div",{className:"widget-order-handle",children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),n.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),n.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),n.jsx("div",{className:"widget-order-icon",children:D[l]}),n.jsx("div",{className:"widget-order-name",children:S[l]}),n.jsxs("div",{className:"widget-order-number",children:["#",p+1]})]},l)})})]})]})]})]})},Dt=[{text:"The only way to do great work is to love what you do.",author:"Steve Jobs"},{text:"Success is not final, failure is not fatal: It is the courage to continue that counts.",author:"Winston Churchill"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"The future belongs to those who believe in the beauty of their dreams.",author:"Eleanor Roosevelt"},{text:"It does not matter how slowly you go as long as you do not stop.",author:"Confucius"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"The only impossible journey is the one you never begin.",author:"Tony Robbins"},{text:"Success is not how high you have climbed, but how you make a positive difference to the world.",author:"Roy T. Bennett"},{text:"You are never too old to set another goal or to dream a new dream.",author:"C.S. Lewis"},{text:"What lies behind us and what lies before us are tiny matters compared to what lies within us.",author:"Ralph Waldo Emerson"},{text:"The only true wisdom is in knowing you know nothing.",author:"Socrates"},{text:"In the middle of difficulty lies opportunity.",author:"Albert Einstein"},{text:"Life is what happens when you're busy making other plans.",author:"John Lennon"},{text:"The unexamined life is not worth living.",author:"Socrates"},{text:"Turn your wounds into wisdom.",author:"Oprah Winfrey"},{text:"The journey of a thousand miles begins with one step.",author:"Lao Tzu"},{text:"That which does not kill us makes us stronger.",author:"Friedrich Nietzsche"},{text:"Be yourself; everyone else is already taken.",author:"Oscar Wilde"},{text:"Yesterday is history, tomorrow is a mystery, today is a gift of God, which is why we call it the present.",author:"Bil Keane"},{text:"When you change your thoughts, remember to also change your world.",author:"Norman Vincent Peale"},{text:"I'm not superstitious, but I am a little stitious.",author:"Michael Scott"},{text:"The road to success is always under construction.",author:"Lily Tomlin"},{text:"I have not failed. I've just found 10,000 ways that won't work.",author:"Thomas Edison"},{text:"The difference between stupidity and genius is that genius has its limits.",author:"Albert Einstein"},{text:"If you think you are too small to make a difference, try sleeping with a mosquito.",author:"Dalai Lama"},{text:"A day without sunshine is like, you know, night.",author:"Steve Martin"},{text:"People say nothing is impossible, but I do nothing every day.",author:"A.A. Milne"},{text:"The only mystery in life is why the kamikaze pilots wore helmets.",author:"Al McGuire"},{text:"Light travels faster than sound. This is why some people appear bright until you hear them speak.",author:"Alan Dundes"},{text:"I never forget a face, but in your case, I'll be glad to make an exception.",author:"Groucho Marx"},{text:"It is our choices that show what we truly are, far more than our abilities.",author:"J.K. Rowling"},{text:"Not all those who wander are lost.",author:"J.R.R. Tolkien"},{text:"So we beat on, boats against the current, borne back ceaselessly into the past.",author:"F. Scott Fitzgerald"},{text:"All we have to decide is what to do with the time that is given us.",author:"J.R.R. Tolkien"},{text:"There is some good in this world, and it's worth fighting for.",author:"J.R.R. Tolkien"},{text:"It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.",author:"Jane Austen"},{text:"The only way out of the labyrinth of suffering is to forgive.",author:"John Green"},{text:"To live is the rarest thing in the world. Most people exist, that is all.",author:"Oscar Wilde"},{text:"We are all in the gutter, but some of us are looking at the stars.",author:"Oscar Wilde"},{text:"It matters not what someone is born, but what they grow to be.",author:"J.K. Rowling"}],jr=[{text:"Büyük işler yapmak için yapabileceğiniz en iyi şey sevdiğiniz işi yapmaktır.",author:"Steve Jobs"},{text:"Başarı kesin değildir, başarısızlık ölümcül değildir: Önemli olan devam etme cesaretidir.",author:"Winston Churchill"},{text:"Yapabileceğine inan ve yolun yarısını gittin demektir.",author:"Theodore Roosevelt"},{text:"Gelecek, hayallerinin güzelliğine inananlarındır.",author:"Eleanor Roosevelt"},{text:"Ne kadar yavaş gittiğin önemli değil, durmamanız önemlidir.",author:"Konfüçyüs"},{text:"Saate bakma; onun yaptığını yap. Devam et.",author:"Sam Levenson"},{text:"Tek imkansız yolculuk, hiç başlamadığın yolculuktur.",author:"Tony Robbins"},{text:"Başarı ne kadar yükseğe tırmandığın değil, dünyaya ne kadar olumlu fark kattığındır.",author:"Roy T. Bennett"},{text:"Yeni bir hedef belirlemek veya yeni bir hayal kurmak için asla çok yaşlı değilsiniz.",author:"C.S. Lewis"},{text:"Arkamızda ve önümüzde olanlar, içimizde olanlara kıyasla çok küçük şeylerdir.",author:"Ralph Waldo Emerson"},{text:"Tek gerçek bilgelik, hiçbir şey bilmediğini bilmektir.",author:"Sokrates"},{text:"Zorluğun ortasında fırsat yatar.",author:"Albert Einstein"},{text:"Hayat, başka planlar yaparken başınıza gelen şeydir.",author:"John Lennon"},{text:"Sorgulanmamış hayat yaşamaya değmez.",author:"Sokrates"},{text:"Yaralarını bilgeliğe dönüştür.",author:"Oprah Winfrey"},{text:"Bin millik yolculuk tek bir adımla başlar.",author:"Lao Tzu"},{text:"Bizi öldürmeyen şey bizi güçlendirir.",author:"Friedrich Nietzsche"},{text:"Kendin ol; çünkü diğer herkes zaten alınmış.",author:"Oscar Wilde"},{text:"Dün tarihtir, yarın bir sırdır, bugün ise bir hediyedir, bu yüzden ona şimdi diyoruz.",author:"Bil Keane"},{text:"Düşüncelerini değiştirdiğinde, dünyanı da değiştirmeyi unutma.",author:"Norman Vincent Peale"},{text:"Hayat bir tren yolculuğu gibidir; bazen raylarda gidersin, bazen istasyonda beklersin.",author:"Orhan Pamuk"},{text:"İnsan ruhu bir kitaptır, okumadan anlaşılmaz.",author:"Sabahattin Ali"},{text:"Yaşamak, başkalarıyla birlikte yaşamaktır.",author:"Nazım Hikmet"},{text:"Bir ülkenin geleceği, kitap okuyan gençlerinin elindedir.",author:"Aziz Nesin"},{text:"Sevgi, hayatın özüdür; sevgisiz hayat yaşanmaz.",author:"Elif Şafak"},{text:"Güzellik, gözün değil gönlün görmesidir.",author:"Yunus Emre"},{text:"Hayatta en hakiki mürşit ilimdir, fendir.",author:"Mustafa Kemal Atatürk"},{text:"Bir millet, tarihini unutursa geleceğini kaybeder.",author:"Halide Edip Adıvar"},{text:"İnsanı yaşat ki devlet yaşasın.",author:"Yunus Emre"},{text:"Dünyada her şey için, medeniyet için, hayat için, muvaffakiyet için en hakiki mürşit ilimdir.",author:"Mustafa Kemal Atatürk"},{text:"Güzel günler göreceğiz, çocuklar büyüyecek.",author:"Nazım Hikmet"},{text:"Gel, gel, ne olursan ol yine gel.",author:"Mevlana"},{text:"Ben bir çınar idim, ben bir dal idim; yaprak yaprak dökülüp soldum.",author:"Aşık Veysel"},{text:"Söz ola kese savaşı, söz ola kestire başı.",author:"Yunus Emre"},{text:"Hayat bazen bir yudum sudur, bazen bin dağ.",author:"Cemal Süreya"},{text:"Her gün bir öncekinin devamı değildir.",author:"Turgut Uyar"},{text:"Kuşlarla konuşan adam çıldırmıştır ya da bir şairdir.",author:"Orhan Veli"},{text:"Yaşamak bir ağaç gibi tek ve hür, ve bir orman gibi kardeşçesine.",author:"Nazım Hikmet"},{text:"Sevdiğim beni unuttuğu zaman, ben de kendimi unutacağım.",author:"Orhan Veli"},{text:"Ben ölmeyeceğim, çünkü söyleyecek çok sözüm var.",author:"Nazım Hikmet"}],an=[{text:"La única forma de hacer un gran trabajo es amar lo que haces.",author:"Steve Jobs"},{text:"El éxito no es definitivo, el fracaso no es fatal: lo que cuenta es el valor para continuar.",author:"Winston Churchill"},{text:"Cree que puedes y ya estás a medio camino.",author:"Theodore Roosevelt"},{text:"El futuro pertenece a aquellos que creen en la belleza de sus sueños.",author:"Eleanor Roosevelt"},{text:"No importa lo lento que vayas siempre y cuando no te detengas.",author:"Confucio"},{text:"No mires el reloj; haz lo que hace. Sigue adelante.",author:"Sam Levenson"},{text:"El único viaje imposible es el que nunca comienzas.",author:"Tony Robbins"},{text:"El éxito no es qué tan alto has subido, sino cómo haces una diferencia positiva en el mundo.",author:"Roy T. Bennett"},{text:"Nunca eres demasiado viejo para establecer otra meta o soñar un nuevo sueño.",author:"C.S. Lewis"},{text:"Lo que está detrás de nosotros y lo que está delante de nosotros son asuntos pequeños comparados con lo que está dentro de nosotros.",author:"Ralph Waldo Emerson"},{text:"La única sabiduría verdadera es saber que no sabes nada.",author:"Sócrates"},{text:"En medio de la dificultad yace la oportunidad.",author:"Albert Einstein"},{text:"La vida es lo que pasa mientras estás ocupado haciendo otros planes.",author:"John Lennon"},{text:"Una vida no examinada no vale la pena vivirla.",author:"Sócrates"},{text:"Convierte tus heridas en sabiduría.",author:"Oprah Winfrey"},{text:"Un viaje de mil millas comienza con un solo paso.",author:"Lao Tzu"},{text:"Lo que no nos mata, nos hace más fuertes.",author:"Friedrich Nietzsche"},{text:"Sé tú mismo; todos los demás ya están ocupados.",author:"Oscar Wilde"},{text:"El ayer es historia, el mañana es un misterio, hoy es un regalo de Dios, por eso lo llamamos presente.",author:"Bil Keane"},{text:"Cuando cambies tus pensamientos, recuerda cambiar también tu mundo.",author:"Norman Vincent Peale"},{text:"En un lugar de la Mancha, de cuyo nombre no quiero acordarme, no ha mucho tiempo que vivía un hidalgo.",author:"Miguel de Cervantes"},{text:"No hay mayor dolor que recordar los tiempos felices en la miseria.",author:"Dante Alighieri"},{text:"La poesía es el sentimiento que le sobra al corazón y te sale por la mano.",author:"Carmen Conde"},{text:"Caminante, no hay camino, se hace camino al andar.",author:"Antonio Machado"},{text:"El amor es un fuego que arde sin ser visto.",author:"Luis de Camões"},{text:"Vivir es nada si no es vivir cada día como si fuera el último.",author:"Séneca"},{text:"La vida es aquello que te va sucediendo mientras te empeñas en hacer otros planes.",author:"John Lennon"},{text:"No hay camino para la paz, la paz es el camino.",author:"Mahatma Gandhi"},{text:"El que lee mucho y anda mucho, ve mucho y sabe mucho.",author:"Miguel de Cervantes"},{text:"La libertad es lo que hacemos con lo que nos han hecho.",author:"Jean-Paul Sartre"},{text:"Verde que te quiero verde. Verde viento. Verdes ramas.",author:"Federico García Lorca"},{text:"Me gustas cuando callas porque estás como ausente.",author:"Pablo Neruda"},{text:"Yo soy yo y mi circunstancia.",author:"José Ortega y Gasset"},{text:"La vida es sueño y los sueños, sueños son.",author:"Calderón de la Barca"},{text:"Por una mirada, un mundo; por una sonrisa, un cielo; por un beso... ¡yo no sé qué te diera por un beso!",author:"Gustavo Adolfo Bécquer"},{text:"Hoy es siempre todavía.",author:"Antonio Machado"},{text:"Volverán las oscuras golondrinas en tu balcón sus nidos a colgar.",author:"Gustavo Adolfo Bécquer"},{text:"Amor constante más allá de la muerte.",author:"Francisco de Quevedo"},{text:"Lo fugaz permanece y dura.",author:"Francisco de Quevedo"},{text:"Poderoso caballero es don Dinero.",author:"Francisco de Quevedo"}],Sr=[{text:"La seule façon de faire du bon travail est d'aimer ce que vous faites.",author:"Steve Jobs"},{text:"Le succès n'est pas définitif, l'échec n'est pas fatal : c'est le courage de continuer qui compte.",author:"Winston Churchill"},{text:"Croyez que vous pouvez et vous êtes à mi-chemin.",author:"Theodore Roosevelt"},{text:"L'avenir appartient à ceux qui croient en la beauté de leurs rêves.",author:"Eleanor Roosevelt"},{text:"Peu importe la lenteur à laquelle vous allez tant que vous ne vous arrêtez pas.",author:"Confucius"},{text:"Ne regardez pas l'horloge ; faites ce qu'elle fait. Continuez.",author:"Sam Levenson"},{text:"Le seul voyage impossible est celui que vous ne commencez jamais.",author:"Tony Robbins"},{text:"Le succès n'est pas à quelle hauteur vous avez grimpé, mais comment vous faites une différence positive dans le monde.",author:"Roy T. Bennett"},{text:"Vous n'êtes jamais trop vieux pour fixer un autre objectif ou rêver un nouveau rêve.",author:"C.S. Lewis"},{text:"Ce qui est derrière nous et ce qui est devant nous sont de petites choses comparées à ce qui est en nous.",author:"Ralph Waldo Emerson"},{text:"La seule vraie sagesse est de savoir que vous ne savez rien.",author:"Socrate"},{text:"Au milieu de la difficulté se trouve l'opportunité.",author:"Albert Einstein"},{text:"La vie, c'est ce qui arrive quand vous êtes occupé à faire d'autres projets.",author:"John Lennon"},{text:"Une vie sans examen ne vaut pas la peine d'être vécue.",author:"Socrate"},{text:"Transformez vos blessures en sagesse.",author:"Oprah Winfrey"},{text:"Un voyage de mille lieues commence toujours par un premier pas.",author:"Lao Tseu"},{text:"Ce qui ne nous tue pas nous rend plus forts.",author:"Friedrich Nietzsche"},{text:"Soyez vous-même ; tous les autres sont déjà pris.",author:"Oscar Wilde"},{text:"Hier est histoire, demain est un mystère, aujourd'hui est un cadeau de Dieu, c'est pourquoi nous l'appelons le présent.",author:"Bil Keane"},{text:"Quand vous changez vos pensées, n'oubliez pas de changer aussi votre monde.",author:"Norman Vincent Peale"},{text:"L'enfer, c'est les autres.",author:"Jean-Paul Sartre"},{text:"Je pense, donc je suis.",author:"René Descartes"},{text:"La vie est un sommeil, l'amour en est le rêve.",author:"Alfred de Musset"},{text:"On ne voit bien qu'avec le cœur. L'essentiel est invisible pour les yeux.",author:"Antoine de Saint-Exupéry"},{text:"Tout ce qui mérite d'être fait mérite d'être bien fait.",author:"Philip Stanhope"},{text:"L'homme est condamné à être libre.",author:"Jean-Paul Sartre"},{text:"La vie est un mystère qu'il faut vivre, et non un problème à résoudre.",author:"Gandhi"},{text:"Le bonheur n'est pas une destination, c'est une façon de voyager.",author:"Margaret Lee Runbeck"},{text:"Il n'y a qu'un bonheur dans la vie, c'est d'aimer et d'être aimé.",author:"George Sand"},{text:"Rien n'est permanent sauf le changement.",author:"Héraclite"},{text:"Demain, dès l'aube, à l'heure où blanchit la campagne, je partirai.",author:"Victor Hugo"},{text:"Là où vos talents et les besoins du monde se rencontrent, là se trouve votre vocation.",author:"Aristote"},{text:"La vie est un songe.",author:"Pedro Calderón de la Barca"},{text:"Aimer, ce n'est pas se regarder l'un l'autre, c'est regarder ensemble dans la même direction.",author:"Antoine de Saint-Exupéry"},{text:"La vérité vaut bien qu'on passe quelques années sans la trouver.",author:"Jules Renard"},{text:"L'art est le plus beau des mensonges.",author:"Claude Debussy"},{text:"Vivre est la chose la plus rare au monde. La plupart des gens existent, c'est tout.",author:"Oscar Wilde"},{text:"Il faut imaginer Sisyphe heureux.",author:"Albert Camus"},{text:"Connais-toi toi-même.",author:"Socrate"},{text:"Le cœur a ses raisons que la raison ne connaît point.",author:"Blaise Pascal"}],_r=[{text:"L'unico modo per fare un ottimo lavoro è amare quello che fai.",author:"Steve Jobs"},{text:"Il successo non è definitivo, il fallimento non è fatale: è il coraggio di continuare che conta.",author:"Winston Churchill"},{text:"Credi di poterlo fare e sei già a metà strada.",author:"Theodore Roosevelt"},{text:"Il futuro appartiene a coloro che credono nella bellezza dei propri sogni.",author:"Eleanor Roosevelt"},{text:"Non importa quanto lentamente vai, purché non ti fermi.",author:"Confucio"},{text:"Non guardare l'orologio; fai quello che fa lui. Vai avanti.",author:"Sam Levenson"},{text:"L'unico viaggio impossibile è quello che non inizi mai.",author:"Tony Robbins"},{text:"Il successo non è quanto in alto sei salito, ma come fai la differenza positiva nel mondo.",author:"Roy T. Bennett"},{text:"Non sei mai troppo vecchio per fissare un altro obiettivo o sognare un nuovo sogno.",author:"C.S. Lewis"},{text:"Ciò che è dietro di noi e ciò che è davanti a noi sono piccole cose rispetto a ciò che è dentro di noi.",author:"Ralph Waldo Emerson"},{text:"L'unica vera saggezza è sapere di non sapere nulla.",author:"Socrate"},{text:"Nel mezzo della difficoltà risiede l'opportunità.",author:"Albert Einstein"},{text:"La vita è quello che ti succede mentre sei impegnato a fare altri piani.",author:"John Lennon"},{text:"Una vita non esaminata non vale la pena di essere vissuta.",author:"Socrate"},{text:"Trasforma le tue ferite in saggezza.",author:"Oprah Winfrey"},{text:"Un viaggio di mille miglia inizia con un singolo passo.",author:"Lao Tzu"},{text:"Ciò che non ci uccide ci rende più forti.",author:"Friedrich Nietzsche"},{text:"Sii te stesso; tutti gli altri sono già presi.",author:"Oscar Wilde"},{text:"Ieri è storia, domani è un mistero, oggi è un dono di Dio, ecco perché lo chiamiamo presente.",author:"Bil Keane"},{text:"Quando cambi i tuoi pensieri, ricorda di cambiare anche il tuo mondo.",author:"Norman Vincent Peale"},{text:"Nel mezzo del cammin di nostra vita mi ritrovai per una selva oscura.",author:"Dante Alighieri"},{text:"Amor, ch'a nullo amato amar perdona.",author:"Dante Alighieri"},{text:"E quindi uscimmo a riveder le stelle.",author:"Dante Alighieri"},{text:"Fatti non foste a viver come bruti, ma per seguir virtute e canoscenza.",author:"Dante Alighieri"},{text:"Se tu segui tua stella, non puoi fallire a glorioso porto.",author:"Dante Alighieri"},{text:"L'amor che move il sole e l'altre stelle.",author:"Dante Alighieri"},{text:"Il dubbio è il padre dell'invenzione.",author:"Galileo Galilei"},{text:"La vita è come andare in bicicletta. Per mantenere l'equilibrio devi muoverti.",author:"Albert Einstein"},{text:"Chi sa fare fa, chi non sa fare insegna, chi non sa insegnare insegna educazione fisica.",author:"Woody Allen"},{text:"La cultura è l'unico bene dell'umanità che, diviso fra tutti, anziché diminuire diventa più grande.",author:"Hans Georg Gadamer"},{text:"M'illumino d'immenso.",author:"Giuseppe Ungaretti"},{text:"Si sta come d'autunno sugli alberi le foglie.",author:"Giuseppe Ungaretti"},{text:"Ed è subito sera.",author:"Salvatore Quasimodo"},{text:"Ognuno sta solo sul cuor della terra trafitto da un raggio di sole.",author:"Salvatore Quasimodo"},{text:"Il più bello dei mari è quello che non navigammo.",author:"Nazim Hikmet"},{text:"X agosto: San Lorenzo, io lo so perché tanto di stelle per l'aria tranquilla arde e cade.",author:"Giovanni Pascoli"},{text:"Il sabato del villaggio.",author:"Giacomo Leopardi"},{text:"L'infinito è sempre caro mi fu quest'ermo colle.",author:"Giacomo Leopardi"},{text:"A Silvia: Silvia, rimembri ancora quel tempo della tua vita mortale.",author:"Giacomo Leopardi"},{text:"Il cinque maggio: Ei fu. Siccome immobile, dato il mortal sospiro.",author:"Alessandro Manzoni"}],Nr=[{text:"偉大な仕事をする唯一の方法は、あなたがしていることを愛することです。",author:"スティーブ・ジョブズ"},{text:"成功は決定的ではなく、失敗は致命的ではありません。大切なのは続ける勇気です。",author:"ウィンストン・チャーチル"},{text:"できると信じれば、もう半分は成功したも同然だ。",author:"セオドア・ルーズベルト"},{text:"未来は夢の美しさを信じる人のものです。",author:"エレノア・ルーズベルト"},{text:"どれだけゆっくり進んでも、立ち止まらない限り問題ありません。",author:"孔子"},{text:"時計を見るな。時計がするように進め。",author:"サム・レヴェンソン"},{text:"唯一不可能な旅は、始めない旅です。",author:"トニー・ロビンズ"},{text:"成功とはどれだけ高く登ったかではなく、世界にどれだけ良い影響を与えたかです。",author:"ロイ・T・ベネット"},{text:"新しい目標を設定したり、新しい夢を見るのに、遅すぎることはありません。",author:"C.S.ルイス"},{text:"私たちの背後にあるものと前方にあるものは、私たちの内にあるものと比べれば些細なことです。",author:"ラルフ・ワルド・エマーソン"},{text:"唯一の真の知恵は、何も知らないことを知ることです。",author:"ソクラテス"},{text:"困難の中に機会がある。",author:"アルベルト・アインシュタイン"},{text:"人生とは、あなたが他の計画を立てている間に起こることです。",author:"ジョン・レノン"},{text:"吟味されない人生は生きる価値がない。",author:"ソクラテス"},{text:"傷を知恵に変えなさい。",author:"オプラ・ウィンフリー"},{text:"千里の道も一歩から。",author:"老子"},{text:"私たちを殺さないものは、私たちを強くする。",author:"フリードリヒ・ニーチェ"},{text:"自分らしくいなさい。他のみんなはすでに取られています。",author:"オスカー・ワイルド"},{text:"昨日は歴史、明日は謎、今日は神様からの贈り物、だから私たちはそれをプレゼントと呼びます。",author:"ビル・キーン"},{text:"考えを変えるとき、世界も変えることを忘れないでください。",author:"ノーマン・ヴィンセント・ピール"},{text:"我輩は猫である。名前はまだ無い。",author:"夏目漱石"},{text:"人間は考える葦である。",author:"パスカル"},{text:"月日は百代の過客にして、行きかふ年も又旅人也。",author:"松尾芭蕉"},{text:"古池や蛙飛びこむ水の音。",author:"松尾芭蕉"},{text:"山路来て何やらゆかし菫草。",author:"松尾芭蕉"},{text:"生きるべきか死ぬべきか、それが問題だ。",author:"ウィリアム・シェイクスピア"},{text:"人間は負けるように造られてはいないんだ。",author:"アーネスト・ヘミングウェイ"},{text:"吾輩は猫である。名前はまだない。どこで生れたかとんと見当がつかぬ。",author:"夏目漱石"},{text:"親譲りの無鉄砲で小供の時から損ばかりしている。",author:"夏目漱石"},{text:"木曾路はすべて山の中である。",author:"島崎藤村"},{text:"春の海 ひねもすのたり のたりかな。",author:"与謝蕪村"},{text:"柿くへば 鐘が鳴るなり 法隆寺。",author:"正岡子規"},{text:"降る雪や 明治は遠く なりにけり。",author:"中村草田男"},{text:"夏草や 兵どもが 夢の跡。",author:"松尾芭蕉"},{text:"閑さや 岩にしみ入る 蝉の声。",author:"松尾芭蕉"},{text:"五月雨を あつめて早し 最上川。",author:"松尾芭蕉"},{text:"君死にたまふことなかれ。",author:"与謝野晶子"},{text:"銀も金も玉も何せむにまされる宝子にしかめやも。",author:"山上憶良"},{text:"春過ぎて 夏来にけらし 白妙の 衣ほすてふ 天の香具山。",author:"持統天皇"},{text:"田子の浦に うち出でて見れば 白妙の 富士の高嶺に 雪は降りつつ。",author:"山部赤人"}],Tr={en:Dt,"en-US":Dt,"en-GB":Dt,tr:jr,"tr-TR":jr,es:an,"es-ES":an,"es-MX":an,fr:Sr,"fr-FR":Sr,it:_r,"it-IT":_r,ja:Nr,"ja-JP":Nr},Su=(e="en")=>{const t=e.split("-")[0],r=Tr[e]||Tr[t]||Dt;return r[Math.floor(Math.random()*r.length)]},_u=({locale:e="en"})=>{const[t,r]=y.useState({text:"",author:""}),[o,s]=y.useState(!1),a=30,i=y.useCallback(()=>{s(!0);const c=Su(e);r(c),setTimeout(()=>{s(!1)},300)},[e]);return y.useEffect(()=>{i()},[i]),y.useEffect(()=>{const c=setInterval(()=>{i()},a*60*1e3);return()=>clearInterval(c)},[i]),n.jsxs("div",{className:"quotes-widget",children:[n.jsx("button",{className:"refresh-btn",onClick:i,disabled:o,title:"Get new quote",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o?"spinning":"",children:n.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})})}),n.jsx("div",{className:`quote-content ${o?"refreshing":""}`,children:t.text&&n.jsxs(n.Fragment,{children:[n.jsxs("blockquote",{className:"quote-text",children:['"',t.text,'"']}),n.jsxs("p",{className:"quote-author",children:["— ",t.author]})]})})]})},Cr={"en-US":{weather:{title:"Weather",feelsLike:"Feels like",humidity:"Humidity",loading:"Loading weather...",error:"Weather unavailable",conditions:{clear:"Clear",mostlyClear:"Mostly Clear",partlyCloudy:"Partly Cloudy",overcast:"Overcast",foggy:"Foggy",drizzle:"Drizzle",freezingDrizzle:"Freezing Drizzle",rainy:"Rainy",freezingRain:"Freezing Rain",snowy:"Snowy",showers:"Showers",snowShowers:"Snow Showers",thunderstorm:"Thunderstorm",unknown:"Unknown"}},currency:{title:"Currency & Crypto",tabCurrency:"Currency",tabCrypto:"Crypto",loading:"Loading...",error:"Could not fetch data",errorCurrency:"Could not fetch exchange rates",errorCrypto:"Could not fetch crypto prices",tryAgain:"Try Again"},rss:{title:"News",loading:"Loading news...",categoryAll:"All",noItems:"No items found in any category.",noItemsCategory:"No items found in category",errorTooltip:"Some feeds failed to load"},quotes:{title:"Quotes"},settings:{title:"Settings",tabs:{general:"General",appearance:"Appearance",widgets:"Widgets",advanced:"Advanced"},general:{language:"Language",searchEngine:"Search Engine"},appearance:{theme:"Theme",background:"Background",backgroundType:"Background Type",solid:"Solid Color",gradient:"Gradient",image:"Image",pexels:"Pexels",random:"Random Mode",blur:"Blur",opacity:"Opacity",uploadImage:"Upload Image",deleteImage:"Delete Image"},widgets:{title:"Widgets",enabled:"Enabled",disabled:"Disabled",widgetOrder:"Widget Order"},advanced:{exportSettings:"Export Settings",importSettings:"Import Settings",resetSettings:"Reset Settings",resetConfirm:"Are you sure you want to reset all settings?"}},common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",remove:"Remove",close:"Close",refresh:"Refresh"}},"tr-TR":{weather:{title:"Hava Durumu",feelsLike:"Hissedilen",humidity:"Nem",loading:"Hava durumu yükleniyor...",error:"Hava durumu yüklenemedi",conditions:{clear:"Açık",mostlyClear:"Çoğunlukla Açık",partlyCloudy:"Parçalı Bulutlu",overcast:"Bulutlu",foggy:"Sisli",drizzle:"Çisenti",freezingDrizzle:"Dondurucu Çisenti",rainy:"Yağmurlu",freezingRain:"Dondurucu Yağmur",snowy:"Karlı",showers:"Sağanak",snowShowers:"Kar Sağanağı",thunderstorm:"Gök Gürültülü Fırtına",unknown:"Bilinmiyor"}},currency:{title:"Döviz & Kripto",tabCurrency:"Döviz",tabCrypto:"Kripto",loading:"Yükleniyor...",error:"Veri alınamadı",errorCurrency:"Döviz kurları alınamadı",errorCrypto:"Kripto fiyatları alınamadı",tryAgain:"Tekrar Dene"},rss:{title:"Haberler",loading:"Haberler yükleniyor...",categoryAll:"Tümü",noItems:"Hiçbir kategoride öğe bulunamadı.",noItemsCategory:"Kategoride öğe bulunamadı",errorTooltip:"Bazı akışlar yüklenemedi"},quotes:{title:"Alıntılar"},settings:{title:"Ayarlar",tabs:{general:"Genel",appearance:"Görünüm",widgets:"Widget'lar",advanced:"Gelişmiş"},general:{language:"Dil",searchEngine:"Arama Motoru"},appearance:{theme:"Tema",background:"Arka Plan",backgroundType:"Arka Plan Türü",solid:"Düz Renk",gradient:"Gradyan",image:"Resim",pexels:"Pexels",random:"Rastgele Mod",blur:"Bulanıklık",opacity:"Opaklık",uploadImage:"Resim Yükle",deleteImage:"Resmi Sil"},widgets:{title:"Widget'lar",enabled:"Aktif",disabled:"Devre Dışı",widgetOrder:"Widget Sıralaması"},advanced:{exportSettings:"Ayarları Dışa Aktar",importSettings:"Ayarları İçe Aktar",resetSettings:"Ayarları Sıfırla",resetConfirm:"Tüm ayarları sıfırlamak istediğinizden emin misiniz?"}},common:{save:"Kaydet",cancel:"İptal",delete:"Sil",edit:"Düzenle",add:"Ekle",remove:"Kaldır",close:"Kapat",refresh:"Yenile"}}},Wt=(e="en-US")=>Cr[e]||Cr["en-US"],Nu=(e,t)=>{const r=typeof e=="string"?parseInt(e):e,o=Wt(t);return r===0?o.weather.conditions.clear:r===1?o.weather.conditions.mostlyClear:r===2?o.weather.conditions.partlyCloudy:r===3?o.weather.conditions.overcast:r>=45&&r<=48?o.weather.conditions.foggy:r>=51&&r<=55?o.weather.conditions.drizzle:r>=56&&r<=57?o.weather.conditions.freezingDrizzle:r>=61&&r<=65?o.weather.conditions.rainy:r>=66&&r<=67?o.weather.conditions.freezingRain:r>=71&&r<=77?o.weather.conditions.snowy:r>=80&&r<=82?o.weather.conditions.showers:r>=85&&r<=86?o.weather.conditions.snowShowers:r>=95&&r<=99?o.weather.conditions.thunderstorm:o.weather.conditions.unknown},Tu=({locale:e="en-US",manualLocation:t,refreshMinutes:r=15})=>{const o=Wt(e),s=()=>{try{const Z=localStorage.getItem("hotpage_weather_cache");if(Z){const{data:ne,timestamp:J}=JSON.parse(Z);if(Date.now()-J<1800*1e3)return ne}}catch{}return null},a=()=>{try{const Z=localStorage.getItem("hotpage_weather_cache");if(Z){const{lastUpdated:ne}=JSON.parse(Z);return ne||""}}catch{}return""},[i,c]=y.useState(s),[m,h]=y.useState(!1),[x,j]=y.useState(null),[z,I]=y.useState(a),[L,oe]=y.useState(t);return y.useEffect(()=>{const Z=setTimeout(()=>{oe(t)},800);return()=>clearTimeout(Z)},[t]),y.useEffect(()=>{const Z=async()=>{if(i||h(!0),j(null),L&&L.trim()){C.info("Weather",`Manual location set: ${L}`);try{const g=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(L)}&format=json&limit=1&accept-language=${e}`)).json();if(g&&g.length>0){const{lat:d,lon:W}=g[0];C.success("Weather",`Geocoded ${L} to ${d}, ${W}`),await ne(parseFloat(d),parseFloat(W),L.trim());return}else C.warning("Weather",`No results for location: ${L}`)}catch(M){C.error("Weather","Geocoding failed",M)}}try{C.debug("Weather","Attempting geolocation...");const M=await new Promise((W,H)=>{navigator.geolocation.getCurrentPosition(W,H,{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})}),{latitude:g,longitude:d}=M.coords;C.success("Weather",`Geolocation: ${g}, ${d}`),await ne(g,d)}catch{C.debug("Weather","Geolocation failed, trying IP-based location");try{const d=await(await fetch("https://ipapi.co/json/")).json();if(d.latitude&&d.longitude)C.success("Weather",`IP-based location: ${d.city}, ${d.country}`),await ne(d.latitude,d.longitude);else throw new Error("Could not determine location")}catch(g){C.error("Weather","All location methods failed",g),i||j(e==="tr"?"Konum alınamadı":"Could not get location"),h(!1)}}},ne=async(M,g,d)=>{try{C.debug("Weather",`Fetching weather for ${M}, ${g}`);const W=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${M}&longitude=${g}&current=temperature_2m,apparent_temperature,relative_humidity_2m,weather_code,wind_speed_10m,surface_pressure,is_day&daily=temperature_2m_max,temperature_2m_min&timezone=auto&forecast_days=1`);if(!W.ok)throw new Error("Weather fetch failed");const H=await W.json(),O=H.current,w=H.daily;let N=d||"";if(!N)try{const k=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${M}&lon=${g}&format=json&accept-language=${e}`)).json();N=k.address?.city||k.address?.town||k.address?.village||k.address?.county||k.address?.state||"",C.debug("Weather",`Reverse geocoded to: ${N}`)}catch(E){C.warning("Weather","Reverse geocoding failed",E),N=o.weather.conditions.unknown+" Location"}const F={temperature:Math.round(O.temperature_2m),feelsLike:Math.round(O.apparent_temperature),tempMin:w?.temperature_2m_min?.[0]?Math.round(w.temperature_2m_min[0]):void 0,tempMax:w?.temperature_2m_max?.[0]?Math.round(w.temperature_2m_max[0]):void 0,condition:Nu(O.weather_code,e),iconKey:_o(O.weather_code,O.is_day===1),location:N,humidity:O.relative_humidity_2m,windSpeed:Math.round(O.wind_speed_10m),pressure:O.surface_pressure?Math.round(O.surface_pressure):void 0};C.success("Weather",`Weather data loaded: ${F.temperature}°C in ${N}`),c(F);const T=new Date().toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"});I(T);try{localStorage.setItem("hotpage_weather_cache",JSON.stringify({data:F,lastUpdated:T,timestamp:Date.now()}))}catch{}}catch(W){C.error("Weather","Failed to fetch weather data",W),i||j(o.weather.error)}h(!1)};Z();const J=Math.max(5,r||10),q=setInterval(Z,J*60*1e3);return()=>clearInterval(q)},[e,L,r]),m&&!i?n.jsxs("div",{className:"weather-widget loading",children:[n.jsx("div",{className:"widget-header",children:n.jsxs("div",{className:"widget-title",children:[n.jsx("svg",{className:"widget-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),n.jsx("span",{children:e==="tr"?"Hava Durumu":"Weather"})]})}),n.jsx("div",{className:"widget-loading",children:n.jsx("div",{className:"loading-bar",children:n.jsx("div",{className:"loading-bar-fill"})})})]}):x?n.jsxs("div",{className:"weather-widget error",children:[n.jsx("svg",{className:"weather-error-icon",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{fill:"currentColor",d:"M12.884 2.532c-.346-.654-1.422-.654-1.768 0l-9 17A1 1 0 0 0 3 21h18a.998.998 0 0 0 .883-1.467zM13 18h-2v-2h2zm-2-4V9h2l.001 5z"})}),n.jsx("span",{className:"weather-error-text",children:x||o.weather.error})]}):i?n.jsxs("div",{className:"weather-widget",children:[n.jsxs("div",{className:"widget-header",children:[n.jsxs("div",{className:"widget-title",children:[n.jsx("svg",{className:"widget-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),n.jsx("span",{children:o.weather.title})]}),z&&n.jsx("span",{className:"weather-last-updated",children:z})]}),n.jsxs("div",{className:"weather-content",children:[n.jsxs("div",{className:"weather-left",children:[n.jsx("span",{className:"weather-icon",dangerouslySetInnerHTML:{__html:Un[i.iconKey]||Un.default}}),n.jsxs("div",{className:"weather-temp-section",children:[n.jsxs("span",{className:"weather-temp",children:[i.temperature,"°C"]}),i.feelsLike!==void 0&&n.jsxs("span",{className:"weather-feels-like",children:[o.weather.feelsLike," ",i.feelsLike,"°"]})]})]}),n.jsxs("div",{className:"weather-center",children:[n.jsx("span",{className:"weather-condition",children:i.condition}),n.jsxs("span",{className:"weather-location",children:[n.jsxs("svg",{className:"location-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),i.location]}),i.tempMin!==void 0&&i.tempMax!==void 0&&n.jsxs("span",{className:"weather-minmax",children:[n.jsx("svg",{className:"minmax-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12l7 7 7-7"})}),i.tempMin,"° /",n.jsx("svg",{className:"minmax-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 19V5M5 12l7-7 7 7"})}),i.tempMax,"°"]})]}),n.jsxs("div",{className:"weather-right",children:[i.humidity!==void 0&&n.jsxs("div",{className:"weather-stat",children:[n.jsx("svg",{className:"weather-stat-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),n.jsxs("span",{className:"weather-stat-value",children:[i.humidity,"%"]}),n.jsx("span",{className:"weather-stat-label",children:o.weather.humidity})]}),i.windSpeed!==void 0&&n.jsxs("div",{className:"weather-stat",children:[n.jsxs("svg",{className:"weather-stat-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2"}),n.jsx("path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2"}),n.jsx("path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2"})]}),n.jsx("span",{className:"weather-stat-value",children:i.windSpeed}),n.jsx("span",{className:"weather-stat-label",children:"km/h"})]}),i.pressure!==void 0&&n.jsxs("div",{className:"weather-stat",children:[n.jsxs("svg",{className:"weather-stat-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 2v20"}),n.jsx("path",{d:"M8 6h8"}),n.jsx("path",{d:"M8 18h8"}),n.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),n.jsx("span",{className:"weather-stat-value",children:i.pressure}),n.jsx("span",{className:"weather-stat-label",children:"hPa"})]})]})]})]}):null},Ke={USD:{symbol:"$",name:"US Dollar",nameTr:"Amerikan Doları"},EUR:{symbol:"€",name:"Euro",nameTr:"Euro"},GBP:{symbol:"£",name:"British Pound",nameTr:"İngiliz Sterlini"},JPY:{symbol:"¥",name:"Japanese Yen",nameTr:"Japon Yeni"},TRY:{symbol:"₺",name:"Turkish Lira",nameTr:"Türk Lirası"},XAU:{symbol:"Au",name:"Gold (Gram)",nameTr:"Gram Altın"}},Cu=n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"warning-icon",children:[n.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),n.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),n.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),zu=({locale:e="en-US",settings:t,onSettingsChange:r})=>{const o=Wt(e),s=e==="tr-TR"||e==="tr",a=t?.baseCurrency||(s?"TRY":"USD"),i=t?.enabledCurrencies||(s?["USD","EUR","GBP","XAU"]:["EUR","GBP","JPY"]),c=t?.enabledCryptos||["bitcoin","ethereum","avalanche","polkadot"],m=t?.showSparkline??!1,h=t?.refreshMinutes??15,x=i.length>0,j=c.length>0;if(!(x||j))return null;const I=()=>t?.activeTab?t.activeTab==="currency"&&!x?"crypto":t.activeTab==="crypto"&&!j?"currency":t.activeTab:x?"currency":"crypto",[L,oe]=y.useState(I()),[Z,ne]=y.useState([]),[J,q]=y.useState([]),[M,g]=y.useState(!0),[d,W]=y.useState(null),[H,O]=y.useState("");y.useEffect(()=>{!x&&L==="currency"&&j&&(oe("crypto"),r?.({activeTab:"crypto"})),!j&&L==="crypto"&&x&&(oe("currency"),r?.({activeTab:"currency"}))},[x,j,L,r]);const w=y.useCallback(async()=>{try{C.debug("Currency",`Fetching exchange rates for base: ${a}`);const k=await fetch(`https://api.exchangerate-api.com/v4/latest/${a}`);if(!k.ok)throw new Error("Currency fetch failed");const Y=await k.json();C.success("Currency",`Exchange rates fetched for ${a}`);const ee=[];for(const te of i){if(te===a)continue;let b,l;if(te==="XAU"){try{const p=await fetch("https://api.nbp.pl/api/cenyzlota?format=json");if(p.ok){const D=(await p.json())[0]?.cena||0;if(a==="TRY"){const Q=await fetch("https://api.exchangerate-api.com/v4/latest/PLN");if(Q.ok){const G=(await Q.json()).rates?.TRY||8.8;b=D*G}else continue}else{const Q=await fetch("https://api.exchangerate-api.com/v4/latest/PLN");if(Q.ok){const G=(await Q.json()).rates?.USD||.25;b=D*G}else continue}}else a==="TRY"?b=85*(Y.rates?.USD?1/Y.rates.USD:35):b=85}catch{a==="TRY"?b=85*(Y.rates?.USD?1/Y.rates.USD:35):b=85}l=s?Ke[te].nameTr:Ke[te].name}else a==="TRY"&&Y.rates[te]?(b=1/Y.rates[te],l=s?Ke[te].nameTr:Ke[te].name):(b=Y.rates[te]||0,l=s?Ke[te].nameTr:Ke[te].name);ee.push({code:te,name:l,rate:b,lastUpdated:new Date().toLocaleTimeString(e)})}ne(ee),O(new Date().toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"})),C.success("Currency",`Loaded ${ee.length} currency rates`)}catch(k){C.error("Currency","Failed to fetch exchange rates",k),Z.length===0&&W(o.currency.errorCurrency)}},[a,i,s,e,o.currency.errorCurrency]),N=y.useCallback(async()=>{try{const k=c.join(","),Y=a.toLowerCase()==="try"?"try":"usd";C.debug("Currency",`Fetching crypto prices for: ${k} (vs ${Y})`);const ee=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${Y}&ids=${k}&order=market_cap_desc&sparkline=${m}`);if(!ee.ok)throw new Error("Crypto fetch failed");const b=(await ee.json()).map(l=>({id:l.id,symbol:l.symbol.toUpperCase(),name:l.name,price:l.current_price,change24h:l.price_change_percentage_24h||0,changeDirection:l.price_change_percentage_24h>0?"up":l.price_change_percentage_24h<0?"down":"neutral",sparkline:m&&l.sparkline_in_7d?.price?l.sparkline_in_7d.price.slice(-24):void 0,lastUpdated:new Date().toLocaleTimeString(e)}));q(b),O(new Date().toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"})),C.success("Currency",`Loaded ${b.length} crypto prices`)}catch(k){C.error("Currency","Failed to fetch crypto prices",k),J.length===0&&W(o.currency.errorCrypto)}},[a,c,s,e,m]);y.useEffect(()=>{const k=async()=>{Z.length===0&&J.length===0&&g(!0),W(null),L==="currency"?await w():await N(),g(!1)};k();const Y=setInterval(k,h*60*1e3);return()=>clearInterval(Y)},[L,w,N,h]);const F=k=>{oe(k),r?.({activeTab:k})},T=(k,Y)=>Y==="XAU"?k.toLocaleString(e,{minimumFractionDigits:2,maximumFractionDigits:2}):k>=1e3?k.toLocaleString(e,{minimumFractionDigits:2,maximumFractionDigits:2}):k>=1?k.toLocaleString(e,{minimumFractionDigits:2,maximumFractionDigits:4}):k.toLocaleString(e,{minimumFractionDigits:4,maximumFractionDigits:6}),E=(k,Y)=>{if(!k||k.length<2)return null;const ee=Math.min(...k),b=Math.max(...k)-ee||1,l=60,p=24,S=k.map((Q,P)=>{const G=P/(k.length-1)*l,ae=p-(Q-ee)/b*p;return`${G},${ae}`}).join(" "),D=Y==="up"?"#22c55e":Y==="down"?"#ef4444":"#6b7280";return n.jsx("svg",{className:"sparkline",width:l,height:p,viewBox:`0 0 ${l} ${p}`,children:n.jsx("polyline",{fill:"none",stroke:D,strokeWidth:"1.5",points:S})})};return M&&Z.length===0&&J.length===0?n.jsx("div",{className:"currency-widget",children:n.jsxs("div",{className:"currency-card",children:[n.jsx("div",{className:"widget-header",children:n.jsxs("div",{className:"widget-title",children:[n.jsx("svg",{className:"widget-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M1.249 7.001a5.751 5.751 0 1 1 11.502 0a5.751 5.751 0 0 1-11.502 0M7 0a7.001 7.001 0 1 0 0 14.002A7.001 7.001 0 0 0 7 0m.625 3a.625.625 0 1 0-1.25 0v.709a1.815 1.815 0 0 0-.35 3.588l1.57.344a.709.709 0 0 1-.15 1.4h-.889a.71.71 0 0 1-.669-.471a.625.625 0 1 0-1.178.416a1.96 1.96 0 0 0 1.666 1.297V11a.625.625 0 0 0 1.25 0v-.716a1.96 1.96 0 0 0 .238-3.865l-1.571-.343a.565.565 0 0 1 .12-1.118h1.032a.705.705 0 0 1 .669.473a.625.625 0 1 0 1.178-.417a1.96 1.96 0 0 0-1.666-1.297z",clipRule:"evenodd"})}),n.jsx("span",{children:s?"Döviz & Kripto":"Currency & Crypto"})]})}),n.jsx("div",{className:"widget-loading",children:n.jsx("div",{className:"loading-bar",children:n.jsx("div",{className:"loading-bar-fill"})})})]})}):d&&Z.length===0&&J.length===0?n.jsx("div",{className:"currency-widget",children:n.jsx("div",{className:"currency-card",children:n.jsxs("div",{className:"currency-error",children:[Cu,n.jsx("p",{children:d}),n.jsx("button",{onClick:()=>L==="currency"?w():N(),children:o.currency.tryAgain})]})})}):n.jsx("div",{className:"currency-widget",children:n.jsxs("div",{className:"currency-card",children:[n.jsx("div",{className:"widget-header",children:n.jsxs("div",{className:"widget-title",children:[n.jsx("svg",{className:"widget-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M1.249 7.001a5.751 5.751 0 1 1 11.502 0a5.751 5.751 0 0 1-11.502 0M7 0a7.001 7.001 0 1 0 0 14.002A7.001 7.001 0 0 0 7 0m.625 3a.625.625 0 1 0-1.25 0v.709a1.815 1.815 0 0 0-.35 3.588l1.57.344a.709.709 0 0 1-.15 1.4h-.889a.71.71 0 0 1-.669-.471a.625.625 0 1 0-1.178.416a1.96 1.96 0 0 0 1.666 1.297V11a.625.625 0 0 0 1.25 0v-.716a1.96 1.96 0 0 0 .238-3.865l-1.571-.343a.565.565 0 0 1 .12-1.118h1.032a.705.705 0 0 1 .669.473a.625.625 0 1 0 1.178-.417a1.96 1.96 0 0 0-1.666-1.297z",clipRule:"evenodd"})}),n.jsx("span",{children:o.currency.title})]})}),n.jsxs("div",{className:"currency-header",children:[n.jsxs("div",{className:"currency-tabs",children:[x&&n.jsxs("button",{className:`currency-tab ${L==="currency"?"active":""}`,onClick:()=>F("currency"),children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",children:n.jsx("path",{fill:"currentColor",d:"M7 15h2c0 1.08 1.37 2 3 2s3-.92 3-2c0-1.1-1.04-1.5-3.24-2.03C9.64 12.44 7 11.78 7 9c0-1.79 1.47-3.31 3.5-3.82V3h3v2.18C15.53 5.69 17 7.21 17 9h-2c0-1.08-1.37-2-3-2s-3 .92-3 2c0 1.1 1.04 1.5 3.24 2.03C14.36 11.56 17 12.22 17 15c0 1.79-1.47 3.31-3.5 3.82V21h-3v-2.18C8.47 18.31 7 16.79 7 15"})}),n.jsx("span",{children:o.currency.tabCurrency})]}),j&&n.jsxs("button",{className:`currency-tab ${L==="crypto"?"active":""}`,onClick:()=>F("crypto"),children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",children:n.jsx("path",{fill:"currentColor",d:"M18.763 10.236c.279-1.895-1.155-2.905-3.131-3.591l.64-2.553l-1.56-.389l-.623 2.49l-1.245-.297l.631-2.508L11.915 3l-.641 2.562l-.992-.234v-.01l-2.157-.54l-.415 1.668s1.155.272 1.137.28c.631.163.74.578.722.903l-.723 2.923l.163.054l-.171-.036l-1.02 4.087c-.072.19-.27.478-.712.36c.018.028-1.128-.27-1.128-.27l-.776 1.778l2.03.505l1.11.289l-.65 2.59l1.56.387l.633-2.562l1.253.324l-.64 2.554l1.56.388l.641-2.59c2.662.505 4.665.307 5.505-2.102c.676-1.94-.037-3.05-1.435-3.79c1.02-.225 1.786-.902 1.985-2.282zm-3.564 4.999c-.479 1.94-3.745.884-4.8.63l.857-3.436c1.055.27 4.448.784 3.943 2.796zm.478-5.026c-.433 1.76-3.158.866-4.033.65l.775-3.113c.885.217 3.718.632 3.258 2.463"})}),n.jsx("span",{children:o.currency.tabCrypto})]})]}),H&&n.jsx("span",{className:"currency-last-updated",children:H})]}),n.jsx("div",{className:"currency-grid",children:L==="currency"?Z.map(k=>n.jsxs("div",{className:"currency-item","data-currency":k.code,children:[n.jsx("div",{className:"currency-item-icon",dangerouslySetInnerHTML:{__html:No[k.code]||`<span>${k.code}</span>`}}),n.jsxs("div",{className:"currency-item-info",children:[n.jsx("span",{className:"currency-item-name",children:k.name}),n.jsxs("span",{className:"currency-item-code",children:[k.code,"/",a]})]}),n.jsxs("span",{className:"currency-item-rate",children:[Ke[a]?.symbol,T(k.rate,k.code)]}),k.change!==void 0&&n.jsxs("span",{className:`currency-item-change ${k.changeDirection}`,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.changeDirection==="up"?n.jsx("path",{d:"M12 19V5M5 12l7-7 7 7"}):k.changeDirection==="down"?n.jsx("path",{d:"M12 5v14M5 12l7 7 7-7"}):n.jsx("path",{d:"M5 12h14"})}),Math.abs(k.change).toFixed(2),"%"]})]},k.code)):J.map(k=>n.jsxs("div",{className:"currency-item","data-crypto":k.id,children:[n.jsx("div",{className:"currency-item-icon",dangerouslySetInnerHTML:{__html:To[k.id]||`<span>${k.symbol}</span>`}}),n.jsxs("div",{className:"currency-item-info",children:[n.jsx("span",{className:"currency-item-name",children:k.name}),n.jsx("span",{className:"currency-item-code",children:k.symbol})]}),n.jsxs("span",{className:"currency-item-rate",children:[a==="TRY"?"₺":"$",T(k.price)]}),n.jsxs("span",{className:`currency-item-change ${k.changeDirection}`,children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:k.changeDirection==="up"?n.jsx("path",{d:"M12 19V5M5 12l7-7 7 7"}):k.changeDirection==="down"?n.jsx("path",{d:"M12 5v14M5 12l7 7 7-7"}):n.jsx("path",{d:"M5 12h14"})}),Math.abs(k.change24h).toFixed(2),"%"]}),m&&k.sparkline&&n.jsx("div",{className:"currency-sparkline",children:E(k.sparkline,k.changeDirection)})]},k.id))})]})})};let Et=!1;const zr=[{name:"Mona Sans",value:'"Mona Sans", system-ui, sans-serif'},{name:"System",value:"system-ui, -apple-system, sans-serif"},{name:"Serif",value:"Georgia, serif"},{name:"Mono",value:"ui-monospace, monospace"},{name:"Cursive",value:"cursive"}],Iu=[12,14,16,18,20,24],Ir=[{name:"primary",value:"primary"},{name:"secondary",value:"secondary"},{name:"accent",value:"accent"},{name:"surface",value:"surface"}],Ar=[{name:"Light",value:"rgba(255, 255, 255, 0.9)"},{name:"Dark",value:"rgba(0, 0, 0, 0.85)"},{name:"Theme",value:"var(--color-text)"}],cn={isRunning:!1,mode:"work",timeLeft:1500,workDuration:25,shortBreakDuration:5,longBreakDuration:15,customDuration:45,sessionsCompleted:0},Au=({note:e,onNoteChange:t,defaultTodos:r=[],shortcut:o="Alt+N"})=>{const[s,a]=y.useState(!1),[i,c]=y.useState(!1),[m,h]=y.useState(!1),[x,j]=y.useState({x:0,y:0}),[z,I]=y.useState(""),[L,oe]=y.useState(""),[Z,ne]=y.useState(null),[J,q]=y.useState(""),M=y.useRef(null),g=y.useRef(null),d=e?{...e,mode:e.mode||"notes",todos:e.todos||[],pomodoro:e.pomodoro||{...cn}}:null;y.useEffect(()=>{if(!Et)if(e)!e.pomodoro||!e.todos||!e.mode?(Et=!0,t({...e,mode:e.mode||"notes",todos:e.todos||[],pomodoro:e.pomodoro||{...cn}})):Et=!0;else{Et=!0;const f={id:Date.now().toString(),content:"",position:{x:Math.max(50,(window.innerWidth-370)/2),y:Math.max(50,(window.innerHeight-410)/2)},size:{width:370,height:410},fontSize:14,fontFamily:zr[0].value,color:Ir[0].value,textColor:Ar[2].value,createdAt:Date.now(),updatedAt:Date.now(),mode:"notes",todos:r,pomodoro:{...cn}};t(f)}},[]),y.useEffect(()=>{if(!d)return;const f=V=>{if(!s)return;const se=Math.max(0,Math.min(V.clientX-x.x,window.innerWidth-100)),ie=Math.max(0,Math.min(V.clientY-x.y,window.innerHeight-100));t({...d,position:{x:se,y:ie}})},B=()=>{a(!1),c(!1)};return(s||i)&&(document.addEventListener("mousemove",f),document.addEventListener("mouseup",B)),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",B)}},[s,i,x,d,t]);const W=y.useCallback(f=>{d&&t({...d,content:f,updatedAt:Date.now()})},[d,t]),H=y.useCallback(f=>{d&&t({...d,fontSize:f,updatedAt:Date.now()})},[d,t]),O=y.useCallback(f=>{d&&t({...d,fontFamily:f,updatedAt:Date.now()})},[d,t]),w=y.useCallback(f=>{d&&t({...d,color:f,updatedAt:Date.now()})},[d,t]),N=y.useCallback(f=>{d&&t({...d,textColor:f,updatedAt:Date.now()})},[d,t]),F=y.useCallback(f=>{d&&t({...d,mode:f,updatedAt:Date.now()})},[d,t]),T=y.useCallback(()=>{if(!d||!z.trim())return;const f={id:Date.now().toString(),text:z.trim(),subheading:L.trim()||void 0,completed:!1,createdAt:Date.now()};t({...d,todos:[...d.todos,f],updatedAt:Date.now()}),I(""),oe("")},[d,z,L,t]),E=y.useCallback(f=>{d&&t({...d,todos:d.todos.map(B=>{if(B.id===f){const V=!B.completed;return{...B,completed:V,subtasks:(B.subtasks||[]).map(se=>({...se,completed:V}))}}return B}),updatedAt:Date.now()})},[d,t]),k=y.useCallback(f=>{d&&t({...d,todos:d.todos.filter(B=>B.id!==f),updatedAt:Date.now()})},[d,t]),Y=y.useCallback(f=>{if(!d||!J.trim())return;const B={id:Date.now().toString(),text:J.trim(),completed:!1,createdAt:Date.now()};t({...d,todos:d.todos.map(V=>V.id===f?{...V,subtasks:[...V.subtasks||[],B]}:V),updatedAt:Date.now()}),q("")},[d,J,t]),ee=y.useCallback((f,B)=>{d&&t({...d,todos:d.todos.map(V=>{if(V.id!==f)return V;const se=(V.subtasks||[]).map(xe=>xe.id===B?{...xe,completed:!xe.completed}:xe),ie=se.length>0&&se.every(xe=>xe.completed);return{...V,subtasks:se,completed:ie}}),updatedAt:Date.now()})},[d,t]),te=y.useCallback((f,B)=>{d&&t({...d,todos:d.todos.map(V=>V.id===f?{...V,subtasks:(V.subtasks||[]).filter(se=>se.id!==B)}:V),updatedAt:Date.now()})},[d,t]),b=y.useCallback(()=>{d&&t({...d,pomodoro:{...d.pomodoro,isRunning:!d.pomodoro.isRunning}})},[d,t]),l=y.useCallback(()=>{if(!d)return;const f=d.pomodoro.mode==="work"?d.pomodoro.workDuration*60:d.pomodoro.mode==="shortBreak"?d.pomodoro.shortBreakDuration*60:d.pomodoro.longBreakDuration*60;t({...d,pomodoro:{...d.pomodoro,isRunning:!1,timeLeft:f}})},[d,t]),p=y.useCallback(f=>{if(!d)return;const B=f==="work"?d.pomodoro.workDuration*60:f==="shortBreak"?d.pomodoro.shortBreakDuration*60:f==="longBreak"?d.pomodoro.longBreakDuration*60:(d.pomodoro.customDuration||45)*60;t({...d,pomodoro:{...d.pomodoro,isRunning:!1,mode:f,timeLeft:B}})},[d,t]),S=y.useCallback((f,B)=>{if(!d)return;const V=Math.max(1,Math.min(120,B)),se={};f==="work"?se.workDuration=V:f==="shortBreak"?se.shortBreakDuration=V:f==="longBreak"?se.longBreakDuration=V:se.customDuration=V;const ie={...d.pomodoro,...se};!d.pomodoro.isRunning&&d.pomodoro.mode===f&&(ie.timeLeft=V*60),t({...d,pomodoro:ie,updatedAt:Date.now()})},[d,t]);if(!d)return null;const D=f=>{f.target.closest(".sticky-note-textarea")||f.target.closest(".sticky-note-actions")||f.target.closest(".sticky-note-resize")||f.target.closest(".sticky-note-settings-panel")||f.target.closest(".sticky-note-content")||f.target.closest(".sticky-note-tabs")||(a(!0),j({x:f.clientX-d.position.x,y:f.clientY-d.position.y}))},Q=f=>{f.stopPropagation(),c(!0);const B=f.clientX,V=f.clientY,se=d.size.width,ie=d.size.height,xe=be=>{const Me=Math.max(280,se+(be.clientX-B)),Re=Math.max(200,ie+(be.clientY-V));t({...d,size:{width:Me,height:Re}})},je=()=>{c(!1),document.removeEventListener("mousemove",xe),document.removeEventListener("mouseup",je)};document.addEventListener("mousemove",xe),document.addEventListener("mouseup",je)},P=()=>{let f="";d.mode==="notes"?f=d.content:d.mode==="todos"?f=d.todos.map(ie=>{let xe=`${ie.completed?"[x]":"[ ]"} ${ie.text}`;if(ie.subtasks&&ie.subtasks.length>0){const je=ie.subtasks.map(be=>`  ${be.completed?"[x]":"[ ]"} ${be.text}`).join(`
`);xe+=`
`+je}return xe}).join(`
`):f=`Pomodoro Sessions: ${d.pomodoro.sessionsCompleted}`;const B=new Blob([f],{type:"text/plain"}),V=URL.createObjectURL(B),se=document.createElement("a");se.href=V,se.download=`sticky-${d.mode}-${new Date().toISOString().slice(0,10)}.txt`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(V)},G=()=>{g.current?.click()},ae=f=>{const B=f.target.files?.[0];if(B){const V=new FileReader;V.onload=se=>{const ie=se.target?.result;if(d.mode==="todos"){const xe=ie.split(`
`),je=[];let be=null;xe.forEach((Me,Re)=>{if(!Me.trim())return;const tt=Me.startsWith("  "),Ve=Me.includes("[x]")||Me.includes("[X]"),nt=Me.replace(/^[\s]*\[[ xX]\]\s*/,"").trim();if(nt)if(tt&&be){const kt={id:`${Date.now()}-sub-${Re}`,text:nt,completed:Ve,createdAt:Date.now()};be.subtasks||(be.subtasks=[]),be.subtasks.push(kt)}else be={id:`${Date.now()}-${Re}`,text:nt,completed:Ve,createdAt:Date.now(),subtasks:[]},je.push(be)}),t({...d,todos:[...d.todos,...je],updatedAt:Date.now()})}else W(ie)},V.readAsText(B)}g.current&&(g.current.value="")},K=f=>{const B=Math.floor(f/60),V=f%60;return`${B.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`};return n.jsxs("div",{className:"sticky-notes-container",ref:M,children:[n.jsx("input",{type:"file",ref:g,onChange:ae,accept:".txt,.md",style:{display:"none"}}),n.jsxs("div",{className:`sticky-note sticky-note-${d.color||"primary"}`,style:{left:d.position.x,top:d.position.y,width:d.size.width,height:d.size.height},onMouseDown:D,children:[n.jsxs("div",{className:"sticky-note-header",children:[n.jsx("div",{className:"sticky-note-drag-handle",children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("circle",{cx:"5",cy:"5",r:"2"}),n.jsx("circle",{cx:"12",cy:"5",r:"2"}),n.jsx("circle",{cx:"19",cy:"5",r:"2"}),n.jsx("circle",{cx:"5",cy:"12",r:"2"}),n.jsx("circle",{cx:"12",cy:"12",r:"2"}),n.jsx("circle",{cx:"19",cy:"12",r:"2"})]})}),n.jsxs("div",{className:"sticky-note-actions",children:[n.jsx("div",{className:"sticky-note-colors",children:Ir.map(f=>n.jsx("button",{className:`color-btn color-btn-${f.value} ${d.color===f.value?"active":""}`,onClick:B=>{B.stopPropagation(),w(f.value)},title:f.name},f.name))}),n.jsx("button",{className:"sticky-note-action-btn",onClick:f=>{f.stopPropagation(),G()},title:"Upload note",children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"17 8 12 3 7 8"}),n.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),n.jsx("button",{className:"sticky-note-action-btn",onClick:f=>{f.stopPropagation(),P()},title:"Download note",children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),n.jsx("button",{className:`sticky-note-action-btn ${m?"active":""}`,onClick:f=>{f.stopPropagation(),h(!m)},title:"Text settings",children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("polyline",{points:"4 7 4 4 20 4 20 7"}),n.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20"}),n.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20"})]})}),n.jsx("button",{className:"sticky-note-action-btn sticky-note-close-btn",onClick:f=>{f.stopPropagation(),t(null)},title:"Close sticky note",children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),n.jsxs("div",{className:"sticky-note-tabs",onClick:f=>f.stopPropagation(),children:[n.jsxs("button",{className:`tab-btn ${d.mode==="notes"?"active":""}`,onClick:()=>F("notes"),children:[n.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14 2 14 8 20 8"}),n.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),n.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Notes"]}),n.jsxs("button",{className:`tab-btn ${d.mode==="todos"?"active":""}`,onClick:()=>F("todos"),children:[n.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M9 11l3 3L22 4"}),n.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),"Todos"]}),n.jsxs("button",{className:`tab-btn ${d.mode==="pomodoro"?"active":""}`,onClick:()=>F("pomodoro"),children:[n.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Pomodoro"]})]}),m&&n.jsxs("div",{className:"sticky-note-settings-panel",onClick:f=>f.stopPropagation(),children:[n.jsxs("div",{className:"settings-row",children:[n.jsx("label",{children:"Font"}),n.jsx("select",{value:d.fontFamily,onChange:f=>O(f.target.value),children:zr.map(f=>n.jsx("option",{value:f.value,children:f.name},f.name))})]}),n.jsxs("div",{className:"settings-row",children:[n.jsx("label",{children:"Size"}),n.jsx("select",{value:d.fontSize,onChange:f=>H(Number(f.target.value)),children:Iu.map(f=>n.jsxs("option",{value:f,children:[f,"px"]},f))})]}),n.jsxs("div",{className:"settings-row",children:[n.jsx("label",{children:"Text"}),n.jsx("select",{value:d.textColor,onChange:f=>N(f.target.value),children:Ar.map(f=>n.jsx("option",{value:f.value,children:f.name},f.name))})]})]}),n.jsxs("div",{className:"sticky-note-content",onClick:f=>f.stopPropagation(),children:[d.mode==="notes"&&n.jsx("textarea",{className:"sticky-note-textarea",value:d.content,onChange:f=>W(f.target.value),placeholder:`Write your note here... (Press ${o} to toggle)`,style:{fontSize:`${d.fontSize}px`,fontFamily:d.fontFamily,color:d.textColor}}),d.mode==="todos"&&n.jsxs("div",{className:"todo-list",style:{fontFamily:d.fontFamily},children:[n.jsxs("div",{className:"todo-input-row",children:[n.jsx("input",{type:"text",className:"todo-input",value:z,onChange:f=>I(f.target.value),onKeyDown:f=>f.key==="Enter"&&T(),placeholder:"Add a task...",style:{fontSize:`${d.fontSize}px`,color:d.textColor}}),n.jsx("button",{className:"todo-add-btn",onClick:T,children:n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),n.jsxs("div",{className:"todo-items",children:[d.todos.map(f=>n.jsxs("div",{className:"todo-item-wrapper",children:[n.jsxs("div",{className:`todo-item ${f.completed?"completed":""}`,children:[n.jsx("button",{className:"todo-checkbox",onClick:()=>E(f.id),children:f.completed?n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"20 6 9 17 4 12"})}):n.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"})})}),n.jsxs("div",{className:"todo-content",children:[n.jsx("span",{className:"todo-text",style:{fontSize:`${d.fontSize}px`,color:d.textColor},children:f.text}),f.subheading&&n.jsx("span",{className:"todo-subheading",style:{fontSize:`${Math.max(10,d.fontSize-2)}px`,color:d.textColor},children:f.subheading})]}),n.jsx("button",{className:`todo-expand-btn ${Z===f.id?"expanded":""}`,onClick:()=>ne(Z===f.id?null:f.id),title:"Add subtasks",children:n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:Z===f.id?"18 15 12 9 6 15":"6 9 12 15 18 9"})})}),n.jsx("button",{className:"todo-delete-btn",onClick:()=>k(f.id),children:n.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),Z===f.id&&n.jsxs("div",{className:"subtasks-section",children:[n.jsxs("div",{className:"subtask-input-row",children:[n.jsx("input",{type:"text",className:"subtask-input",value:J,onChange:B=>q(B.target.value),onKeyDown:B=>B.key==="Enter"&&Y(f.id),placeholder:"Add subtask...",style:{fontSize:`${Math.max(10,d.fontSize-2)}px`,color:d.textColor}}),n.jsx("button",{className:"subtask-add-btn",onClick:()=>Y(f.id),children:n.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),(f.subtasks||[]).map(B=>n.jsxs("div",{className:`subtask-item ${B.completed?"completed":""}`,children:[n.jsx("button",{className:"subtask-checkbox",onClick:()=>ee(f.id,B.id),children:B.completed?n.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("polyline",{points:"20 6 9 17 4 12"})}):n.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("circle",{cx:"12",cy:"12",r:"9"})})}),n.jsx("span",{className:"subtask-text",style:{fontSize:`${Math.max(10,d.fontSize-2)}px`,color:d.textColor},children:B.text}),n.jsx("button",{className:"subtask-delete-btn",onClick:()=>te(f.id,B.id),children:n.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},B.id))]})]},f.id)),d.todos.length===0&&n.jsx("div",{className:"todo-empty",style:{color:d.textColor},children:"No tasks yet. Add one above!"})]}),n.jsxs("div",{className:"todo-stats",style:{color:d.textColor},children:[d.todos.filter(f=>f.completed).length,"/",d.todos.length," completed"]})]}),d.mode==="pomodoro"&&n.jsxs("div",{className:"pomodoro",style:{fontFamily:d.fontFamily},children:[n.jsxs("div",{className:"pomodoro-mode-btns",children:[n.jsx("button",{className:`pomodoro-mode-btn ${d.pomodoro.mode==="work"?"active":""}`,onClick:()=>p("work"),children:"Work"}),n.jsx("button",{className:`pomodoro-mode-btn ${d.pomodoro.mode==="shortBreak"?"active":""}`,onClick:()=>p("shortBreak"),children:"Short"}),n.jsx("button",{className:`pomodoro-mode-btn ${d.pomodoro.mode==="longBreak"?"active":""}`,onClick:()=>p("longBreak"),children:"Long"}),n.jsx("button",{className:`pomodoro-mode-btn custom ${d.pomodoro.mode==="custom"?"active":""}`,onClick:()=>p("custom"),children:"Custom"})]}),n.jsx("div",{className:`pomodoro-timer ${d.pomodoro.isRunning?"running":""}`,style:{color:d.textColor},children:K(d.pomodoro.timeLeft)}),n.jsxs("div",{className:"pomodoro-controls",children:[n.jsx("button",{className:`pomodoro-btn ${d.pomodoro.isRunning?"pause":"start"}`,onClick:b,children:d.pomodoro.isRunning?n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),n.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}):n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),n.jsx("button",{className:"pomodoro-btn reset",onClick:l,children:n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),n.jsx("path",{d:"M3 3v5h5"})]})})]}),n.jsx("div",{className:"pomodoro-stats",style:{color:d.textColor},children:n.jsxs("span",{className:"pomodoro-sessions",children:["🍅 ",d.pomodoro.sessionsCompleted," sessions"]})}),n.jsx("div",{className:"pomodoro-settings",children:n.jsxs("div",{className:"pomodoro-setting-row custom-setting",children:[n.jsx("label",{style:{color:d.textColor},children:"Custom"}),n.jsx("input",{type:"number",min:"1",max:"120",value:d.pomodoro.customDuration||45,onChange:f=>S("custom",parseInt(f.target.value)||45),disabled:d.pomodoro.isRunning}),n.jsx("span",{style:{color:d.textColor,opacity:.6},children:"min"})]})})]})]}),n.jsx("div",{className:"sticky-note-resize",onMouseDown:Q,children:n.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M22 22L12 22L22 12L22 22Z"}),n.jsx("path",{d:"M22 22L18 22L22 18L22 22Z",opacity:"0.5"})]})})]})]})},Eu=({title:e})=>n.jsx("span",{className:"rss-error-indicator",role:"img","aria-label":"Warning",title:e,dangerouslySetInnerHTML:{__html:Co.warning}}),Lu=[],Du=(e,t)=>{const r=e.querySelector('enclosure[type^="image"]');if(r){const c=r.getAttribute("url");return c?c.replace(/^http:/,"https:"):void 0}const o=e.getElementsByTagNameNS("http://search.yahoo.com/mrss/","content")[0];if(o){const c=o.getAttribute("url");return c?c.replace(/^http:/,"https:"):void 0}const s=e.getElementsByTagNameNS("http://search.yahoo.com/mrss/","thumbnail")[0];if(s){const c=s.getAttribute("url");return c?c.replace(/^http:/,"https:"):void 0}const i=/<img[^>]+src="([^">]+)"/.exec(t);if(i)return i[1].replace(/^http:/,"https:")},Mu=(e,t,r)=>{const o=new DOMParser().parseFromString(e,"text/xml"),s=o.querySelector("parsererror");if(s)throw new Error(`Invalid RSS XML from ${t}: ${s.textContent?.slice(0,100)}`);const a=Array.from(o.querySelectorAll("item, entry")),i=(()=>{try{return new URL(t).hostname.replace(/^www\./,"")}catch{return"feed"}})();return a.map(c=>{const m=c.querySelector("title")?.textContent?.trim()||"Untitled",h=c.querySelector("link")?.getAttribute("href")||c.querySelector("link")?.textContent||t,x=c.querySelector("pubDate")?.textContent||c.querySelector("updated")?.textContent||c.querySelector("dc:date")?.textContent||"",j=x?new Date(x).toISOString():new Date().toISOString(),z=c.querySelector("description")?.textContent||c.querySelector("summary")?.textContent||"",I=Du(c,z);return{title:m,link:h,pubDate:j,source:i,description:z,imageUrl:I,category:r}})},Ru=({locale:e="en-US",settings:t,onStatsUpdate:r})=>{const o=Wt(e),s=y.useMemo(()=>{const g=t?.feeds?.filter(Boolean)||[];if(g.length===0)return C.info("RSS","No custom feeds configured, using defaults"),Lu;const d=g.map(O=>typeof O=="string"?{url:O,category:"General"}:O),W=new Set,H=d.filter(O=>W.has(O.url)?(C.warning("RSS",`Duplicate feed removed: ${O.url}`),!1):(W.add(O.url),!0));return C.info("RSS",`Configured feeds: ${H.length} (removed ${d.length-H.length} duplicates)`),H},[t?.feeds]),a=t?.maxItems??150,i=t?.refreshMinutes??15,[c,m]=y.useState([]),[h,x]=y.useState(!1),[j,z]=y.useState(o.rss.categoryAll),[I,L]=y.useState(!1),[oe,Z]=y.useState(""),ne=y.useMemo(()=>{const g=new Set(s.map(d=>d.category));return[o.rss.categoryAll,...Array.from(g).sort()]},[s,o.rss.categoryAll]);y.useEffect(()=>{z(g=>g===o.rss.categoryAll||ne.includes(g)?g:o.rss.categoryAll)},[ne,o.rss.categoryAll]);const J=y.useCallback(async g=>{const d=typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id&&typeof chrome.runtime.sendMessage=="function",W=async H=>{const O=new AbortController,w=setTimeout(()=>O.abort(),15e3),N=async F=>{const T=await fetch(F,{signal:O.signal,headers:{Accept:"application/rss+xml, application/xml, text/xml, */*"}});if(!T.ok)throw new Error(`HTTP ${T.status}`);const E=await T.text();if(!E.trim().startsWith("<"))throw new Error("Invalid RSS format");return E};try{const F=await N(H);return clearTimeout(w),F}catch(F){const T=F;if(T.message==="Failed to fetch"||T.name==="TypeError"){C.debug("RSS",`Direct fetch failed, trying CORS proxy for ${H}...`);try{const E=`https://api.allorigins.win/raw?url=${encodeURIComponent(H)}`,k=await N(E);return clearTimeout(w),C.success("RSS",`Fetched ${H} via proxy`),k}catch(E){throw clearTimeout(w),E}}throw clearTimeout(w),T}};return d?(C.info("RSS",`Using background worker for ${g}`),new Promise((H,O)=>{chrome.runtime.sendMessage({type:"FETCH_RSS",url:g},w=>{if(chrome.runtime.lastError){C.warning("RSS",`Background worker unavailable, using fallback for ${g}`),W(g).then(H).catch(O);return}w&&w.success&&w.data?(C.success("RSS",`Fetched ${g} via background worker`),H(w.data)):(C.warning("RSS",`Background worker failed, using fallback for ${g}`),W(g).then(H).catch(O))})})):(C.warning("RSS",`Not in extension context, using direct fetch for ${g}`),W(g))},[]),q=y.useCallback(async()=>{if(s.length===0){C.info("RSS","No feeds configured"),m([]),x(!1);return}C.time("RSS refresh"),C.widget("RSS",`Refreshing ${s.length} feeds...`),c.length===0&&x(!0);const g=[];let d=0,W=0,H=0;const O=[];await Promise.all(s.map(async T=>{try{const E=await J(T.url),k=Mu(E,T.url,T.category);k.length===0?(W+=1,C.warning("RSS",`Feed ${T.url} returned 0 items`)):(H+=1,C.success("RSS",`Parsed ${k.length} items from ${T.url} (category: ${T.category})`),g.push(...k))}catch(E){d+=1,O.push(T.url),C.error("RSS",`Failed to fetch ${T.url}`,E)}})),g.sort((T,E)=>new Date(E.pubDate).getTime()-new Date(T.pubDate).getTime());let w=[];if(g.length<=a)w=g;else{const T={};g.forEach(ee=>{T[ee.category]||(T[ee.category]=[]),T[ee.category].push(ee)});const E=Object.keys(T),k=Math.floor(a/E.length),Y=a%E.length;E.forEach((ee,te)=>{const b=T[ee],l=k+(te<Y?1:0);w.push(...b.slice(0,l))}),w.sort((ee,te)=>new Date(te.pubDate).getTime()-new Date(ee.pubDate).getTime())}const N={};g.forEach(T=>{N[T.category]=(N[T.category]||0)+1}),C.debug("RSS",`Total items before slicing: ${g.length}, after: ${w.length}`),C.debug("RSS","Category distribution:",N),m(w),L(d>0);const F={feeds:s.length,items:w.length,success:H,error:d,empty:W,lastUpdated:new Date().toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"}),failedFeeds:O.length>0?O:void 0};Z(new Date().toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"})),C.groupCollapsed("RSS Refresh Summary",()=>{C.table("RSS",F),O.length>0&&C.error("RSS","Failed feeds:",O)}),r?.(F),C.timeEnd("RSS refresh"),x(!1)},[s,J,a,e,r]);y.useEffect(()=>{q();const g=setInterval(q,i*60*1e3);return()=>clearInterval(g)},[q,i]);const M=y.useMemo(()=>{if(j===o.rss.categoryAll)return C.debug("RSS",`Showing all ${c.length} items`),c;const g=c.filter(d=>d.category===j);return C.debug("RSS",`Category '${j}': ${g.length} items`),g},[c,j,o.rss.categoryAll]);return h&&c.length===0?n.jsxs("div",{className:"rss-widget",children:[n.jsx("div",{className:"widget-header",children:n.jsxs("div",{className:"widget-title",children:[n.jsxs("svg",{className:"widget-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4 11a9 9 0 0 1 9 9"}),n.jsx("path",{d:"M4 4a16 16 0 0 1 16 16"}),n.jsx("circle",{cx:"5",cy:"19",r:"1"})]}),n.jsx("span",{children:o.rss.title})]})}),n.jsx("div",{className:"widget-loading",children:n.jsx("div",{className:"loading-bar",children:n.jsx("div",{className:"loading-bar-fill"})})})]}):n.jsxs("div",{className:"rss-widget",children:[n.jsxs("div",{className:"widget-header",children:[n.jsxs("div",{className:"widget-title",children:[n.jsxs("svg",{className:"widget-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4 11a9 9 0 0 1 9 9"}),n.jsx("path",{d:"M4 4a16 16 0 0 1 16 16"}),n.jsx("circle",{cx:"5",cy:"19",r:"1"})]}),n.jsx("span",{children:o.rss.title}),I&&n.jsx(Eu,{title:o.rss.errorTooltip})]}),oe&&n.jsx("span",{className:"rss-last-updated",children:oe})]}),n.jsxs("div",{className:"rss-header",children:[n.jsx("div",{className:"rss-categories",children:ne.map(g=>n.jsx("button",{className:`rss-category-btn ${j===g?"active":""}`,onClick:()=>z(g),children:g},g))}),n.jsx("button",{className:`rss-refresh ${I?"rss-refresh-error":""}`,onClick:q,"aria-label":"Refresh News",title:I?"Refresh (some feeds failed)":"Refresh",children:"↻"})]}),M.length===0&&!h&&n.jsx("div",{className:"rss-empty",children:j===o.rss.categoryAll?`${o.rss.noItems} Total items loaded: ${c.length}`:`${o.rss.noItemsCategory} "${j}". Try selecting "${o.rss.categoryAll}" or another category.`}),n.jsx("div",{className:"rss-list",children:M.map((g,d)=>n.jsxs("a",{className:"rss-item",href:g.link,target:"_blank",rel:"noreferrer",children:[n.jsxs("div",{className:"rss-item-image",children:[g.imageUrl?n.jsx("img",{src:g.imageUrl,alt:g.title,onError:W=>{W.currentTarget.style.display="none",W.currentTarget.nextElementSibling?.removeAttribute("style")}}):null,n.jsx("div",{className:"rss-fallback-icon",style:{display:g.imageUrl?"none":"flex"},children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:n.jsx("path",{d:"M19 20H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1m2 13a2 2 0 0 1-2-2V7m2 13a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})})]}),n.jsxs("div",{className:"rss-item-content",children:[n.jsx("div",{className:"rss-item-title",children:g.title}),n.jsxs("div",{className:"rss-item-meta",children:[n.jsx("span",{className:"rss-source",children:g.source}),n.jsx("span",{className:"rss-sep",children:"•"}),n.jsx("span",{className:"rss-date",children:new Date(g.pubDate).toLocaleString(e,{hour:"2-digit",minute:"2-digit"})})]})]})]},`${g.link}-${d}`))})]})},Er=e=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(e.startsWith("http")?e:`https://${e}`).hostname}&sz=64`}catch{return""}},$u=({settings:e,onClose:t,onSettingsChange:r})=>{const[o,s]=y.useState(!1),[a,i]=y.useState(!1),[c,m]=y.useState(""),[h,x]=y.useState(""),[j,z]=y.useState(""),[I,L]=y.useState(!1),[oe,Z]=y.useState(null),[ne,J]=y.useState(null),[q,M]=y.useState(!1),[g,d]=y.useState(null),W=()=>{if(!c.trim()||!h.trim())return;let b=h.trim();!b.startsWith("http://")&&!b.startsWith("https://")&&(b="https://"+b);try{new URL(b)}catch{alert("Invalid URL format. Please enter a valid URL.");return}const l={id:Date.now().toString(),title:c.trim(),url:b};r({...e,rootLinks:[...e.rootLinks,l]}),m(""),x(""),i(!1)},H=(b,l)=>{if(l){const p=e.folders.map(S=>S.id===l?{...S,links:S.links.filter(D=>D.id!==b)}:S);r({...e,folders:p})}else r({...e,rootLinks:e.rootLinks.filter(p=>p.id!==b)})},O=()=>{L(!0)},w=()=>{if(!j.trim())return;const b={id:Date.now().toString(),name:j.trim(),links:[],expanded:!0};r({...e,folders:[...e.folders,b]}),z(""),L(!1)},N=b=>{const l=e.folders.find(S=>S.id===b);if(!l)return;const p=l.links.map(S=>({...S,folderId:void 0}));r({...e,rootLinks:[...e.rootLinks,...p],folders:e.folders.filter(S=>S.id!==b)})},F=b=>{const l=e.folders.map(p=>p.id===b?{...p,expanded:!p.expanded}:p);r({...e,folders:l})},T=(b,l,p)=>{Z({id:l,sourceFolderId:p}),b.dataTransfer.effectAllowed="move"},E=(b,l)=>{b.preventDefault(),b.dataTransfer.dropEffect="move",l?(J(l),M(!1)):(J(null),M(!0))},k=(b,l)=>{b.preventDefault(),b.stopPropagation(),d(l)},Y=()=>{J(null),M(!1),d(null)},ee=(b,l,p)=>{if(b.preventDefault(),b.stopPropagation(),J(null),M(!1),d(null),!oe)return;const{id:S,sourceFolderId:D}=oe;if(S===p)return;let Q,P=[...e.rootLinks],G=[...e.folders];if(D){const K=G.findIndex(f=>f.id===D);K>-1&&(Q=G[K].links.find(f=>f.id===S),Q&&(G[K]={...G[K],links:G[K].links.filter(f=>f.id!==S)}))}else Q=P.find(K=>K.id===S),Q&&(P=P.filter(K=>K.id!==S));if(!Q)return;const ae={...Q,folderId:l};if(l){const K=G.findIndex(f=>f.id===l);if(K>-1){let f=[...G[K].links];if(p){const B=f.findIndex(V=>V.id===p);B>-1?f.splice(B,0,ae):f.push(ae)}else f.push(ae);G[K]={...G[K],links:f}}}else if(p){const K=P.findIndex(f=>f.id===p);K>-1?P.splice(K,0,ae):P.push(ae)}else P.push(ae);r({...e,rootLinks:P,folders:G}),Z(null)},te=b=>{const l=()=>{window.open(b,"_blank","noopener,noreferrer")&&t()};if(e.openInIncognito){if(typeof chrome<"u"&&chrome?.windows?.create)try{chrome.windows.create({url:b,incognito:!0},()=>{t()});return}catch(p){console.error("Failed to open incognito window (Chrome):",p)}if(typeof browser<"u"&&browser?.windows?.create)try{browser.windows.create({url:b,incognito:!0}).then(()=>{t()}).catch(p=>{console.error("Failed to open incognito window (Firefox):",p),l()});return}catch(p){console.error("Firefox API error:",p),l()}}l()};return n.jsxs("div",{className:"secret-overlay",onClick:t,children:[n.jsxs("div",{className:"secret-popup",onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"secret-header",children:[n.jsxs("div",{className:"header-title",children:[n.jsx("div",{className:"icon-wrapper",children:n.jsxs("svg",{className:"lock-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),n.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),n.jsx("h2",{children:"Secret Links"})]}),n.jsxs("div",{className:"header-btns",children:[n.jsx("button",{onClick:()=>O(),className:"header-btn",title:"Create Folder",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),n.jsx("line",{x1:"12",y1:"11",x2:"12",y2:"17"}),n.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]})}),n.jsx("button",{onClick:()=>i(!0),className:"header-btn",title:"Add Link",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),n.jsx("button",{onClick:()=>s(!o),className:"header-btn",title:"Settings",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),n.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),n.jsx("button",{onClick:t,className:"header-btn",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),o?n.jsx("div",{className:"secret-content",children:n.jsxs("div",{className:"settings-list",children:[n.jsxs("div",{className:"setting-row",children:[n.jsxs("div",{className:"setting-icon-label",children:[n.jsx("div",{className:"setting-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),n.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})}),n.jsxs("div",{className:"setting-text",children:[n.jsx("span",{children:"Open in Incognito"}),n.jsx("small",{children:"Open links in a private window"})]})]}),n.jsxs("label",{className:"toggle",children:[n.jsx("input",{type:"checkbox",checked:e.openInIncognito,onChange:b=>r({...e,openInIncognito:b.target.checked})}),n.jsx("span",{className:"slider"})]})]}),n.jsxs("div",{className:"setting-row",children:[n.jsxs("div",{className:"setting-icon-label",children:[n.jsx("div",{className:"setting-icon",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})})}),n.jsxs("div",{className:"setting-text",children:[n.jsx("span",{children:"Trigger Keyword"}),n.jsx("small",{children:"Type this to unlock (default: pass)"})]})]}),n.jsx("input",{type:"text",value:e.triggerKeyword,onChange:b=>r({...e,triggerKeyword:b.target.value}),className:"input",style:{maxWidth:"120px",textAlign:"center"}})]}),n.jsxs("div",{className:"stats-container",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("span",{className:"stat-value",children:e.rootLinks.length+e.folders.reduce((b,l)=>b+l.links.length,0)}),n.jsx("span",{className:"stat-label",children:"Total Links"})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("span",{className:"stat-value",children:e.folders?.length||0}),n.jsx("span",{className:"stat-label",children:"Folders"})]})]})]})}):n.jsxs("div",{className:"secret-content",children:[e.folders.map(b=>n.jsxs("div",{className:`folder-container ${ne===b.id?"drag-over":""}`,onDragOver:l=>E(l,b.id),onDragLeave:Y,onDrop:l=>ee(l,b.id),children:[n.jsxs("div",{className:"folder-header",onClick:()=>F(b.id),children:[n.jsxs("div",{className:"folder-title-section",children:[n.jsx("svg",{className:`folder-chevron ${b.expanded?"expanded":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M9 18l6-6-6-6"})}),n.jsx("svg",{className:"folder-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),n.jsx("span",{className:"folder-name",children:b.name}),n.jsx("span",{className:"folder-count",children:b.links.length})]}),n.jsx("button",{onClick:l=>{l.stopPropagation(),N(b.id)},className:"folder-delete-btn",title:"Delete Folder",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),b.expanded&&n.jsx("div",{className:"folder-content-area",children:b.links.length===0?n.jsx("div",{className:"empty-folder-message",children:"Drop links here"}):n.jsx("div",{className:"links-grid",children:b.links.map(l=>n.jsxs("div",{className:`link-card ${g===l.id?"drag-target":""}`,draggable:!0,onDragStart:p=>T(p,l.id,b.id),onDragOver:p=>k(p,l.id),onDrop:p=>ee(p,b.id,l.id),children:[n.jsxs("button",{onClick:()=>te(l.url),className:"link-button",children:[n.jsx("div",{className:"link-icon-wrapper",children:n.jsx("img",{src:Er(l.url),alt:"",className:"link-icon",onError:p=>p.currentTarget.style.display="none"})}),n.jsx("span",{className:"link-title",children:l.title})]}),n.jsx("button",{onClick:()=>H(l.id,b.id),className:"delete-btn",children:"×"})]},l.id))})})]},b.id)),n.jsxs("div",{className:`root-links-area ${q?"drag-over":""}`,onDragOver:b=>E(b),onDragLeave:Y,onDrop:b=>ee(b),children:[n.jsxs("div",{className:"root-area-header",children:[n.jsx("h3",{children:"Uncategorized Links"}),n.jsx("div",{className:"divider"})]}),n.jsx("div",{className:"links-grid",children:e.rootLinks.map(b=>n.jsxs("div",{className:`link-card ${g===b.id?"drag-target":""}`,draggable:!0,onDragStart:l=>T(l,b.id),onDragOver:l=>k(l,b.id),onDrop:l=>ee(l,void 0,b.id),children:[n.jsxs("button",{onClick:()=>te(b.url),className:"link-button",children:[n.jsx("div",{className:"link-icon-wrapper",children:n.jsx("img",{src:Er(b.url),alt:"",className:"link-icon",onError:l=>l.currentTarget.style.display="none"})}),n.jsx("span",{className:"link-title",children:b.title})]}),n.jsx("button",{onClick:()=>H(b.id),className:"delete-btn",children:"×"})]},b.id))}),e.rootLinks.length===0&&n.jsx("div",{className:"empty-root-message",children:"Drag links here to move them out of folders"})]})]})]}),I&&n.jsx("div",{className:"add-popup-overlay",onClick:()=>L(!1),children:n.jsxs("div",{className:"add-popup",onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"add-popup-header",children:[n.jsx("h3",{children:"New Folder"}),n.jsx("button",{onClick:()=>L(!1),className:"close-popup-btn",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),n.jsx("div",{className:"add-popup-content",children:n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Folder Name"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"input-icon",children:n.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),n.jsx("input",{type:"text",placeholder:"e.g. Work Stuff",value:j,onChange:b=>z(b.target.value),onKeyDown:b=>b.key==="Enter"&&w(),className:"styled-input",autoFocus:!0})]})]})}),n.jsxs("div",{className:"add-popup-footer",children:[n.jsx("button",{onClick:()=>L(!1),className:"cancel-btn",children:"Cancel"}),n.jsx("button",{onClick:w,className:"add-btn primary",disabled:!j.trim(),children:"Create Folder"})]})]})}),a&&n.jsx("div",{className:"add-popup-overlay",onClick:()=>i(!1),children:n.jsxs("div",{className:"add-popup",onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"add-popup-header",children:[n.jsx("h3",{children:"Add New Link"}),n.jsx("button",{onClick:()=>i(!1),className:"close-popup-btn",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),n.jsxs("div",{className:"add-popup-content",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Title"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"input-icon",children:[n.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),n.jsx("input",{type:"text",placeholder:"e.g. ChatGPT",value:c,onChange:b=>m(b.target.value),onKeyDown:b=>b.key==="Enter"&&W(),className:"styled-input",autoFocus:!0})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"URL"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"input-icon",children:[n.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),n.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),n.jsx("input",{type:"text",placeholder:"e.g. chat.openai.com",value:h,onChange:b=>x(b.target.value),onKeyDown:b=>b.key==="Enter"&&W(),className:"styled-input"})]})]})]}),n.jsxs("div",{className:"add-popup-footer",children:[n.jsx("button",{onClick:()=>i(!1),className:"cancel-btn",children:"Cancel"}),n.jsx("button",{onClick:W,className:"add-btn primary",disabled:!c.trim()||!h.trim(),children:"Add Link"})]})]})})]})},Ou=[{name:"Google Settings",url:"https://www.google.com/settings",icon:Ee.gsettings,colorClass:"google-icon"},{name:"Gmail",url:"https://mail.google.com",icon:Ee.gmail,colorClass:"gmail-icon"},{name:"Drive",url:"https://drive.google.com",icon:Ee.drive,colorClass:"drive-icon"},{name:"Calendar",url:"https://calendar.google.com",icon:Ee.calendar,colorClass:"calendar-icon"},{name:"Maps",url:"https://maps.google.com",icon:Ee.maps,colorClass:"maps-icon"},{name:"Photos",url:"https://photos.google.com",icon:Ee.photos,colorClass:"photos-icon"},{name:"Meet",url:"https://meet.google.com",icon:Ee.meet,colorClass:"calendar-icon"},{name:"Translate",url:"https://translate.google.com",icon:Ee.translate,colorClass:"drive-icon"},{name:"Quick Paint",url:"https://excalidraw.com/",icon:Ee.paint,colorClass:"drive-icon"}],Pu=({showGmail:e=!0,showAppsMenu:t=!0})=>{const[r,o]=y.useState(!1),s=y.useRef(null);return y.useEffect(()=>{const a=i=>{s.current&&!s.current.contains(i.target)&&o(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),n.jsxs("div",{className:"google-shortcuts",children:[e&&n.jsx("a",{href:"https://mail.google.com",target:"_blank",rel:"noopener noreferrer",className:"google-shortcut-btn",title:"Gmail",children:n.jsx("div",{style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:"currentColor"},dangerouslySetInnerHTML:{__html:Ee.gmail}})}),t&&n.jsxs("div",{className:"google-apps-menu",ref:s,children:[n.jsx("button",{className:"google-shortcut-btn",onClick:()=>o(!r),title:"Google Apps",children:n.jsx("div",{style:{width:"24px",height:"24px",color:"currentColor"},dangerouslySetInnerHTML:{__html:Ee.grid}})}),n.jsx("div",{className:`google-apps-dropdown ${r?"open":""}`,children:n.jsx("div",{className:"google-apps-grid",children:Ou.map(a=>n.jsxs("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"google-app-item",onClick:()=>o(!1),children:[n.jsx("div",{className:`google-app-icon ${a.colorClass}`,dangerouslySetInnerHTML:{__html:a.icon}}),n.jsx("span",{className:"google-app-name",children:a.name})]},a.name))})})]})]})},Fu="https://buymeacoffee.com/enesehs",Bu="https://github.com/enesehs/Hotpage",Uu=({isOpen:e,locale:t,onSkip:r,onSupport:o,onOpenSource:s})=>{if(!e)return null;const i=((t??(typeof navigator<"u"?navigator.language||(Array.isArray(navigator.languages)?navigator.languages[0]:""):""))||"").toLowerCase().startsWith("tr"),c=i?"HotPage’e Hoş Geldin":"Welcome to HotPage",m=i?["HotPage, tarayıcını açtığında karşına çıkan modern ve kişisel bir başlangıç sayfasıdır. Hızlı arama yapabilir, sık kullandığın bağlantıları kaydedebilir, hava durumunu görebilir, döviz ve kripto kurlarını takip edebilir, RSS akışlarını okuyabilir ve Pomodoro zamanlayıcısıyla odaklanabilirsin.","Tüm görünümü dilediğin gibi şekillendirebilirsin. Arka planı, temayı, arama motorunu ve widget düzenini tamamen kendi tarzına göre ayarlaman yeterli. HotPage, yeni bir sekme açtığında seni gerçekten “senin sayfan” gibi hissettiren sade ama güçlü bir alan oluşturur.","Ayrıca HotPage tamamen açık kaynak. Projeye GitHub üzerinden katkıda bulunabilir, geliştirmelere katılabilir veya yeni özellikler eklenmesine yardımcı olabilirsin."]:["HotPage is a modern, personal start page that welcomes you every time you open your browser. You can search instantly, save your favorite shortcuts, check the weather, track currency and crypto prices, follow RSS feeds, and stay focused with a built-in Sticky Notes, Todo List and Pomodoro timer.","Everything about the page is customizable. Change the background, theme, search engine, and widget layout to match your own style. HotPage gives each new tab a clean, simple space that feels personal and genuinely yours.","HotPage is also completely open-source. You’re welcome to contribute on GitHub, help improve the project, or build new features together with the community."],h=()=>{o?o():window.open(Fu,"_blank","noopener,noreferrer")},x=()=>{s?s():window.open(Bu,"_blank","noopener,noreferrer")},j=z=>typeof chrome<"u"&&chrome.runtime?.getURL?chrome.runtime.getURL(z):z;return n.jsx("div",{className:"intro-overlay",children:n.jsxs("div",{className:"intro-card",children:[n.jsx("div",{className:"intro-media",children:n.jsx("div",{className:"intro-video-frame",children:n.jsx("video",{src:j("/video/introduction.webm"),className:"intro-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0})})}),n.jsxs("div",{className:"intro-content",children:[n.jsxs("div",{className:"intro-header",children:[n.jsx("div",{className:"intro-accent"}),n.jsx("h2",{children:c})]}),n.jsx("div",{className:"intro-body",children:m.map((z,I)=>n.jsx("p",{children:z},I))}),n.jsxs("div",{className:"intro-actions",children:[n.jsxs("button",{className:"intro-btn support",onClick:h,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",children:n.jsx("path",{fill:"currentColor",d:"M9.197 0L7.578 3.735H5.171v3.359h.921l.943 5.975H5.562L7.51 24.042l1.249-.015L10.015 32h11.891l.083-.531l1.172-7.443l1.188.015l1.943-10.973h-1.407l.937-5.975h1.011V3.734h-2.557L22.651-.001zm.704 1.073h12.057l1.025 2.375H8.868zm-3.666 3.73H25.76v1.228H6.235zm.604 9.333h18.183l-1.568 8.823l-7.536-.079l-7.511.079z"})}),n.jsx("span",{children:i?"Destekle":"Support"})]}),n.jsxs("button",{className:"intro-btn github",onClick:x,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",children:n.jsxs("g",{fill:"none",children:[n.jsx("g",{"clip-path":"url(#SVGXv8lpc2Y)",children:n.jsx("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385c.6.105.825-.255.825-.57c0-.285-.015-1.23-.015-2.235c-3.015.555-3.795-.735-4.035-1.41c-.135-.345-.72-1.41-1.23-1.695c-.42-.225-1.02-.78-.015-.795c.945-.015 1.62.87 1.845 1.23c1.08 1.815 2.805 1.305 3.495.99c.105-.78.42-1.305.765-1.605c-2.67-.3-5.46-1.335-5.46-5.925c0-1.305.465-2.385 1.23-3.225c-.12-.3-.54-1.53.12-3.18c0 0 1.005-.315 3.3 1.23c.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23c.66 1.65.24 2.88.12 3.18c.765.84 1.23 1.905 1.23 3.225c0 4.605-2.805 5.625-5.475 5.925c.435.375.81 1.095.81 2.22c0 1.605-.015 2.895-.015 3.3c0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12","clip-rule":"evenodd"})}),n.jsx("defs",{children:n.jsx("clipPath",{id:"SVGXv8lpc2Y",children:n.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]})}),n.jsx("span",{children:i?"Açık Kaynak":"Open Source"})]}),n.jsx("button",{className:"intro-btn ghost",onClick:r,children:i?"Geç":"Skip"})]})]})]})})};function Wu(){const[e,t]=y.useState(()=>{const w=yu();return C.info("App","Settings loaded from localStorage"),w}),[r,o]=y.useState(!1),[s,a]=y.useState(!1),[i,c]=y.useState(!1),[m,h]=y.useState(!1),[x,j]=y.useState(null),[z,I]=y.useState(!1),[L,oe]=y.useState(void 0),Z=y.useRef(!1),ne=y.useRef(!0),J=y.useRef(void 0);y.useEffect(()=>{(async()=>{if(Z.current)return;Z.current=!0;const N=e.background.imageIds||[];if(e.background.randomMode&&N.length>0){C.info("Background",`Random mode enabled, selecting from ${N.length} images`);const F=localStorage.getItem("hotpage_lastShownImageId");let T=N.filter(Y=>Y!==F);T.length===0&&(T=N);const E=T[Math.floor(Math.random()*T.length)];C.debug("Background",`Selected random image: ${E}`);const k=await Be.getImage(E);k&&(localStorage.setItem("hotpage_lastShownImageId",E),j(k),t(Y=>({...Y,background:{...Y.background,type:"image",value:k,currentImageId:E}})),C.success("Background","Random background applied")),setTimeout(()=>{ne.current=!1},100);return}if(e.background.type==="image"&&e.background.currentImageId){C.debug("Background",`Loading saved image: ${e.background.currentImageId}`);const F=await Be.getImage(e.background.currentImageId);F&&(j(F),C.success("Background","Saved background loaded"))}setTimeout(()=>{ne.current=!1},100)})()},[]),y.useEffect(()=>{if(ne.current)return;(async()=>{if(e.background.type==="image"&&e.background.currentImageId){const N=await Be.getImage(e.background.currentImageId);N&&N!==x&&j(N)}else e.background.type!=="image"&&j(null)})()},[e.background.currentImageId,e.background.type]),y.useEffect(()=>{const w=mn(e.theme,e.customThemeColors);hn(w),I(!0)},[e.theme,e.customThemeColors]),y.useEffect(()=>(J.current&&clearTimeout(J.current),J.current=window.setTimeout(()=>{C.debug("Storage","Saving settings to localStorage (debounced)"),vu(e),C.success("Storage","Settings saved successfully")},100),()=>{J.current&&clearTimeout(J.current)}),[e]),y.useEffect(()=>{if(typeof chrome>"u"||!chrome.storage?.onChanged)return;chrome.storage.local.get(["hotpage-paused"],N=>{o(!!N["hotpage-paused"])});const w=(N,F)=>{if(F!=="local")return;N["hotpage-paused"]&&o(!!N["hotpage-paused"].newValue);const T="hotpage-settings";if(N[T]?.newValue){const E=N[T].newValue;E.stickyNote&&(C.debug("App","Syncing stickyNote from chrome.storage"),t(k=>({...k,stickyNote:E.stickyNote})))}};return chrome.storage.onChanged.addListener(w),()=>chrome.storage.onChanged.removeListener(w)},[]),y.useEffect(()=>{if(typeof chrome>"u"||!chrome.runtime?.onMessage)return;const w=N=>{N.type==="TOGGLE_STICKY"&&(C.info("App","Toggle Sticky Notes command received"),c(F=>!F))};return chrome.runtime.onMessage.addListener(w),()=>chrome.runtime.onMessage.removeListener(w)},[]),y.useEffect(()=>{const w=N=>{if(N.target instanceof HTMLInputElement||N.target instanceof HTMLTextAreaElement)return;const T=(e.quickActions?.stickyNoteShortcut||"Alt+N").split("+").map(l=>l.trim().toLowerCase()),E=T[T.length-1],k=T.includes("shift"),Y=T.includes("ctrl")||T.includes("control"),ee=T.includes("alt"),te=N.key.toLowerCase()===E,b=N.shiftKey===k&&N.ctrlKey===Y&&N.altKey===ee;te&&b&&(N.preventDefault(),c(l=>!l)),N.key==="Escape"&&(i&&c(!1),m&&h(!1))};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[i,m,e.quickActions?.stickyNoteShortcut]),y.useEffect(()=>{if(!e.secretLinks?.enabled)return;let w="",N;const F=T=>{if(T.target instanceof HTMLInputElement||T.target instanceof HTMLTextAreaElement||s||i)return;w+=T.key.toLowerCase(),clearTimeout(N),N=window.setTimeout(()=>{w=""},2e3);const E=e.secretLinks?.triggerKeyword?.toLowerCase()??"";E&&(w.includes(E)&&(h(!0),w=""),w.length>20&&(w=w.slice(-20)))};return document.addEventListener("keypress",F),()=>{document.removeEventListener("keypress",F),clearTimeout(N)}},[e.secretLinks?.enabled,e.secretLinks?.triggerKeyword,s,i]);const q=w=>{t(N=>{const F={...N};for(const T in w){const E=w[T],k=N[T];E&&typeof E=="object"&&!Array.isArray(E)&&k&&typeof k=="object"&&!Array.isArray(k)?F[T]={...k,...E}:F[T]=E}return F})},M=w=>{q({quickLinks:w})},g=w=>{q({stickyNote:w})},d=()=>{q({introSeen:!0})},W=()=>{const{background:w}=e;switch(w.type){case"solid":return{backgroundColor:w.value};case"gradient":return{backgroundImage:w.value};case"image":return x?{backgroundImage:`url(${x})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{};case"unsplash":case"nasa":case"picsum":case"istanbul":case"space":case"ocean":return{backgroundImage:`url(${w.value})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};default:return{}}},H=()=>{const{background:w}=e;if(!z)return{backgroundColor:"transparent"};const F=w.type==="image"||w.type==="unsplash"||w.type==="nasa"||w.type==="picsum"||w.type==="istanbul"||w.type==="space"||w.type==="ocean"?w.opacity!==void 0?w.opacity/100:.1:1,T=Math.min(Math.max(F,0),1),k=(getComputedStyle(document.documentElement).getPropertyValue("--color-background").trim()||"#ffffff").replace("#",""),Y=parseInt(k.substring(0,2),16),ee=parseInt(k.substring(2,4),16),te=parseInt(k.substring(4,6),16);return{backgroundColor:`rgba(${Y}, ${ee}, ${te}, ${T})`}},O=()=>{const{background:w}=e,N=w.blur||0;return N>0&&(w.type==="image"||w.type==="unsplash"||w.type==="nasa"||w.type==="picsum"||w.type==="istanbul"||w.type==="space"||w.type==="ocean")?{backdropFilter:`blur(${N}px)`,WebkitBackdropFilter:`blur(${N}px)`}:{}};return r?n.jsx("div",{className:"app-container paused-mode",children:n.jsxs("div",{className:"paused-content",children:[n.jsx("img",{src:"img/White/White_128.png",alt:"HotPage",className:"paused-logo"}),n.jsx("h1",{children:"HotPage Paused"}),n.jsx("p",{children:"HotPage is currently paused. Use the extension popup to resume."}),n.jsx("button",{className:"resume-btn",onClick:()=>{chrome.storage.local.set({"hotpage-paused":!1}),o(!1)},children:"Resume HotPage"})]})}):n.jsxs("div",{className:"app",children:[n.jsx("div",{className:"app-background",style:W(),children:n.jsx("div",{className:"app-background-overlay",style:H()})}),n.jsxs("div",{className:"app-content",style:O(),children:[n.jsx(ns,{onOpenSettings:()=>a(!0)}),e.googleShortcuts?.enabled&&n.jsx(Pu,{showGmail:e.googleShortcuts?.showGmail??!0,showAppsMenu:e.googleShortcuts?.showAppsMenu??!0}),n.jsx(ju,{isOpen:s,onClose:()=>a(!1),settings:e,onSettingsChange:q,onOpenStickyNotes:()=>{a(!1),c(!0)},rssStats:L}),i&&n.jsx(Au,{note:e.stickyNote||null,onNoteChange:g,defaultTodos:e.todos,shortcut:e.quickActions?.stickyNoteShortcut||"Alt+N"}),e.widgets.quotes?.enabled&&n.jsx("div",{className:"widgets-top",children:n.jsx(_u,{locale:e.locale})}),n.jsx("div",{className:"spacer"}),n.jsxs("div",{className:"container",children:[n.jsx(Io,{locale:e.locale}),n.jsx(Ao,{}),n.jsx(ts,{links:e.quickLinks,onLinksChange:M,spacingWidgetEnabled:e.quickLinksSpacingWidget??!0})]}),n.jsx("div",{className:"spacer"}),n.jsx("div",{className:"widgets-bottom",children:(e.widgetOrder||["weather","currency","rss"]).filter(w=>w!=="quotes").map(w=>w==="rss"&&e.widgets.rss?.enabled?n.jsx(Ru,{locale:e.locale,settings:e.widgets.rss?.settings,onStatsUpdate:oe},"rss"):w==="weather"&&e.widgets.weather?.enabled?n.jsx(Tu,{locale:e.locale,manualLocation:e.widgets.weather?.settings?.manualLocation,refreshMinutes:e.widgets.weather?.settings?.refreshMinutes},"weather"):w==="currency"&&e.widgets.currency?.enabled?n.jsx(zu,{locale:e.locale,settings:e.widgets.currency?.settings,onSettingsChange:N=>{const F=e.widgets.currency||{enabled:!0};q({widgets:{...e.widgets,currency:{...F,settings:{...F.settings||{},...N}}}})}},"currency"):null)})]}),n.jsx(Uu,{isOpen:!e.introSeen,locale:e.locale,onSkip:d}),m&&e.secretLinks&&n.jsx($u,{settings:e.secretLinks,locale:e.locale,onClose:()=>h(!1),onSettingsChange:w=>{q({secretLinks:w})}})]})}zo.createRoot(document.getElementById("root")).render(n.jsx(y.StrictMode,{children:n.jsx(Wu,{})}));
